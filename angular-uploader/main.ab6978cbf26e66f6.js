"use strict";var uA=Object.defineProperty,dA=Object.defineProperties,fA=Object.getOwnPropertyDescriptors,H0=Object.getOwnPropertySymbols,hA=Object.prototype.hasOwnProperty,pA=Object.prototype.propertyIsEnumerable,hu=(Se,ye,Ee)=>ye in Se?uA(Se,ye,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):Se[ye]=Ee,E=(Se,ye)=>{for(var Ee in ye||(ye={}))hA.call(ye,Ee)&&hu(Se,Ee,ye[Ee]);if(H0)for(var Ee of H0(ye))pA.call(ye,Ee)&&hu(Se,Ee,ye[Ee]);return Se},R=(Se,ye)=>dA(Se,fA(ye)),w=(Se,ye,Ee)=>(hu(Se,"symbol"!=typeof ye?ye+"":ye,Ee),Ee);(self.webpackChunkangular_uploader=self.webpackChunkangular_uploader||[]).push([[179],{315:(Se,ye,Ee)=>{var B0,Lr={};function Ts(t){return"function"==typeof t}Ee.r(Lr),Ee.d(Lr,{ActivityBlock:()=>H,ActivityCaption:()=>TM,ActivityIcon:()=>IM,BaseComponent:()=>ms,Block:()=>se,CameraSource:()=>oM,CloudEditor:()=>Kc,CloudImageEditor:()=>yM,ConfirmationDialog:()=>tM,CropFrame:()=>jM,Data:()=>te,DataOutput:()=>xM,DropArea:()=>ZI,EditableCanvas:()=>S0,EditorCropButtonControl:()=>nu,EditorFilterControl:()=>ru,EditorImageCropper:()=>ZM,EditorImageFader:()=>KM,EditorOperationControl:()=>iu,EditorScroller:()=>eA,EditorSlider:()=>GM,EditorToolbar:()=>V0,ExternalSource:()=>EM,FileItem:()=>Pn,FileUploaderInline:()=>RM,FileUploaderMinimal:()=>FM,FileUploaderRegular:()=>SM,Icon:()=>b0,Img:()=>$I,LineLoaderUi:()=>rA,LrBtnUi:()=>ou,MessageBox:()=>WI,Modal:()=>eM,PresenceToggle:()=>iA,ProgressBar:()=>cM,ProgressBarCommon:()=>lM,Select:()=>MM,SimpleBtn:()=>VI,SliderUi:()=>oA,SourceBtn:()=>T0,SourceList:()=>XI,StartFrom:()=>BI,Tabs:()=>Jc,UploadCtxProvider:()=>sM,UploadDetails:()=>aM,UploadList:()=>nM,UploaderBlock:()=>ue,UrlSource:()=>rM,connectBlocksFrom:()=>sA,registerBlocks:()=>su});let Is=!1;const pt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Is&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Is=t},get useDeprecatedSynchronousErrorHandling(){return Is}};function On(t){setTimeout(()=>{throw t},0)}const Ui={closed:!0,next(t){},error(t){if(pt.useDeprecatedSynchronousErrorHandling)throw t;On(t)},complete(){}},j0=Array.isArray||(t=>t&&"number"==typeof t.length);function pu(t){return null!==t&&"object"==typeof t}const zi=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class de{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof de)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(Ts(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof zi?gu(s.errors):[s]}}if(j0(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(pu(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof zi?e=e.concat(gu(c.errors)):e.push(c)}}}if(e)throw new zi(e)}add(e){let n=e;if(!e)return de.EMPTY;switch(typeof e){case"function":n=new de(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof de)){const o=n;n=new de,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof de){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function gu(t){return t.reduce((e,n)=>e.concat(n instanceof zi?n.errors:n),[])}de.EMPTY=((t=new de).closed=!0,t);const Gi="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Ge extends de{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Ui;break;case 1:if(!e){this.destination=Ui;break}if("object"==typeof e){e instanceof Ge?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new mu(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new mu(this,e,n,r)}}[Gi](){return this}static create(e,n,r){const i=new Ge(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class mu extends Ge{constructor(e,n,r,i){super(),this._parentSubscriber=e;let o,s=this;Ts(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Ui&&(s=Object.create(n),Ts(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;pt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=pt;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):On(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;On(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);pt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),pt.useDeprecatedSynchronousErrorHandling)throw r;On(r)}}__tryOrSetError(e,n,r){if(!pt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return pt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(On(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Or="function"==typeof Symbol&&Symbol.observable||"@@observable";function vu(t){return t}let Be=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function z0(t,e,n){if(t){if(t instanceof Ge)return t;if(t[Gi])return t[Gi]()}return t||e||n?new Ge(t,e,n):new Ge(Ui)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||pt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),pt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){pt.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function U0(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof Ge?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=bu(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[Or](){return this}pipe(...n){return 0===n.length?this:function yu(t){return 0===t.length?vu:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=bu(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function bu(t){if(t||(t=pt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const $r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class G0 extends de{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class _u extends Ge{constructor(e){super(e),this.destination=e}}let Ms=(()=>{class t extends Be{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Gi](){return new _u(this)}lift(n){const r=new wu(this,this);return r.operator=n,r}next(n){if(this.closed)throw new $r;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new $r;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new $r;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new $r;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new $r;return this.hasError?(n.error(this.thrownError),de.EMPTY):this.isStopped?(n.complete(),de.EMPTY):(this.observers.push(n),new G0(this,n))}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new wu(e,n),t})();class wu extends Ms{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):de.EMPTY}}class Z0{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new Y0(e,this.project,this.thisArg))}}class Y0 extends Ge{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const Du=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},qi=function Q0(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Cu=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Eu(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const xu=t=>{if(t&&"function"==typeof t[Or])return(t=>e=>{const n=t[Or]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(Cu(t))return Du(t);if(Eu(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,On),e))(t);if(t&&"function"==typeof t[qi])return(t=>e=>{const n=t[qi]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${pu(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Tu(t,e){return new Be(n=>{const r=new de;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}class a1 extends Ge{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class l1 extends Ge{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function Iu(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(Iu((i,o)=>function s1(t,e){return e?function o1(t,e){if(null!=t){if(function r1(t){return t&&"function"==typeof t[Or]}(t))return function e1(t,e){return new Be(n=>{const r=new de;return r.add(e.schedule(()=>{const i=t[Or]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>n.next(o)))},error(o){r.add(e.schedule(()=>n.error(o)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Eu(t))return function t1(t,e){return new Be(n=>{const r=new de;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(Cu(t))return Tu(t,e);if(function i1(t){return t&&"function"==typeof t[qi]}(t)||"string"==typeof t)return function n1(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{const r=new de;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[qi](),r.add(e.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Be?t:new Be(xu(t))}(t(i,o)).pipe(function W0(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Z0(t,e))}}((s,a)=>e(i,s,o,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new u1(t,n)))}class u1{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new d1(e,this.project,this.concurrent))}}class d1 extends l1{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new a1(this),r=this.destination;r.add(n);const i=function c1(t,e){if(e.closed)return;if(t instanceof Be)return t.subscribe(e);let n;try{n=xu(t)(e)}catch(r){e.error(r)}return n}(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Mu(){return function(e){return e.lift(new g1(e))}}class g1{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new m1(e,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class m1 extends Ge{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class v1 extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new de,e.add(this.source.subscribe(new b1(this.getSubject(),this))),e.closed&&(this._connection=null,e=de.EMPTY)),e}refCount(){return Mu()(this)}}const y1=(()=>{const t=v1.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class b1 extends _u{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}class D1{constructor(e,n){this.subjectFactory=e,this.selector=n}call(e,n){const{selector:r}=this,i=this.subjectFactory(),o=r(i).subscribe(e);return o.add(n.subscribe(i)),o}}function C1(){return new Ms}function Z(t){for(let e in t)if(t[e]===Z)return e;throw Error("Could not find renamed property on target object.")}function G(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(G).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ss(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const x1=Z({__forward_ref__:Z});function ks(t){return t.__forward_ref__=ks,t.toString=function(){return G(this())},t}function N(t){return function Au(t){return"function"==typeof t&&t.hasOwnProperty(x1)&&t.__forward_ref__===ks}(t)?t():t}class U extends Error{constructor(e,n){super(function Fs(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function A(t){return"string"==typeof t?t:null==t?"":String(t)}function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():A(t)}function Wi(t,e){const n=e?` in ${e}`:"";throw new U(-201,`No provider for ${xe(t)} found${n}`)}function We(t,e){null==t&&function Y(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ie(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $n(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rs(t){return Su(t,Zi)||Su(t,Fu)}function Su(t,e){return t.hasOwnProperty(e)?t[e]:null}function ku(t){return t&&(t.hasOwnProperty(Ns)||t.hasOwnProperty(F1))?t[Ns]:null}const Zi=Z({\u0275prov:Z}),Ns=Z({\u0275inj:Z}),Fu=Z({ngInjectableDef:Z}),F1=Z({ngInjectorDef:Z});var F=(()=>((F=F||{})[F.Default=0]="Default",F[F.Host=1]="Host",F[F.Self=2]="Self",F[F.SkipSelf=4]="SkipSelf",F[F.Optional=8]="Optional",F))();let Ps;function an(t){const e=Ps;return Ps=t,e}function Ru(t,e,n){const r=Rs(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&F.Optional?null:void 0!==e?e:void Wi(G(t),"Injector")}function ln(t){return{toString:t}.toString()}var gt=(()=>((gt=gt||{})[gt.OnPush=0]="OnPush",gt[gt.Default=1]="Default",gt))(),kt=(()=>(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(kt||(kt={})),kt))();const N1="undefined"!=typeof globalThis&&globalThis,P1="undefined"!=typeof window&&window,L1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,W=N1||"undefined"!=typeof global&&global||P1||L1,Vn={},X=[],Yi=Z({\u0275cmp:Z}),Ls=Z({\u0275dir:Z}),Os=Z({\u0275pipe:Z}),Nu=Z({\u0275mod:Z}),Wt=Z({\u0275fac:Z}),Vr=Z({__NG_ELEMENT_ID__:Z});let O1=0;function $s(t){return ln(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||X,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kt.Emulated,id:"c",styles:t.styles||X,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,s=t.pipes;return r.id+=O1++,r.inputs=$u(t.inputs,n),r.outputs=$u(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Pu):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Lu):null,r})}function Pu(t){return Te(t)||function cn(t){return t[Ls]||null}(t)}function Lu(t){return function xn(t){return t[Os]||null}(t)}const Ou={};function Br(t){return ln(()=>{const e={type:t.type,bootstrap:t.bootstrap||X,declarations:t.declarations||X,imports:t.imports||X,exports:t.exports||X,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Ou[t.id]=t.type),e})}function $u(t,e){if(null==t)return Vn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const tt=$s;function Te(t){return t[Yi]||null}function nt(t,e){const n=t[Nu]||null;if(!n&&!0===e)throw new Error(`Type ${G(t)} does not have '\u0275mod' property.`);return n}const P=11,J=20;function Ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function vt(t){return Array.isArray(t)&&!0===t[1]}function Hs(t){return 0!=(8&t.flags)}function Ji(t){return 2==(2&t.flags)}function eo(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function U1(t){return 0!=(512&t[2])}function An(t,e){return t.hasOwnProperty(Wt)?t[Wt]:null}class q1{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Bu(t){return t.type.prototype.ngOnChanges&&(t.setInput=Z1),W1}function W1(){const t=ju(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Vn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Z1(t,e,n,r){const i=ju(t)||function Y1(t,e){return t[Hu]=e}(t,{previous:Vn,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new q1(l&&l.currentValue,e,s===Vn),t[r]=e}const Hu="__ngSimpleChanges__";function ju(t){return t[Hu]||null}let qs;function ae(t){return!!t.listen}const Uu={createRenderer:(t,e)=>function Ws(){return void 0!==qs?qs:"undefined"!=typeof document?document:void 0}()};function pe(t){for(;Array.isArray(t);)t=t[0];return t}function ot(t,e){return pe(e[t.index])}function Zs(t,e){return t.data[e]}function Ye(t,e){const n=e[t];return Ft(n)?n:n[0]}function Ys(t){return 128==(128&t[2])}function un(t,e){return null==e?null:t[e]}function Gu(t){t[18]=0}function Xs(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const S={lFrame:ed(null),bindingsEnabled:!0};function Wu(){return S.bindingsEnabled}function y(){return S.lFrame.lView}function j(){return S.lFrame.tView}function be(){let t=Zu();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zu(){return S.lFrame.currentTNode}function Rt(t,e){const n=S.lFrame;n.currentTNode=t,n.isParent=e}function Qs(){return S.lFrame.isParent}function Gn(){return S.lFrame.bindingIndex++}function hv(t,e){const n=S.lFrame;n.bindingIndex=n.bindingRootIndex=t,Js(e)}function Js(t){S.lFrame.currentDirectiveIndex=t}function ta(t){S.lFrame.currentQueryIndex=t}function gv(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Ku(t,e,n){if(n&F.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&F.Host||(i=gv(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=S.lFrame=Ju();return r.currentTNode=e,r.lView=t,!0}function io(t){const e=Ju(),n=t[1];S.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ju(){const t=S.lFrame,e=null===t?null:t.child;return null===e?ed(t):e}function ed(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function td(){const t=S.lFrame;return S.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nd=td;function oo(){const t=td();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fe(){return S.lFrame.selectedIndex}function dn(t){S.lFrame.selectedIndex=t}function le(){const t=S.lFrame;return Zs(t.tView,t.selectedIndex)}function so(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function ao(t,e,n){rd(t,e,3,n)}function lo(t,e,n,r){(3&t[2])===n&&rd(t,e,n,r)}function na(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function rd(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<o||-1==o)&&(Ev(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function Ev(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Gr{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function co(t,e,n){const r=ae(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];ia(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function id(t){return 3===t||4===t||6===t}function ia(t){return 64===t.charCodeAt(0)}function uo(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||od(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function od(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function sd(t){return-1!==t}function qn(t){return 32767&t}function Wn(t,e){let n=function Av(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let oa=!0;function fo(t){const e=oa;return oa=t,e}let Sv=0;function Wr(t,e){const n=aa(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,sa(r.data,t),sa(e,null),sa(r.blueprint,null));const i=ho(t,e),o=t.injectorIndex;if(sd(i)){const s=qn(i),a=Wn(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function sa(t,e){t.push(0,0,0,0,0,0,0,0,e)}function aa(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ho(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function po(t,e,n){!function kv(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vr)&&(r=n[Vr]),null==r&&(r=n[Vr]=Sv++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function cd(t,e,n){if(n&F.Optional)return t;Wi(e,"NodeInjector")}function ud(t,e,n,r){if(n&F.Optional&&void 0===r&&(r=null),0==(n&(F.Self|F.Host))){const i=t[9],o=an(void 0);try{return i?i.get(e,r,n&F.Optional):Ru(e,r,n&F.Optional)}finally{an(o)}}return cd(r,e,n)}function dd(t,e,n,r=F.Default,i){if(null!==t){const o=function Pv(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vr)?t[Vr]:void 0;return"number"==typeof e?e>=0?255&e:Rv:e}(n);if("function"==typeof o){if(!Ku(e,t,r))return r&F.Host?cd(i,n,r):ud(e,n,r,i);try{const s=o(r);if(null!=s||r&F.Optional)return s;Wi(n)}finally{nd()}}else if("number"==typeof o){let s=null,a=aa(t,e),l=-1,c=r&F.Host?e[16][6]:null;for((-1===a||r&F.SkipSelf)&&(l=-1===a?ho(t,e):e[a+8],-1!==l&&pd(r,!1)?(s=e[1],a=qn(l),e=Wn(l,e)):a=-1);-1!==a;){const u=e[1];if(hd(o,a,u.data)){const d=Nv(a,e,n,s,r,c);if(d!==fd)return d}l=e[a+8],-1!==l&&pd(r,e[1].data[a+8]===c)&&hd(o,a,e)?(s=u,a=qn(l),e=Wn(l,e)):a=-1}}}return ud(e,n,r,i)}const fd={};function Rv(){return new Zn(be(),y())}function Nv(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function go(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&yt(h)&&h.type===n)return l}return null}(a,s,n,null==r?Ji(a)&&oa:r!=s&&0!=(3&a.type),i&F.Host&&o===a);return null!==u?Zr(e,s,u,a):fd}function Zr(t,e,n,r){let i=t[n];const o=e.data;if(function xv(t){return t instanceof Gr}(i)){const s=i;s.resolving&&function T1(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new U(-200,`Circular dependency in DI detected for ${t}${n}`)}(xe(o[n]));const a=fo(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?an(s.injectImpl):null;Ku(t,r,F.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function Cv(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Bu(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&an(l),fo(a),s.resolving=!1,nd()}}return i}function hd(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function pd(t,e){return!(t&F.Self||t&F.Host&&e)}class Zn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dd(this._tNode,this._lView,e,r,n)}}const Xn="__parameters__";function Kn(t,e,n){return ln(()=>{const r=function ua(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Xn)?l[Xn]:Object.defineProperty(l,Xn,{value:[]})[Xn];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Nt(t,e){t.forEach(n=>Array.isArray(n)?Nt(n,e):e(n))}function md(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Kr={},pa="__NG_DI_FLAG__",yo="ngTempTokenPath",Wv=/\n/gm,wd="__source",Yv=Z({provide:String,useValue:Z});let Jr;function Dd(t){const e=Jr;return Jr=t,e}function Xv(t,e=F.Default){if(void 0===Jr)throw new U(203,"");return null===Jr?Ru(t,void 0,e):Jr.get(t,e&F.Optional?null:void 0,e)}function Q(t,e=F.Default){return(function R1(){return Ps}()||Xv)(N(t),e)}const Qv=Q;function ga(t){const e=[];for(let n=0;n<t.length;n++){const r=N(t[n]);if(Array.isArray(r)){if(0===r.length)throw new U(900,"");let i,o=F.Default;for(let s=0;s<r.length;s++){const a=r[s],l=Kv(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function ei(t,e){return t[pa]=e,t.prototype[pa]=e,t}function Kv(t){return t[pa]}const bo=ei(Kn("Optional"),8),_o=ei(Kn("SkipSelf"),4);class kd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const _y=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ge=(()=>((ge=ge||{})[ge.NONE=0]="NONE",ge[ge.HTML=1]="HTML",ge[ge.STYLE=2]="STYLE",ge[ge.SCRIPT=3]="SCRIPT",ge[ge.URL=4]="URL",ge[ge.RESOURCE_URL=5]="RESOURCE_URL",ge))();function Ea(t){const e=function ii(){const t=y();return t&&t[12]}();return e?e.sanitize(ge.URL,t)||"":function ni(t,e){const n=function my(t){return t instanceof kd&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function hn(t){return t instanceof kd?t.changingThisBreaksApplicationSecurity:t}(t):function Eo(t){return(t=String(t)).match(_y)||t.match(wy)?t:"unsafe:"+t}(A(t))}const Hd="__ngContext__";function Me(t,e){t[Hd]=e}function Ta(t){const e=function oi(t){return t[Hd]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ma(t){return t.ngOriginalError}function zy(t,...e){t.error(...e)}class si{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function Uy(t){return t&&t.ngErrorLogger||zy}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ma(e);for(;n&&Ma(n);)n=Ma(n);return n||null}}const eb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W))();function Lt(t){return t instanceof Function?t():t}var Qe=(()=>((Qe=Qe||{})[Qe.Important=1]="Important",Qe[Qe.DashCase=2]="DashCase",Qe))();function Sa(t,e){return undefined(t,e)}function ai(t){const e=t[3];return vt(e)?e[3]:e}function ka(t){return Xd(t[13])}function Fa(t){return Xd(t[4])}function Xd(t){for(;null!==t&&!vt(t);)t=t[4];return t}function rr(t,e,n,r,i){if(null!=r){let o,s=!1;vt(r)?o=r:Ft(r)&&(s=!0,r=r[0]);const a=pe(r);0===t&&null!==n?null==i?nf(e,n,a):Sn(e,n,a,i||null,!0):1===t&&null!==n?Sn(e,n,a,i||null,!0):2===t?function uf(t,e,n){const r=To(t,e);r&&function pb(t,e,n,r){ae(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function vb(t,e,n,r,i){const o=n[7];o!==pe(n)&&rr(e,t,r,o,i);for(let a=10;a<n.length;a++){const l=n[a];li(l[1],l,t,e,r,o)}}(e,t,o,n,i)}}function Na(t,e,n){if(ae(t))return t.createElement(e,n);{const r=null!==n?function J1(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function Kd(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Xs(i,-1)),n.splice(r,1)}function Pa(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Kd(i,r),e>0&&(t[n-1][4]=r[4]);const o=mo(t,10+e);!function sb(t,e){li(t,e,e[P],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Jd(t,e){if(!(256&e[2])){const n=e[P];ae(n)&&n.destroyNode&&li(t,e,n,3,null,null),function cb(t){let e=t[13];if(!e)return La(t[1],t);for(;e;){let n=null;if(Ft(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ft(e)&&La(e[1],e),e=e[3];null===e&&(e=t),Ft(e)&&La(e[1],e),n=e&&e[4]}e=n}}(e)}}function La(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function hb(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Gr)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function fb(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):pe(e[s]),l=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&ae(e[P])&&e[P].destroy();const n=e[17];if(null!==n&&vt(e[3])){n!==e[3]&&Kd(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function ef(t,e,n){return function tf(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===kt.None||i===kt.Emulated)return null}return ot(r,n)}(t,e.parent,n)}function Sn(t,e,n,r,i){ae(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function nf(t,e,n){ae(t)?t.appendChild(e,n):e.appendChild(n)}function rf(t,e,n,r,i){null!==r?Sn(t,e,n,r,i):nf(t,e,n)}function To(t,e){return ae(t)?t.parentNode(e):e.parentNode}let af=function sf(t,e,n){return 40&t.type?ot(t,n):null};function Io(t,e,n,r){const i=ef(t,r,e),o=e[P],a=function of(t,e,n){return af(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)rf(o,i,n[l],a,!1);else rf(o,i,n,a,!1)}function Mo(t,e){if(null!==e){const n=e.type;if(3&n)return ot(e,t);if(4&n)return $a(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Mo(t,r);{const i=t[e.index];return vt(i)?$a(-1,i):pe(i)}}if(32&n)return Sa(e,t)()||pe(t[e.index]);{const r=cf(t,e);return null!==r?Array.isArray(r)?r[0]:Mo(ai(t[16]),r):Mo(t,e.next)}}return null}function cf(t,e){return null!==e?t[16][6].projection[e.projection]:null}function $a(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return Mo(r,i)}return e[7]}function Va(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Me(pe(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Va(t,e,n.child,r,i,o,!1),rr(e,t,i,a,o);else if(32&l){const c=Sa(n,r);let u;for(;u=c();)rr(e,t,i,u,o);rr(e,t,i,a,o)}else 16&l?df(t,e,r,n,i,o):rr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function li(t,e,n,r,i,o){Va(n,r,t.firstChild,e,i,o,!1)}function df(t,e,n,r,i,o){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)rr(e,t,i,l[c],o);else Va(t,e,l,s[3],i,o,!0)}function ff(t,e,n){ae(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ba(t,e,n){ae(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function hf(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const pf="ng-template";function bb(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==hf(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function gf(t){return 4===t.type&&t.value!==pf}function _b(t,e,n){return e===(4!==t.type||n?t.value:pf)}function wb(t,e,n){let r=4;const i=t.attrs||[],o=function Eb(t){for(let e=0;e<t.length;e++)if(id(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!_b(t,l,n)||""===l&&1===e.length){if(bt(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!bb(t.attrs,c,n)){if(bt(r))return!1;s=!0}continue}const d=Db(8&r?"class":l,i,gf(t),n);if(-1===d){if(bt(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==hf(h,c,0)||2&r&&c!==f){if(bt(r))return!1;s=!0}}}}else{if(!s&&!bt(r)&&!bt(l))return!1;if(s&&bt(l))continue;s=!1,r=l|1&r}}return bt(r)||s}function bt(t){return 0==(1&t)}function Db(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function xb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function mf(t,e,n=!1){for(let r=0;r<e.length;r++)if(wb(t,e[r],n))return!0;return!1}function vf(t,e){return t?":not("+e.trim()+")":e}function Ib(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!bt(s)&&(e+=vf(o,i),i=""),r=s,o=o||!bt(r);n++}return""!==i&&(e+=vf(o,i)),e}const k={};function bf(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&ao(e,o,n)}else{const o=t.preOrderHooks;null!==o&&lo(e,o,0,n)}dn(n)}function Sf(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];ta(i),s.contentQueries(2,e[o],o)}}}function ci(t,e,n,r,i,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Gu(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[P]=a||t&&t[P],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function ir(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Ka(t,e,n,r,i){const o=Zu(),s=Qs(),l=t.data[e]=function Gb(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(t,e,n,r,i),function fv(){return S.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function zr(){const t=S.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Rt(o,!0),o}function or(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ui(t,e,n){io(e);try{const r=t.viewQuery;null!==r&&al(1,r,n);const i=t.template;null!==i&&kf(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Sf(t,e),t.staticViewQueries&&al(2,t.viewQuery,n);const o=t.components;null!==o&&function jb(t,e){for(let n=0;n<e.length;n++)c_(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,oo()}}function sr(t,e,n,r){const i=e[2];if(256!=(256&i)){io(e);try{Gu(e),function Yu(t){return S.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&kf(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&ao(e,c,null)}else{const c=t.preOrderHooks;null!==c&&lo(e,c,0,null),na(e,0)}if(function a_(t){for(let e=ka(t);null!==e;e=Fa(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&Xs(o,1),i[2]|=1024}}}(e),function s_(t){for(let e=ka(t);null!==e;e=Fa(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Ys(r)&&sr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Sf(t,e),s){const c=t.contentCheckHooks;null!==c&&ao(e,c)}else{const c=t.contentHooks;null!==c&&lo(e,c,1),na(e,1)}!function Bb(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)dn(~i);else{const o=i,s=n[++r],a=n[++r];hv(s,o),a(2,e[o])}}}finally{dn(-1)}}(t,e);const a=t.components;null!==a&&function Hb(t,e){for(let n=0;n<e.length;n++)l_(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&al(2,l,r),s){const c=t.viewCheckHooks;null!==c&&ao(e,c)}else{const c=t.viewHooks;null!==c&&lo(e,c,2),na(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Xs(e[3],-1))}finally{oo()}}}function Ub(t,e,n,r){const i=e[10],s=function zu(t){return 4==(4&t[2])}(e);try{!s&&i.begin&&i.begin(),s&&ui(t,e,r),sr(t,e,n,r)}finally{!s&&i.end&&i.end()}}function kf(t,e,n,r,i){const o=Fe(),s=2&r;try{dn(-1),s&&e.length>J&&bf(t,e,J,!1),n(r,i)}finally{dn(o)}}function Ja(t,e,n){!Wu()||(function Kb(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Wr(n,e),Me(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=yt(l);c&&r_(e,n,l);const u=Zr(e,t,a,n);Me(u,e),null!==s&&i_(0,a-i,u,l,0,s),c&&(Ye(n.index,e)[8]=u)}}(t,e,n,ot(n,e)),128==(128&n.flags)&&function Jb(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function pv(){return S.lFrame.currentDirectiveIndex}();try{dn(s);for(let l=r;l<i;l++){const c=t.data[l],u=e[l];Js(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Bf(c,u)}}finally{dn(-1),Js(a)}}(t,e,n))}function el(t,e,n=ot){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Rf(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fo(t,e,n,r,i,o,s,a,l,c){const u=J+r,d=u+i,f=function zb(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:k);return n}(u,d),h="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function Of(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ke(t,e,n,r,i,o,s,a){const l=ot(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Xf(t,n,u,r,i),Ji(e)&&function Zb(t,e){const n=Ye(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function Wb(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,ae(o)?o.setProperty(l,r,i):ia(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function tl(t,e,n,r){let i=!1;if(Wu()){const o=function e_(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];mf(n,s.selectors,!1)&&(i||(i=[]),po(Wr(n,e),t,s.type),yt(s)?(Hf(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,jf(n,t.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=or(t,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];n.mergedAttrs=uo(n.mergedAttrs,d.hostAttrs),Uf(t,n,e,c,d),n_(c,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),c++}!function qb(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,f=null===o||gf(e)?null:o_(d,o);s.push(f),a=Of(d,c,a),l=Of(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(t,n)}s&&function t_(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=uo(n.mergedAttrs,n.attrs),i}function Vf(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function Qb(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function Bf(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hf(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function n_(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function jf(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Uf(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=An(i.type)),s=new Gr(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Vf(t,e,0,r,or(t,n,i.hostVars,k),i)}function r_(t,e,n){const r=ot(e,t),i=Rf(n),o=t[10],s=Ro(t,ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function i_(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function o_(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function zf(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function l_(t,e){const n=Ye(e,t);if(Ys(n)){const r=n[1];80&n[2]?sr(r,n,r.template,n[8]):n[5]>0&&rl(n)}}function rl(t){for(let r=ka(t);null!==r;r=Fa(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];sr(s,o,s.template,o[8])}else o[5]>0&&rl(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Ye(n[r],t);Ys(i)&&i[5]>0&&rl(i)}}function c_(t,e){const n=Ye(e,t),r=n[1];(function u_(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),ui(r,n,n[8])}function Ro(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function il(t){for(;t;){t[2]|=64;const e=ai(t);if(U1(t)&&!e)return t;t=e}return null}function Gf(t){!function ol(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ta(n),i=r[1];Ub(i,r,i.template,n)}}(t[8])}function al(t,e,n){ta(0),e(t,n)}const f_=(()=>Promise.resolve(null))();function qf(t){return t[7]||(t[7]=[])}function Wf(t){return t.cleanup||(t.cleanup=[])}function Yf(t,e){const n=t[9],r=n?n.get(si,null):null;r&&r.handleError(e)}function Xf(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function No(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Ss(i,a):2==o&&(r=Ss(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ll=new q("INJECTOR",-1);class Qf{get(e,n=Kr){if(n===Kr){const r=new Error(`NullInjectorError: No provider for ${G(e)}!`);throw r.name="NullInjectorError",r}return n}}const cl=new q("Set Injector scope."),di={},g_={};let ul;function Kf(){return void 0===ul&&(ul=new Qf),ul}function Jf(t,e=null,n=null,r){const i=eh(t,e,n,r);return i._resolveInjectorDefTypes(),i}function eh(t,e=null,n=null,r){return new m_(t,n,e||Kf(),r)}class m_{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&Nt(n,a=>this.processProvider(a,e,n)),Nt([e],a=>this.processInjectorType(a,[],o)),this.records.set(ll,ar(void 0,this));const s=this.records.get(cl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:G(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Kr,r=F.Default){this.assertNotDestroyed();const i=Dd(this),o=an(void 0);try{if(!(r&F.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function E_(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&Rs(e);a=l&&this.injectableDefInScope(l)?ar(dl(e),di):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&F.Self?Kf():this.parent).get(e,n=r&F.Optional&&n===Kr?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[yo]=s[yo]||[]).unshift(G(e)),i)throw s;return function Jv(t,e,n,r){const i=t[yo];throw e[wd]&&i.unshift(e[wd]),t.message=function ey(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=G(e);if(Array.isArray(e))i=e.map(G).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):G(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Wv,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[yo]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{an(o),Dd(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(G(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processInjectorType(e,n,r){if(!(e=N(e)))return!1;let i=ku(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=ku(o)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(s);try{Nt(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:h}=u[d];Nt(h,p=>this.processProvider(p,f,h||X))}}this.injectorDefTypes.add(s);const l=An(s)||(()=>new s);this.records.set(s,ar(l,di));const c=i.providers;if(null!=c&&!a){const u=e;Nt(c,d=>this.processProvider(d,u,c))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=lr(e=N(e))?e:N(e&&e.provide);const o=function y_(t,e,n){return nh(t)?ar(void 0,t.useValue):ar(function th(t,e,n){let r;if(lr(t)){const i=N(t);return An(i)||dl(i)}if(nh(t))r=()=>N(t.useValue);else if(function __(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ga(t.deps||[]));else if(function b_(t){return!(!t||!t.useExisting)}(t))r=()=>Q(N(t.useExisting));else{const i=N(t&&(t.useClass||t.provide));if(!function D_(t){return!!t.deps}(t))return An(i)||dl(i);r=()=>new i(...ga(t.deps))}return r}(t),di)}(e);if(lr(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=ar(void 0,di,!0),s.factory=()=>ga(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===di&&(n.value=g_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function C_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=N(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function dl(t){const e=Rs(t),n=null!==e?e.factory:An(t);if(null!==n)return n;if(t instanceof q)throw new U(204,!1);if(t instanceof Function)return function v_(t){const e=t.length;if(e>0)throw function Qr(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new U(204,!1);const n=function S1(t){const e=t&&(t[Zi]||t[Fu]);if(e){const n=function k1(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new U(204,!1)}function ar(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function nh(t){return null!==t&&"object"==typeof t&&Yv in t}function lr(t){return"function"==typeof t}let $t=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return Jf({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return Jf({name:o},n.parent,n.providers,o)}}}return t.THROW_IF_NOT_FOUND=Kr,t.NULL=new Qf,t.\u0275prov=ie({token:t,providedIn:"any",factory:()=>Q(ll)}),t.__NG_ELEMENT_ID__=-1,t})();function F_(t,e){so(Ta(t)[1],be())}let Po=null;function cr(){if(!Po){const t=W.Symbol;if(t&&t.iterator)Po=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Po=r)}}}return Po}function fi(t){return!!function gl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&cr()in t)}function Ae(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function $(t,e=F.Default){const n=y();return null===n?Q(t,e):dd(be(),n,N(t),e)}function _l(t,e,n){const r=y();return Ae(r,Gn(),e)&&Ke(j(),le(),r,t,e,r[P],n,!1),_l}function wl(t,e,n,r,i){const s=i?"class":"style";Xf(t,n,e.inputs[s],s,r)}function _r(t,e,n,r){const i=y(),o=j(),s=J+t,a=i[P],l=i[s]=Na(a,e,function Dv(){return S.lFrame.currentNamespace}()),c=o.firstCreatePass?function fw(t,e,n,r,i,o,s){const a=e.consts,c=ir(e,t,2,i,un(a,o));return tl(e,n,c,un(a,s)),null!==c.attrs&&No(c,c.attrs,!1),null!==c.mergedAttrs&&No(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,n,r):o.data[s];Rt(c,!0);const u=c.mergedAttrs;null!==u&&co(a,l,u);const d=c.classes;null!==d&&Ba(a,l,d);const f=c.styles;return null!==f&&ff(a,l,f),64!=(64&c.flags)&&Io(o,i,l,c),0===function ov(){return S.lFrame.elementDepthCount}()&&Me(l,i),function sv(){S.lFrame.elementDepthCount++}(),eo(c)&&(Ja(o,i,c),function Ff(t,e,n){if(Hs(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,c,i)),null!==r&&el(i,c),_r}function pi(){let t=be();Qs()?function Ks(){S.lFrame.isParent=!1}():(t=t.parent,Rt(t,!1));const e=t;!function av(){S.lFrame.elementDepthCount--}();const n=j();return n.firstCreatePass&&(so(n,t),Hs(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Iv(t){return 0!=(16&t.flags)}(e)&&wl(n,e,y(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Mv(t){return 0!=(32&t.flags)}(e)&&wl(n,e,y(),e.stylesWithoutHost,!1),pi}function $o(t,e,n,r){return _r(t,e,n,r),pi(),$o}function El(t){return!!t&&"function"==typeof t.then}const gw=function $h(t){return!!t&&"function"==typeof t.subscribe};function xl(t,e,n,r){const i=y(),o=j(),s=be();return function Bh(t,e,n,r,i,o,s,a){const l=eo(r),u=t.firstCreatePass&&Wf(t),d=e[8],f=qf(e);let h=!0;if(3&r.type||a){const v=ot(r,e),b=a?a(v):v,g=f.length,_=a?I=>a(pe(I[r.index])):r.index;if(ae(n)){let I=null;if(!a&&l&&(I=function mw(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,h=!1;else{o=Tl(r,e,d,o,!1);const M=n.listen(b,i,o);f.push(o,M),u&&u.push(i,_,g,g+1)}}else o=Tl(r,e,d,o,!0),b.addEventListener(i,o,s),f.push(o),u&&u.push(i,_,g,s)}else o=Tl(r,e,d,o,!1);const p=r.outputs;let m;if(h&&null!==p&&(m=p[i])){const v=m.length;if(v)for(let b=0;b<v;b+=2){const ne=e[m[b]][m[b+1]].subscribe(o),z=f.length;f.push(o,ne),u&&u.push(i,r.index,z,-(z+1))}}}(o,i,i[P],s,t,e,!!n,r),xl}function Hh(t,e,n,r){try{return!1!==n(r)}catch(i){return Yf(t,i),!1}}function Tl(t,e,n,r,i){return function o(s){if(s===Function)return r;const a=2&t.flags?Ye(t.index,e):e;0==(32&e[2])&&il(a);let l=Hh(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Hh(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Vo(t,e,n,r,i){const o=y(),s=function dr(t,e,n,r){return Ae(t,Gn(),n)?e+A(n)+r:k}(o,e,n,r);return s!==k&&Ke(j(),le(),o,t,s,o[P],i,!1),Vo}const Ho="en-US";let Np=Ho;class og{}class lC{resolveComponentFactory(e){throw function aC(t){const e=Error(`No component factory found for ${G(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let qo=(()=>{class t{}return t.NULL=new lC,t})();function cC(){return Er(be(),y())}function Er(t,e){return new xr(ot(t,e))}let xr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=cC,t})();class ag{}let hC=(()=>{class t{}return t.\u0275prov=ie({token:t,providedIn:"root",factory:()=>null}),t})();class Pl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pC=new Pl("13.3.11"),Ll={};function Wo(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(pe(o)),vt(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Wo(l[1],l,c,r)}const s=n.type;if(8&s)Wo(t,e,n.child,r);else if(32&s){const a=Sa(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=cf(e,n);if(Array.isArray(a))r.push(...a);else{const l=ai(e[16]);Wo(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class _i{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Wo(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(vt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Pa(e,r),mo(n,r))}this._attachedToViewContainer=!1}Jd(this._lView[1],this._lView)}onDestroy(e){!function Lf(t,e,n,r){const i=qf(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Wf(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){il(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function sl(t,e,n){const r=e[10];r.begin&&r.begin();try{sr(t,e,t.template,n)}catch(i){throw Yf(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lb(t,e){li(t,e,e[P],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,"");this._appRef=e}}class gC extends _i{constructor(e){super(e),this._view=e}detectChanges(){Gf(this._view)}checkNoChanges(){}get context(){return null}}class cg extends qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Te(e);return new Ol(n,this.ngModule)}}function ug(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Ol extends og{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Mb(t){return t.map(Ib).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return ug(this.componentDef.inputs)}get outputs(){return ug(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function vC(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ll,i);return o!==Ll||r===Ll?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(ag,Uu),a=o.get(hC,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function Pf(t,e,n){if(ae(t))return t.selectRootElement(e,n===kt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Na(s.createRenderer(null,this.componentDef),c,function mC(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,f=function hh(t,e){return{components:[],scheduler:t||eb,clean:f_,playerHandler:e||null,flags:0}}(),h=Fo(0,null,null,1,0,null,null,null,null,null),p=ci(null,h,f,d,null,null,s,l,a,o);let m,v;io(p);try{const b=function dh(t,e,n,r,i,o){const s=n[1];n[20]=t;const l=ir(s,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(No(l,c,!0),null!==t&&(co(i,t,c),null!==l.classes&&Ba(i,t,l.classes),null!==l.styles&&ff(i,t,l.styles)));const u=r.createRenderer(t,e),d=ci(n,Rf(e),null,e.onPush?64:16,n[20],l,r,u,o||null,null);return s.firstCreatePass&&(po(Wr(l,n),s,e.type),Hf(s,l),jf(l,n.length,1)),Ro(n,d),n[20]=d}(u,this.componentDef,p,s,l);if(u)if(r)co(l,u,["ng-version",pC.full]);else{const{attrs:g,classes:_}=function Ab(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!bt(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);g&&co(l,u,g),_&&_.length>0&&Ba(l,u,_.join(" "))}if(v=Zs(h,J),void 0!==n){const g=v.projection=[];for(let _=0;_<this.ngContentSelectors.length;_++){const I=n[_];g.push(null!=I?Array.from(I):null)}}m=function fh(t,e,n,r,i){const o=n[1],s=function Xb(t,e,n){const r=be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Uf(t,r,e,or(t,e,1,null),n));const i=Zr(e,t,r.directiveStart,r);Me(i,e);const o=ot(r,e);return o&&Me(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=be();e.contentQueries(1,s,l.directiveStart)}const a=be();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(dn(a.index),Vf(n[1],a,0,a.directiveStart,a.directiveEnd,e),Bf(e,s)),s}(b,this.componentDef,p,f,[F_]),ui(h,p,null)}finally{oo()}return new bC(this.componentType,m,Er(v,p),p,v)}}class bC extends class sC{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new gC(i),this.componentType=e}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Tr{}const Ir=new Map;class hg extends Tr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cg(this);const r=nt(e);this._bootstrapComponents=Lt(r.bootstrap),this._r3Injector=eh(e,n,[{provide:Tr,useValue:this},{provide:qo,useValue:this.componentFactoryResolver}],G(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=$t.THROW_IF_NOT_FOUND,r=F.Default){return e===$t||e===Tr||e===ll?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $l extends class wC{}{constructor(e){super(),this.moduleType=e,null!==nt(e)&&function DC(t){const e=new Set;!function n(r){const i=nt(r,!0),o=i.id;null!==o&&(function dg(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${G(e)} vs ${G(e.name)}`)}(o,Ir.get(o),r),Ir.set(o,r));const s=Lt(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new hg(this.moduleType,e)}}function Vl(t){return e=>{setTimeout(t,void 0,e)}}const Kt=class BC extends Ms{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,l=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=Vl(l),a&&(a=Vl(a)),c&&(c=Vl(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof de&&e.add(u),u}};Symbol;let Jt=(()=>{class t{}return t.__NG_ELEMENT_ID__=zC,t})();const jC=Jt,UC=class extends jC{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=ci(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),ui(n,r,e),new _i(r)}};function zC(){return function Zo(t,e){return 4&t.type?new UC(e,t,Er(t,e)):null}(be(),y())}let jt=(()=>{class t{}return t.__NG_ELEMENT_ID__=GC,t})();function GC(){return function wg(t,e){let n;const r=e[t.index];if(vt(r))n=r;else{let i;if(8&t.type)i=pe(r);else{const o=e[P];i=o.createComment("");const s=ot(t,e);Sn(o,To(o,s),i,function gb(t,e){return ae(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=zf(r,e,i,t),Ro(e,n)}return new bg(n,t,e)}(be(),y())}const qC=jt,bg=class extends qC{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Er(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const e=ho(this._hostTNode,this._hostLView);if(sd(e)){const n=Wn(e,this._hostLView),r=qn(e);return new Zn(n[1].data[r+8],n)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=_g(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,o){const s=e&&!function Xr(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.ngModuleRef}const l=s?e:new Ol(Te(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?c:this.parentInjector).get(Tr,null);f&&(o=f)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,n){const r=e._lView,i=r[1];if(function iv(t){return vt(t[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],f=new bg(d,d[6],d[3]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function ub(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],md(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function db(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,s,o);const a=$a(o,s),l=r[P],c=To(l,s[7]);return null!==c&&function ab(t,e,n,r,i,o){r[0]=i,r[6]=e,li(t,r,n,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),md(Hl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=_g(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Pa(this._lContainer,n);r&&(mo(Hl(this._lContainer),n),Jd(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Pa(this._lContainer,n);return r&&null!=mo(Hl(this._lContainer),n)?new _i(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function _g(t){return t[8]}function Hl(t){return t[8]||(t[8]=[])}function Qo(...t){}const Ug=new q("Application Initializer");let Kl=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Qo,this.reject=Qo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(El(o))n.push(o);else if(gw(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Q(Ug,8))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ei=new q("AppId",{providedIn:"root",factory:function zg(){return`${Jl()}${Jl()}${Jl()}`}});function Jl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gg=new q("Platform Initializer"),qg=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),DE=new q("appBootstrapListener"),mn=new q("LocaleId",{providedIn:"root",factory:()=>Qv(mn,F.Optional|F.SkipSelf)||function CE(){return"undefined"!=typeof $localize&&$localize.locale||Ho}()}),IE=(()=>Promise.resolve(0))();function ec(t){"undefined"==typeof Zone?IE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function ME(){let t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function kE(t){const e=()=>{!function SE(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,nc(t),t.isCheckStableRunning=!0,tc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),nc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Wg(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Zg(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return Wg(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Zg(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,nc(t),tc(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,AE,Qo,Qo);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const AE={};function tc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Wg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zg(t){t._nesting--,tc(t)}class FE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let rc=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),ec(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ec(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Q(Ue))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),RE=(()=>{class t{constructor(){this._applications=new Map,ic.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return ic.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class NE{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let ic=new NE,Rn=null;const Yg=new q("AllowMultipleToken"),Xg=new q("PlatformOnDestroy");function Qg(t,e,n=[]){const r=`Platform: ${e}`,i=new q(r);return(o=[])=>{let s=oc();if(!s||s.injector.get(Yg,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function $E(t){if(Rn&&!Rn.get(Yg,!1))throw new U(400,"");Rn=t;const e=t.get(Kg),n=t.get(Gg,null);n&&n.forEach(r=>r())}(function BE(t=[],e){return $t.create({name:e,providers:[{provide:cl,useValue:"platform"},{provide:Xg,useValue:()=>Rn=null},...t]})}(a,r))}return function VE(t){const e=oc();if(!e)throw new U(401,"");return e}()}}function oc(){var t;return null!==(t=null==Rn?void 0:Rn.get(Kg))&&void 0!==t?t:null}let Kg=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function HE(t,e){let n;return n="noop"===t?new FE:("zone.js"===t?void 0:t)||new Ue({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:Ue,useValue:a}];return a.run(()=>{const c=$t.create({providers:l,parent:this.injector,name:n.moduleType.name}),u=n.create(c),d=u.injector.get(si,null);if(!d)throw new U(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});u.onDestroy(()=>{sc(this._modules,u),f.unsubscribe()})}),function jE(t,e,n){try{const r=n();return El(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const f=u.injector.get(Kl);return f.runInitializers(),f.donePromise.then(()=>(function uD(t){We(t,"Expected localeId to be defined"),"string"==typeof t&&(Np=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(mn,Ho)||Ho),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const i=Jg({},r);return function LE(t,e,n){const r=new $l(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(em);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new U(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Xg,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Q($t))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Jg(t,e){return Array.isArray(e)?e.reduce(Jg,t):Object.assign(Object.assign({},t),e)}let em=(()=>{class t{constructor(n,r,i,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Be(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Be(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),ec(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function p1(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return function q0(t){return t&&"function"==typeof t.schedule}(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Be?t[0]:function f1(t=Number.POSITIVE_INFINITY){return Iu(vu,t)}(e)(function h1(t,e){return e?Tu(t,e):new Be(Du(t))}(t,n))}(s,a.pipe(function E1(){return t=>Mu()(function w1(t,e){return function(r){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new D1(i,e));const o=Object.create(r,y1);return o.source=r,o.subjectFactory=i,o}}(C1)(t))}()))}bootstrap(n,r){if(!this._initStatus.done)throw new U(405,"");let i;i=n instanceof og?n:this._injector.get(qo).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function OE(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Tr),a=i.create($t.NULL,[],r||i.selector,o),l=a.location.nativeElement,c=a.injector.get(rc,null),u=c&&a.injector.get(RE);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),sc(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new U(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;sc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(DE,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(Q(Ue),Q($t),Q(si),Q(Kl))},t.\u0275prov=ie({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let nm=!0;class am{constructor(){}supports(e){return fi(e)}create(e){return new JE(e)}}const KE=(t,e)=>e;class JE{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KE}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<cm(r,i,o)?n:r,a=cm(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!fi(e))throw new U(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function j_(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[cr()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new e2(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new lm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class e2{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class t2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class lm{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new t2,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cm(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function dm(){return new es([new am])}let es=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||dm()),deps:[[t,new _o,new bo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new U(901,"")}}return t.\u0275prov=ie({token:t,providedIn:"root",factory:dm}),t})();const s2=Qg(null,"core",[]);let a2=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Q(em))},t.\u0275mod=Br({type:t}),t.\u0275inj=$n({}),t})(),ts=null;function Ti(){return ts}const Ut=new q("DocumentToken");class J2{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cm=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new J2(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Em(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Em(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)($(jt),$(Jt),$(es))},t.\u0275dir=tt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Em(t,e){t.context.$implicit=e.item}let Mx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Br({type:t}),t.\u0275inj=$n({}),t})();class Ec extends class Nx extends class u2{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function c2(t){ts||(ts=t)}(new Ec)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Px(){return Ai=Ai||document.querySelector("base"),Ai?Ai.getAttribute("href"):null}();return null==n?null:function Lx(t){ds=ds||document.createElement("a"),ds.setAttribute("href",t);const e=ds.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ai=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function X2(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let ds,Ai=null;const Sm=new q("TRANSITION_ID"),$x=[{provide:Ug,useFactory:function Ox(t,e,n){return()=>{n.get(Kl).donePromise.then(()=>{const r=Ti(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Sm,Ut,$t],multi:!0}];class xc{static init(){!function PE(t){ic=t}(new xc)}addToWindow(e){W.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},W.getAllAngularTestabilities=()=>e.getAllTestabilities(),W.getAllAngularRootElements=()=>e.getAllRootElements(),W.frameworkStabilizers||(W.frameworkStabilizers=[]),W.frameworkStabilizers.push(r=>{const i=W.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ti().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Vx=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const fs=new q("EventManagerPlugins");let hs=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Q(fs),Q(Ue))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class km{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ti().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Fm=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})(),Si=(()=>{class t extends Fm{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Rm),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Rm))}}return t.\u0275fac=function(n){return new(n||t)(Q(Ut))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();function Rm(t){Ti().remove(t)}const Tc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ic=/%COMP%/g;function ps(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ps(t,i,n):(i=i.replace(Ic,t),n.push(i))}return n}function Lm(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Mc=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ac(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case kt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Gx(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case kt.ShadowDom:return new qx(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ps(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Q(hs),Q(Si),Q(Ei))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();class Ac{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Tc[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Tc[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Tc[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qe.DashCase|Qe.Important)?e.style.setProperty(n,r,i&Qe.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qe.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Lm(r)):this.eventManager.addEventListener(e,n,Lm(r))}}class Gx extends Ac{constructor(e,n,r,i){super(e),this.component=r;const o=ps(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function jx(t){return"_ngcontent-%COMP%".replace(Ic,t)}(i+"-"+r.id),this.hostAttr=function Ux(t){return"_nghost-%COMP%".replace(Ic,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class qx extends Ac{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ps(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Wx=(()=>{class t extends km{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Q(Ut))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const $m=["alt","control","meta","shift"],Yx={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Qx=(()=>{class t extends km{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ti().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="";if($m.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function Kx(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Vm.hasOwnProperty(e)&&(e=Vm[e]))}return Yx[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$m.forEach(o=>{o!=i&&Xx[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{t.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Q(Ut))},t.\u0275prov=ie({token:t,factory:t.\u0275fac}),t})();const nT=Qg(s2,"browser",[{provide:qg,useValue:"browser"},{provide:Gg,useValue:function Jx(){Ec.makeCurrent(),xc.init()},multi:!0},{provide:Ut,useFactory:function tT(){return function ev(t){qs=t}(document),document},deps:[]}]),rT=[{provide:cl,useValue:"root"},{provide:si,useFactory:function eT(){return new si},deps:[]},{provide:fs,useClass:Wx,multi:!0,deps:[Ut,Ue,qg]},{provide:fs,useClass:Qx,multi:!0,deps:[Ut]},{provide:Mc,useClass:Mc,deps:[hs,Si,Ei]},{provide:ag,useExisting:Mc},{provide:Fm,useExisting:Si},{provide:Si,useClass:Si,deps:[Ut]},{provide:rc,useClass:rc,deps:[Ue]},{provide:hs,useClass:hs,deps:[fs,Ue]},{provide:class Rx{},useClass:Vx,deps:[]}];let iT=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ei,useValue:n.appId},{provide:Sm,useExisting:Ei},$x]}}}return t.\u0275fac=function(n){return new(n||t)(Q(t,12))},t.\u0275mod=Br({type:t}),t.\u0275inj=$n({providers:rT,imports:[Mx,a2]}),t})();function jm(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function ut(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){jm(o,r,i,s,a,"next",l)}function a(l){jm(o,r,i,s,a,"throw",l)}s(void 0)})}}"undefined"!=typeof window&&window;var gT=Object.defineProperty,kc=(t,e,n)=>(((t,e,n)=>{e in t?gT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),te=class{constructor(t){t.constructor===Object?this.store=function vT(t){let e=n=>{var r;for(let i in n)(null==(r=n[i])?void 0:r.constructor)===Object&&(n[i]=e(n[i]));return E({},n)};return e(t)}(t):(this._storeIsProxy=!0,this.store=t),this.callbackMap=Object.create(null)}static warn(t,e){console.warn(`Symbiote Data: cannot ${t}. Prop name: `+e)}read(t){return this._storeIsProxy||this.store.hasOwnProperty(t)?this.store[t]:(te.warn("read",t),null)}has(t){return this._storeIsProxy?void 0!==this.store[t]:this.store.hasOwnProperty(t)}add(t,e,n=!1){n||!Object.keys(this.store).includes(t)?(this.store[t]=e,this.notify(t)):e!==this.store[t]&&this.notify(t)}pub(t,e){this._storeIsProxy||this.store.hasOwnProperty(t)?(this.store[t]=e,this.notify(t)):te.warn("publish",t)}multiPub(t){for(let e in t)this.pub(e,t[e])}notify(t){this.callbackMap[t]&&this.callbackMap[t].forEach(e=>{e(this.store[t])})}sub(t,e,n=!0){return this._storeIsProxy||this.store.hasOwnProperty(t)?(this.callbackMap[t]||(this.callbackMap[t]=new Set),this.callbackMap[t].add(e),n&&e(this.store[t]),{remove:()=>{this.callbackMap[t].delete(e),this.callbackMap[t].size||delete this.callbackMap[t]},callback:e}):(te.warn("subscribe",t),null)}static registerCtx(t,e=Symbol()){let n=te.globalStore.get(e);return n?console.warn('State: context UID "'+e+'" already in use'):(n=new te(t),te.globalStore.set(e,n)),n}static deleteCtx(t){te.globalStore.delete(t)}static getCtx(t,e=!0){return te.globalStore.get(t)||(e&&console.warn('State: wrong context UID - "'+t+'"'),null)}};te.globalStore=new Map;var B=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template"}),Um="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",yT=Um.length-1,Fc=class{static generate(t="XXXXXXXXX-XXX"){let e="";for(let n=0;n<t.length;n++)e+="-"===t[n]?t[n]:Um.charAt(Math.random()*yT);return e}};function zm(t,e,n){let i,r=!0,o=e.split(".");return o.forEach((s,a)=>{a<o.length-1?t=t[s]:i=s}),t?t[i]=n:r=!1,r}var ki="}}",IT=[function _T(t,e){[...t.querySelectorAll(`[${B.REPEAT_ATTR}]`)].forEach(n=>{let i,r=n.getAttribute(B.REPEAT_ITEM_TAG_ATTR);for(r&&(i=window.customElements.get(r)),i||(i=class extends e.BaseComponent{constructor(){super(),r||(this.style.display="contents")}},i.template=n.innerHTML,i.reg(r));n.firstChild;)n.firstChild.remove();let o=n.getAttribute(B.REPEAT_ATTR);e.sub(o,s=>{if(!s){for(;n.firstChild;)n.firstChild.remove();return}let l,a=[...n.children],c=u=>{u.forEach((f,h)=>{if(a[h])if(a[h].set$)a[h].set$(f);else for(let p in f)a[h][p]=f[p];else{l||(l=new DocumentFragment);let p=new i;Object.assign(p.init$,f),l.appendChild(p)}}),l&&n.appendChild(l);let d=a.slice(u.length,a.length);for(let f of d)f.remove()};if(s.constructor===Array)c(s);else if(s.constructor===Object){let u=[];for(let d in s){let f=s[d];Object.defineProperty(f,"_KEY_",{value:d,enumerable:!0}),u.push(f)}c(u)}else console.warn("Symbiote repeat data type error:"),console.log(s)}),n.removeAttribute(B.REPEAT_ATTR),n.removeAttribute(B.REPEAT_ITEM_TAG_ATTR)})},function wT(t,e){if(e.shadowRoot)return;let n=[...t.querySelectorAll("slot")];if(e.initChildren.length&&n.length){let r={};n.forEach(i=>{let o=i.getAttribute("name");o?r[o]={slot:i,fr:document.createDocumentFragment()}:r.__default__={slot:i,fr:document.createDocumentFragment()}}),e.initChildren.forEach(i=>{var o;let s=null==(o=i.getAttribute)?void 0:o.call(i,"slot");s?(i.removeAttribute("slot"),r[s].fr.appendChild(i)):r.__default__&&r.__default__.fr.appendChild(i)}),Object.values(r).forEach(i=>{i.slot.parentNode.insertBefore(i.fr,i.slot),i.slot.remove()})}},function DT(t,e){[...t.querySelectorAll(`[${B.EL_REF_ATTR}]`)].forEach(n=>{let r=n.getAttribute(B.EL_REF_ATTR);e.ref[r]=n,n.removeAttribute(B.EL_REF_ATTR)})},function CT(t,e){[...t.querySelectorAll(`[${B.BIND_ATTR}]`)].forEach(n=>{let i=n.getAttribute(B.BIND_ATTR).split(";");[...n.attributes].forEach(o=>{if(o.name.startsWith("-")&&o.value){let s=function bT(t){return t.split("-").map((e,n)=>e&&n?e[0].toUpperCase()+e.slice(1):e).join("").split("_").map((e,n)=>e&&n?e.toUpperCase():e).join("")}(o.name.replace("-",""));i.push(s+":"+o.value),n.removeAttribute(o.name)}}),i.forEach(o=>{if(!o)return;let l,s=o.split(":").map(u=>u.trim()),a=s[0];0===a.indexOf(B.ATTR_BIND_PRFX)&&(l=!0,a=a.replace(B.ATTR_BIND_PRFX,""));let c=s[1].split(",").map(u=>u.trim());for(let u of c){let d;u.startsWith("!!")?(d="double",u=u.replace("!!","")):u.startsWith("!")&&(d="single",u=u.replace("!","")),e.sub(u,f=>{"double"===d?f=!!f:"single"===d&&(f=!f),l?(null==f?void 0:f.constructor)===Boolean?f?n.setAttribute(a,""):n.removeAttribute(a):n.setAttribute(a,f):zm(n,a,f)||(n[B.SET_LATER_KEY]||(n[B.SET_LATER_KEY]=Object.create(null)),n[B.SET_LATER_KEY][a]=f)})}}),n.removeAttribute(B.BIND_ATTR)})},function(t,e){(function xT(t){let e,n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:i=>{var o;return!(null==(o=i.parentElement)?void 0:o.hasAttribute("skip-text"))&&i.textContent.includes("{{")&&i.textContent.includes(ki)&&1}});for(;e=r.nextNode();)n.push(e);return n})(t).forEach(r=>{let o,i=[];for(;r.textContent.includes(ki);)r.textContent.startsWith("{{")?(o=r.textContent.indexOf(ki)+ki.length,r.splitText(o),i.push(r)):(o=r.textContent.indexOf("{{"),r.splitText(o)),r=r.nextSibling;i.forEach(s=>{let a=s.textContent.replace("{{","").replace(ki,"");s.textContent="",e.sub(a,l=>{s.textContent=l})})})}],Gm=0,Ar=null,tn=null,yn=class extends HTMLElement{constructor(){super(),kc(this,"updateCssData",()=>{var t;this.dropCssDataCache(),null==(t=this.__boundCssProps)||t.forEach(e=>{let n=this.getCssData(this.__extractCssName(e),!0);this.$[e]!==n&&(this.$[e]=n)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return yn}initCallback(){}__initCallback(){var t;this.__initialized||(this.__initialized=!0,null==(t=this.initCallback)||t.call(this))}render(t,e=this.renderShadow){let n;if((e||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let i=this.getAttribute(B.USE_TPL);if(i){let o=this.getRootNode(),s=(null==o?void 0:o.querySelector(i))||document.querySelector(i);s?t=s.content.cloneNode(!0):console.warn(`Symbiote template "${i}" is not found...`)}}if(this.processInnerHtml)for(let i of this.tplProcessors)i(this,this);if(t||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(null==t?void 0:t.constructor)===DocumentFragment)n=t;else if((null==t?void 0:t.constructor)===String){let i=document.createElement("template");i.innerHTML=t,n=i.content.cloneNode(!0)}else this.constructor.__tpl&&(n=this.constructor.__tpl.content.cloneNode(!0));for(let i of this.tplProcessors)i(n,this)}let r=()=>{n&&(e&&this.shadowRoot.appendChild(n)||this.appendChild(n)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){e=!0;let i=document.createElement("link");i.rel="stylesheet",i.href=this.constructor.__shadowStylesUrl,i.onload=r,this.shadowRoot.prepend(i)}else r()}addTemplateProcessor(t){this.tplProcessors.add(t)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=Fc.generate(),this.style.setProperty(B.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(B.CSS_CTX_PROP,!0)}get ctxName(){var t;return(null==(t=this.getAttribute(B.CTX_NAME_ATTR))?void 0:t.trim())||this.cssCtxName||this.autoCtxName}get localCtx(){return this.__localCtx||(this.__localCtx=te.registerCtx({},this)),this.__localCtx}get nodeCtx(){return te.getCtx(this.ctxName,!1)||te.registerCtx({},this.ctxName)}static __parseProp(t,e){let n,r;if(t.startsWith(B.EXT_DATA_CTX_PRFX))n=e.nodeCtx,r=t.replace(B.EXT_DATA_CTX_PRFX,"");else if(t.includes(B.NAMED_DATA_CTX_SPLTR)){let i=t.split(B.NAMED_DATA_CTX_SPLTR);n=te.getCtx(i[0]),r=i[1]}else n=e.localCtx,r=t;return{ctx:n,name:r}}sub(t,e,n=!0){let r=o=>{!this.isConnected||e(o)},i=yn.__parseProp(t,this);i.ctx.has(t)?this.allSubs.add(i.ctx.sub(i.name,r,n)):window.setTimeout(()=>{this.allSubs.add(i.ctx.sub(i.name,r,n))})}notify(t){let e=yn.__parseProp(t,this);e.ctx.notify(e.name)}has(t){let e=yn.__parseProp(t,this);return e.ctx.has(e.name)}add(t,e,n=!1){let r=yn.__parseProp(t,this);r.ctx.add(r.name,e,n)}add$(t,e=!1){for(let n in t)this.add(n,t[n],e)}get $(){return this.__stateProxy||(this.__stateProxy=new Proxy(Object.create(null),{set:(e,n,r)=>{let i=yn.__parseProp(n,this);return i.ctx.pub(i.name,r),!0},get:(e,n)=>{let r=yn.__parseProp(n,this);return r.ctx.read(r.name)}})),this.__stateProxy}set$(t,e=!1){for(let n in t){let r=t[n];(e||![String,Number,Boolean].includes(null==r?void 0:r.constructor)||this.$[n]!==r)&&(this.$[n]=r)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(B.CTX_OWNER_ATTR)&&"false"!==this.getAttribute(B.CTX_OWNER_ATTR)}__initDataCtx(){let t=this.constructor.__attrDesc;if(t)for(let e of Object.values(t))Object.keys(this.init$).includes(e)||(this.init$[e]="");for(let e in this.init$)if(e.startsWith(B.EXT_DATA_CTX_PRFX))this.nodeCtx.add(e.replace(B.EXT_DATA_CTX_PRFX,""),this.init$[e],this.__ctxOwner);else if(e.includes(B.NAMED_DATA_CTX_SPLTR)){let n=e.split(B.NAMED_DATA_CTX_SPLTR),r=n[0].trim(),i=n[1].trim();if(r&&i){let o=te.getCtx(r,!1);o||(o=te.registerCtx({},r)),o.add(i,this.init$[e])}}else this.localCtx.add(e,this.init$[e]);for(let e in this.cssInit$)this.bindCssData(e,this.cssInit$[e]);this.__dataCtxInitialized=!0}connectedCallback(){var t;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=null==(t=this.getAttribute(B.CTX_NAME_ATTR))?void 0:t.trim();if(e&&this.style.setProperty(B.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this[B.SET_LATER_KEY]){for(let n in this[B.SET_LATER_KEY])zm(this,n,this[B.SET_LATER_KEY][n]);delete this[B.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let n of IT)this.addTemplateProcessor(n);this.pauseRender?this.__initCallback():this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){!this.connectedOnce||(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{this.destroyCallback();for(let t of this.allSubs)t.remove(),this.allSubs.delete(t);for(let t of this.tplProcessors)this.tplProcessors.delete(t);null==tn||tn.delete(this.updateCssData),(null==tn?void 0:tn.size)||(null==Ar||Ar.disconnect(),Ar=null,tn=null)},100)))}static reg(t,e=!1){t||(Gm++,t=`${B.AUTO_TAG_PRFX}-${Gm}`),this.__tag=t,window.customElements.get(t)?console.warn(`${t} - is already in "customElements" registry`):window.customElements.define(t,e?class extends(this){}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(t){this.observedAttributes=Object.keys(t),this.__attrDesc=t}attributeChangedCallback(t,e,n){var r;if(e===n)return;let i=null==(r=this.constructor.__attrDesc)?void 0:r[t];i?this.__dataCtxInitialized?this.$[i]=n:this.init$[i]=n:this[t]=n}getCssData(t,e=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(t)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let n=this.__computedStyle.getPropertyValue(t).trim();n.startsWith("'")&&n.endsWith("'")&&(n=n.replace(/\'/g,'"'));try{this.__cssDataCache[t]=JSON.parse(n)}catch(r){!e&&console.warn(`CSS Data error: ${t}`),this.__cssDataCache[t]=null}}return this.__cssDataCache[t]}__extractCssName(t){return t.split("--").map((e,n)=>0===n?"":e).join("--")}__initStyleAttrObserver(){tn||(tn=new Set),tn.add(this.updateCssData),Ar||(Ar=new MutationObserver(t=>{"attributes"===t[0].type&&tn.forEach(e=>{e()})}),Ar.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}))}bindCssData(t,e=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(t);let n=this.getCssData(this.__extractCssName(t),!0);null===n&&(n=e),this.add(t,n),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(t,e,n){let r="__"+t;this[r]=this[t],Object.defineProperty(this,t,{set:i=>{this[r]=i,n?window.setTimeout(()=>{null==e||e(i)}):null==e||e(i)},get:()=>this[r]}),this[t]=this[r]}static set shadowStyles(t){let e=new Blob([t],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(e)}},ms=yn;kc(ms,"template");var Rc=class{static _print(t){console.warn(t)}static setDefaultTitle(t){this.defaultTitle=t}static setRoutingMap(t){Object.assign(this.appMap,t);for(let e in this.appMap)this.defaultRoute||!0!==this.appMap[e].default?!this.errorRoute&&!0===this.appMap[e].error&&(this.errorRoute=e):this.defaultRoute=e}static set routingEventName(t){this.__routingEventName=t}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let t={route:null,options:{}};return window.location.search.split(this.separator).forEach(n=>{if(n.includes("?"))t.route=n.replace("?","");else if(n.includes("=")){let r=n.split("=");t.options[r[0]]=decodeURI(r[1])}else t.options[n]=!0}),t}static notify(){let t=this.readAddressBar(),e=this.appMap[t.route];if(e&&e.title&&(document.title=e.title),null===t.route&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!e&&this.errorRoute)return void this.applyRoute(this.errorRoute);if(!e&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!e)return void this._print(`Route "${t.route}" not found...`);let n=new CustomEvent(Rc.routingEventName,{detail:{route:t.route,options:Object.assign(e||{},t.options)}});window.dispatchEvent(n)}static reflect(t,e={}){let n=this.appMap[t];if(!n)return void this._print("Wrong route: "+t);let r="?"+t;for(let o in e)r+=!0===e[o]?this.separator+o:this.separator+o+`=${e[o]}`;let i=n.title||this.defaultTitle||"";window.history.pushState(null,i,r),document.title=i}static applyRoute(t,e={}){this.reflect(t,e),this.notify()}static setSeparator(t){this._separator=t}static get separator(){return this._separator||"&"}static createRouterData(t,e){this.setRoutingMap(e);let n=te.registerCtx({route:null,options:null,title:null},t);return window.addEventListener(this.routingEventName,r=>{var i;n.multiPub({route:r.detail.route,options:r.detail.options,title:(null==(i=r.detail.options)?void 0:i.title)||this.defaultTitle||""})}),Rc.notify(),this.initPopstateListener(),n}static initPopstateListener(){this.__onPopstate||(this.__onPopstate=()=>{this.notify()},window.addEventListener("popstate",this.__onPopstate))}static removePopstateListener(){window.removeEventListener("popstate",this.__onPopstate),this.__onPopstate=null}};function qm(t,e){for(let n in e)n.includes("-")?t.style.setProperty(n,e[n]):t.style[n]=e[n]}function Nc(t={tag:"div"}){let e=document.createElement(t.tag);if(t.attributes&&function MT(t,e){for(let n in e)e[n].constructor===Boolean?e[n]?t.setAttribute(n,""):t.removeAttribute(n):t.setAttribute(n,e[n])}(e,t.attributes),t.styles&&qm(e,t.styles),t.properties)for(let n in t.properties)e[n]=t.properties[n];return t.processors&&t.processors.forEach(n=>{n(e)}),t.children&&t.children.forEach(n=>{let r=Nc(n);e.appendChild(r)}),e}Rc.appMap=Object.create(null);var Wm="idb-store-ready",Zm=class{static get readyEventName(){return Wm}static open(t="symbiote-db",e="store"){let n=t+"/"+e;return this._reg[n]||(this._reg[n]=new class{_notifyWhenReady(t=null){window.dispatchEvent(new CustomEvent(Wm,{detail:{dbName:this.name,storeName:this.storeName,event:t}}))}get _updEventName(){return"symbiote-idb-update_"+this.name}_getUpdateEvent(t){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:t}})}_notifySubscribers(t){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,t),window.dispatchEvent(this._getUpdateEvent(t))}constructor(t,e){var n=this;this.name=t,this.storeName=e,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=r=>{this.db=r.target.result,this.objStore=this.db.createObjectStore(e,{keyPath:"_key"}),this.objStore.transaction.oncomplete=i=>{this._notifyWhenReady(i)}},this.request.onsuccess=r=>{this.db=r.target.result,this._notifyWhenReady(r)},this.request.onerror=r=>{console.error(r)},this._subscriptionsMap={},this._updateHandler=r=>{r.key===this.name&&this._subscriptionsMap[r.newValue]&&this._subscriptionsMap[r.newValue].forEach(function(){var o=ut(function*(s){s(yield n.read(r.newValue))});return function(s){return o.apply(this,arguments)}}())},this._localUpdateHandler=r=>{this._updateHandler(r.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(t){let n=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(t);return new Promise((r,i)=>{n.onsuccess=o=>{var s;(null==(s=o.target.result)?void 0:s._value)?r(o.target.result._value):(r(null),console.warn(`IDB: cannot read "${t}"`))},n.onerror=o=>{i(o)}})}write(t,e,n=!1){let r={_key:t,_value:e},o=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(r);return new Promise((s,a)=>{o.onsuccess=l=>{n||this._notifySubscribers(t),s(l.target.result)},o.onerror=l=>{a(l)}})}delete(t,e=!1){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(t);return new Promise((i,o)=>{r.onsuccess=s=>{e||this._notifySubscribers(t),i(s)},r.onerror=s=>{o(s)}})}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((n,r)=>{e.onsuccess=i=>{n(i.target.result.map(s=>s._value))},e.onerror=i=>{r(i)}})}subscribe(t,e){this._subscriptionsMap[t]||(this._subscriptionsMap[t]=new Set);let n=this._subscriptionsMap[t];return n.add(e),{remove:()=>{n.delete(e),n.size||delete this._subscriptionsMap[t]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,Zm.clear(this.name)}}(t,e)),this._reg[n]}static clear(t){window.indexedDB.deleteDatabase(t);for(let e in this._reg)e.split("/")[0]===t&&delete this._reg[e]}};kc(Zm,"_reg",Object.create(null));const FT=t=>t;function Pc(t,e,{openToken:n="{{",closeToken:r="}}",transform:i=FT}={}){var o;for(let s in e){let a=null==(o=e[s])?void 0:o.toString();t=t.replaceAll(n+s+r,"string"==typeof a?i(a):a)}return t}function RT(t,e){[...t.querySelectorAll("[l10n]")].forEach(n=>{let r=n.getAttribute("l10n"),i="textContent";if(r.includes(":")){let s=r.split(":");i=s[0],r=s[1]}let o="l10n:"+r;e.__l10nKeys.push(o),e.add(o,r),e.sub(o,s=>{n[i]=e.l10n(s)}),n.removeAttribute("l10n")})}const Ym={"*ctxTargetsRegistry":new Set},Xm=R(E({},Ym),{"*currentActivity":"","*currentActivityParams":{},"*history":[],"*activityCaption":"","*activityIcon":""}),Qm=R(E({},Xm),{"*commonProgress":0,"*uploadList":[],"*outputData":null,"*focusedEntry":null,"*uploadMetadata":null});class se extends ms{constructor(){super(),w(this,"allowCustomTemplate",!0),w(this,"ctxInit",Ym),w(this,"init$",this.ctxInit),this.activityType=null,this.addTemplateProcessor(RT),this.__l10nKeys=[]}l10n(e,n={}){return Pc(this.getCssData("--l10n-"+e,!0)||e,n)}applyL10nKey(e,n){this.$["l10n:"+e]=n,this.__l10nKeys.push(e)}checkCtxTarget(e){let n=this.$["*ctxTargetsRegistry"];return null==n?void 0:n.has(e)}setForCtxTarget(e,n,r){this.checkCtxTarget(e)&&(this.$[n]=r)}connectedCallback(){this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.isConnected&&this.__ctxOwner&&(te.getCtx(this.ctxName).store={}),super.connectedCallback()}initCallback(){var e;null==(e=this.$["*ctxTargetsRegistry"])||e.add(this.constructor.is)}fileSizeFmt(e,n=2){let r=["B","KB","MB","GB","TB"],i=l=>this.getCssData("--l10n-unit-"+l.toLowerCase(),!0)||l;if(0===e)return`0 ${i(r[0])}`;let s=n<0?0:n,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/1024**a).toFixed(s))+" "+i(r[a])}proxyUrl(e){let n=this.getCssData("--cfg-secure-delivery-proxy",!0);return n?Pc(n,{previewUrl:e},{transform:r=>window.encodeURIComponent(r)}):e}static reg(e){e?super.reg(e.startsWith("lr-")?e:"lr-"+e):super.reg()}}const Fi="___ACTIVITY_IS_ACTIVE___",Pr=class extends se{constructor(){super(...arguments),w(this,"ctxInit",Xm)}initCallback(){super.initCallback(),this.hasAttribute("current-activity")&&this.sub("*currentActivity",e=>{this.setAttribute("current-activity",e)}),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",e=>{var i,o;let r=Pr._activityRegistry[this.ctxName+this.activityType];if(this.activityType!==e&&this[Fi])this[Fi]=!1,this.removeAttribute("active"),null==(i=null==r?void 0:r.deactivateCallback)||i.call(r);else if(this.activityType===e&&!this[Fi]){this[Fi]=!0,this.setAttribute("active",""),null==(o=null==r?void 0:r.activateCallback)||o.call(r);let s=this.$["*history"];s&&(s.length>10&&(s=s.slice(s.length-11,s.length-1)),s.push(this.activityType),this.$["*history"]=s)}}))}get isActivityActive(){return this[Fi]}registerActivity(e,n,r){Pr._activityRegistry||(Pr._activityRegistry=Object.create(null)),Pr._activityRegistry[this.ctxName+e]={activateCallback:n,deactivateCallback:r}}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let e=this.$["*history"];if(e){e.pop();let n=e.pop();this.$["*currentActivity"]=n,this.$["*history"]=e}}};let H=Pr;w(H,"_activityRegistry",Object.create(null)),H.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CONFIRMATION:"confirmation",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external",DETAILS:"details"});const PT=["image/*","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"];class Le extends Error{constructor(e,n,r,i,o){super(),this.name="UploadClientError",this.message=e,this.code=n,this.request=r,this.response=i,this.headers=o,Object.setPrototypeOf(this,Le.prototype)}}const Lc=(t="Request canceled")=>{const e=new Le(t);return e.isCancel=!0,e},vs=(t,e)=>{t&&(t.aborted?Promise.resolve().then(e):t.addEventListener("abort",()=>e(),{once:!0}))},nn=({method:t,url:e,data:n,headers:r={},signal:i,onProgress:o})=>new Promise((s,a)=>{const l=new XMLHttpRequest,c=(null==t?void 0:t.toUpperCase())||"GET";let u=!1;l.open(c,e),r&&Object.entries(r).forEach(d=>{const[f,h]=d;void 0!==h&&!Array.isArray(h)&&l.setRequestHeader(f,h)}),l.responseType="text",vs(i,()=>{u=!0,l.abort(),a(Lc())}),l.onload=()=>{if(200!=l.status)a(new Error(`Error ${l.status}: ${l.statusText}`));else{const d={method:c,url:e,data:n,headers:r||void 0,signal:i,onProgress:o},f=l.getAllResponseHeaders().trim().split(/[\r\n]+/),h={};f.forEach(function(v){const b=v.split(": "),g=b.shift(),_=b.join(": ");g&&void 0!==g&&(h[g]=_)}),s({request:d,data:l.response,headers:h,status:l.status})}},l.onerror=()=>{u||a(new Error("Network error"))},o&&"function"==typeof o&&(l.upload.onprogress=d=>{o(d.lengthComputable?{isComputable:!0,value:d.loaded/d.total}:{isComputable:!1})}),n?l.send(n):l.send()}),Ri=t=>void 0!==t&&("undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Buffer&&t instanceof Buffer),e0=t=>{const n=new RegExp("[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}");return!Ri(t)&&n.test(t)},t0=t=>{const n=new RegExp("^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$");return!Ri(t)&&n.test(t)};function UT(t,e,n){if((t=>!!t&&"object"==typeof t&&"data"in t&&Ri(t.data))(n)){const{name:r,contentType:i}=n,o=n.data,s=(({name:t})=>t?[t]:[])({name:r,contentType:i});t.push([e,o,...s])}else if((t=>!!t&&"object"==typeof t&&!Array.isArray(t))(n))for(const[r,i]of Object.entries(n))void 0!==i&&t.push([`${e}[${r}]`,String(i)]);else(t=>"string"==typeof t||"number"==typeof t||void 0===t)(n)&&n&&t.push([e,n.toString()])}function Oc(t){const e=new FormData,n=function zT(t){const e=[];for(const[n,r]of Object.entries(t))UT(e,n,r);return e}(t);for(const r of n){const[i,o,...s]=r;e.append(i,o,...s)}return e}const bn=(t,e,n)=>{const r=new URL(t);return r.pathname=e,n&&(r.search=(t=>{const e=new URLSearchParams;for(const[n,r]of Object.entries(t))r&&"object"==typeof r&&!Array.isArray(r)?Object.entries(r).filter(i=>{var o;return null!=(o=i[1])&&o}).forEach(i=>e.set(`${n}[${i[0]}]`,String(i[1]))):Array.isArray(r)?r.forEach(i=>{e.append(`${n}[]`,i)}):"string"==typeof r&&r?e.set(n,r):"number"==typeof r&&e.set(n,r.toString());return e.toString()})(n)),r.toString()},K_baseCDN="https://ucarecdn.com",K_baseURL="https://upload.uploadcare.com",K_retryThrottledRequestMaxTimes=1,K_multipartMinFileSize=26214400,K_multipartChunkSize=5242880,K_maxConcurrentRequests=4,K_multipartMaxAttempts=3,K_pusherKey="79ae88bd931ea68464d9",n0="original";function r0(t){return"[object Object]"===Object.prototype.toString.call(t)}const ZT=/\W|_/g;function YT(t){return t.split(ZT).map((e,n)=>e.charAt(0)[n>0?"toUpperCase":"toLowerCase"]()+e.slice(1)).join("")}function o0(t,{ignoreKeys:e}={ignoreKeys:[]}){return Array.isArray(t)?t.map(n=>zt(n,{ignoreKeys:e})):t}function zt(t,{ignoreKeys:e}={ignoreKeys:[]}){if(Array.isArray(t))return o0(t,{ignoreKeys:e});if(!r0(t))return t;const n={};for(const r of Object.keys(t)){let i=t[r];e.includes(r)?n[r]=i:(r0(i)?i=zt(i,{ignoreKeys:e}):Array.isArray(i)&&(i=o0(i,{ignoreKeys:e})),n[YT(r)]=i)}return n}function s0({libraryName:t,libraryVersion:e,userAgent:n,publicKey:r="",integration:i=""}){const o="JavaScript";return"string"==typeof n?n:"function"==typeof n?n({publicKey:r,libraryName:t,libraryVersion:e,languageName:o,integration:i}):`${[t,e,r].filter(Boolean).join("/")} (${[o,i].filter(Boolean).join("; ")})`}const QT={factor:2,time:100};function a0(t,e=QT){let n=0;return function r(i){const o=Math.round(e.time*e.factor**n);return i({attempt:n,retry:a=>(t=>new Promise(e=>setTimeout(e,t)))(null!=a?a:o).then(()=>(n+=1,r(i)))})}(t)}function _n(t){return s0(E({libraryName:"UploadcareUploadClient",libraryVersion:"4.3.0"},t))}function wn(t,e){return a0(({attempt:n,retry:r})=>t().catch(i=>{if("response"in i&&"RequestThrottledError"===(null==i?void 0:i.code)&&n<e)return r(function nI(t){const{headers:e}=t||{};return e&&1e3*Number.parseInt(e["x-throttle-wait-seconds"])||15e3}(i));throw i}))}function $c(t){return void 0===t?"auto":t?"1":"0"}var ys=(()=>(function(t){t.Token="token",t.FileInfo="file_info"}(ys||(ys={})),ys))();var Oe=(()=>(function(t){t.Unknown="unknown",t.Waiting="waiting",t.Progress="progress",t.Error="error",t.Success="success"}(Oe||(Oe={})),Oe))();function Vc(t,{publicKey:e,baseURL:n=K_baseURL,signal:r,source:i,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=K_retryThrottledRequestMaxTimes}){return wn(()=>nn({method:"GET",headers:{"X-UC-User-Agent":_n({publicKey:e,integration:o,userAgent:s})},url:bn(n,"/info/",{jsonerrors:1,pub_key:e,file_id:t,source:i}),signal:r}).then(({data:l,headers:c,request:u})=>{const d=zt(JSON.parse(l));if("error"in d)throw new Le(d.error.content,d.error.errorCode,u,d,c);return d}),a)}class Ni{constructor(e,{baseCDN:n,fileName:r}){this.name=null,this.size=null,this.isStored=null,this.isImage=null,this.mimeType=null,this.cdnUrl=null,this.s3Url=null,this.originalFilename=null,this.imageInfo=null,this.videoInfo=null,this.contentInfo=null,this.metadata=null,this.s3Bucket=null;const{uuid:i,s3Bucket:o}=e,s=`${n}/${i}/`,a=o?`https://${o}.s3.amazonaws.com/${i}/${e.filename}`:null;this.uuid=i,this.name=r||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=s,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=o||null,this.s3Url=a}}const g0=({check:t,interval:e=500,signal:n})=>new Promise((r,i)=>{let o;vs(n,()=>{o&&clearTimeout(o),i(Lc("Poll cancelled"))});const s=()=>{try{Promise.resolve(t(n)).then(a=>{a?r(a):o=setTimeout(s,e)}).catch(a=>i(a))}catch(a){i(a)}};o=setTimeout(s,0)});function Bc({file:t,publicKey:e,baseURL:n,source:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s,signal:a,onProgress:l}){return g0({check:c=>Vc(t,{publicKey:e,baseURL:n,signal:c,source:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s}).then(u=>u.isReady?u:(l&&l({isComputable:!0,value:1}),!1)),signal:a})}var lI=window.WebSocket;class cI{constructor(){this.events=Object.create({})}emit(e,n){var r;null==(r=this.events[e])||r.forEach(i=>i(n))}on(e,n){this.events[e]=this.events[e]||[],this.events[e].push(n)}off(e,n){this.events[e]=n?this.events[e].filter(r=>r!==n):[]}}class dI{constructor(e,n=3e4){this.ws=void 0,this.queue=[],this.isConnected=!1,this.subscribers=0,this.emmitter=new cI,this.disconnectTimeoutId=null,this.key=e,this.disconnectTime=n}connect(){this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),this.isConnected||this.ws||(this.ws=new lI(`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`),this.ws.addEventListener("error",n=>{this.emmitter.emit("error",new Error(n.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(n=>this.send(n.event,n.data)),this.queue=[]}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data.toString());switch(r.event){case"pusher:connection_established":this.emmitter.emit("connected",void 0);break;case"pusher:ping":this.send("pusher:pong",{});break;case"progress":case"success":case"fail":this.emmitter.emit(r.channel,((t,e)=>E("success"===t?{status:Oe.Success}:"progress"===t?{status:Oe.Progress}:{status:Oe.Error},e))(r.event,JSON.parse(r.data)))}}))}disconnect(){const e=()=>{var n;null==(n=this.ws)||n.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{e()},this.disconnectTime):e()}send(e,n){var i;const r=JSON.stringify({event:e,data:n});null==(i=this.ws)||i.send(r)}subscribe(e,n){this.subscribers+=1,this.connect();const r=`task-status-${e}`,i={event:"pusher:subscribe",data:{channel:r}};this.emmitter.on(r,n),this.isConnected?this.send(i.event,i.data):this.queue.push(i)}unsubscribe(e){this.subscribers-=1;const n=`task-status-${e}`,r={event:"pusher:unsubscribe",data:{channel:n}};this.emmitter.off(n),this.isConnected?this.send(r.event,r.data):this.queue=this.queue.filter(i=>i.data.channel!==n),0===this.subscribers&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}}let Hc=null;const jc=t=>{if(!Hc){const e="undefined"==typeof window?0:3e4;Hc=new dI(t,e)}return Hc},gI=(t,{publicKey:e,fileName:n,baseURL:r,baseCDN:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,store:c,signal:u,onProgress:d,source:f,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,pusherKey:v=K_pusherKey,metadata:b})=>Promise.resolve((t=>{jc(t).connect()})(v)).then(()=>function c0(t,{publicKey:e,baseURL:n=K_baseURL,store:r,fileName:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,source:c="url",signal:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h=K_retryThrottledRequestMaxTimes,metadata:p}){return wn(()=>nn({method:"POST",headers:{"X-UC-User-Agent":_n({publicKey:e,integration:d,userAgent:f})},url:bn(n,"/from_url/",{jsonerrors:1,pub_key:e,source_url:t,store:$c(r),filename:i,check_URL_duplicates:o?1:void 0,save_URL_duplicates:s?1:void 0,signature:a,expire:l,source:c,metadata:p}),signal:u}).then(({data:m,headers:v,request:b})=>{const g=zt(JSON.parse(m));if("error"in g)throw new Le(g.error.content,g.error.errorCode,b,g,v);return g}),h)}(t,{publicKey:e,fileName:n,baseURL:r,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,store:c,signal:u,source:f,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,metadata:b})).catch(g=>{const _=jc(v);return null==_||_.disconnect(),Promise.reject(g)}).then(g=>g.type===ys.FileInfo?g:((t,{signal:e}={})=>{let n=null,r=null;const i=t.map(()=>new AbortController);return vs(e,()=>{i.forEach(s=>s.abort())}),Promise.all(t.map((s,a)=>{const l=(s=>()=>{r=s,i.forEach((a,l)=>l!==s&&a.abort())})(a);return Promise.resolve().then(()=>s({stopRace:l,signal:i[a].signal})).then(c=>(l(),c)).catch(c=>(n=c,null))})).then(s=>{if(null===r)throw n;return s[r]})})([({signal:_})=>function hI({token:t,publicKey:e,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:o,onProgress:s,signal:a}){return g0({check:l=>function u0(t,{publicKey:e,baseURL:n=K_baseURL,signal:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s=K_retryThrottledRequestMaxTimes}={}){return wn(()=>nn({method:"GET",headers:e?{"X-UC-User-Agent":_n({publicKey:e,integration:i,userAgent:o})}:void 0,url:bn(n,"/from_url/status/",{jsonerrors:1,token:t}),signal:r}).then(({data:a,headers:l,request:c})=>{const u=zt(JSON.parse(a));if("error"in u&&!(t=>"status"in t&&t.status===Oe.Error)(u))throw new Le(u.error.content,void 0,c,u,l);return u}),s)}(t,{publicKey:e,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:o,signal:l}).then(c=>{switch(c.status){case Oe.Error:return new Le(c.error,c.errorCode);case Oe.Waiting:return!1;case Oe.Unknown:return new Le(`Token "${t}" was not found.`);case Oe.Progress:return s&&s("unknown"===c.total?{isComputable:!1}:{isComputable:!0,value:c.done/c.total}),!1;case Oe.Success:return s&&s({isComputable:!0,value:c.done/c.total}),c;default:throw new Error("Unknown status")}}),signal:a})}({token:g.token,publicKey:e,baseURL:r,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,onProgress:d,signal:_}),({signal:_})=>(({token:t,pusherKey:e,signal:n,onProgress:r})=>new Promise((i,o)=>{const s=jc(e),a=s.onError(o),l=()=>{a(),s.unsubscribe(t)};vs(n,()=>{l(),o(Lc("pusher cancelled"))}),s.subscribe(t,c=>{switch(c.status){case Oe.Progress:r&&r("unknown"===c.total?{isComputable:!1}:{isComputable:!0,value:c.done/c.total});break;case Oe.Success:l(),r&&r({isComputable:!0,value:c.done/c.total}),i(c);break;case Oe.Error:l(),o(new Le(c.msg,c.error_code))}})}))({token:g.token,pusherKey:v,signal:_,onProgress:d})],{signal:u})).then(g=>{if(g instanceof Le)throw g;return g}).then(g=>Bc({file:g.uuid,publicKey:e,baseURL:r,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,onProgress:d,signal:u})).then(g=>new Ni(g,{baseCDN:i})),m0=t=>t.length||t.size;const _I=(t,e)=>new Promise((n,r)=>{const i=[];let o=!1,s=e.length;const a=[...e],l=()=>{const c=e.length-a.length,u=a.shift();u&&u().then(d=>{o||(i[c]=d,s-=1,s?l():n(i))}).catch(d=>{o=!0,r(d)})};for(let c=0;c<t;c++)l()}),DI=(t,{publicKey:e,fileName:n,fileSize:r,baseURL:i,secureSignature:o,secureExpire:s,store:a,signal:l,onProgress:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,contentType:p,multipartChunkSize:m=K_multipartChunkSize,maxConcurrentRequests:v=K_maxConcurrentRequests,multipartMaxAttempts:b=K_multipartMaxAttempts,baseCDN:g,metadata:_})=>{const I=r||m0(t);let M;const ne=(z,et)=>{if(!c)return;M||(M=Array(z).fill(0));const sn=ht=>ht.reduce((En,ji)=>En+ji,0);return ht=>{!ht.isComputable||(M[et]=ht.value,c({isComputable:!0,value:sn(M)/z}))}};return function f0(t,{publicKey:e,contentType:n,fileName:r,multipartChunkSize:i=K_multipartChunkSize,baseURL:o="",secureSignature:s,secureExpire:a,store:l,signal:c,source:u="local",integration:d,userAgent:f,retryThrottledRequestMaxTimes:h=K_retryThrottledRequestMaxTimes,metadata:p}){return wn(()=>nn({method:"POST",url:bn(o,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":_n({publicKey:e,integration:d,userAgent:f})},data:Oc({filename:null!=r?r:n0,size:t,content_type:null!=n?n:"application/octet-stream",part_size:i,UPLOADCARE_STORE:$c(l),UPLOADCARE_PUB_KEY:e,signature:s,expire:a,source:u,metadata:p}),signal:c}).then(({data:m,headers:v,request:b})=>{const g=zt(JSON.parse(m));if("error"in g)throw new Le(g.error.content,g.error.errorCode,b,g,v);return g.parts=Object.keys(g.parts).map(_=>g.parts[_]),g}),h)}(I,{publicKey:e,contentType:p,fileName:null!=n?n:t.name,baseURL:i,secureSignature:o,secureExpire:s,store:a,signal:l,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,metadata:_}).then(({uuid:z,parts:et})=>{const sn=function bI(t,e,n){return r=>((t,e,n,r)=>{const i=r*e,o=Math.min(i+r,n);return t.slice(i,o)})(t,r,e,n)}(t,I,m);return Promise.all([z,_I(v,et.map((ht,En)=>()=>((t,e,{publicKey:n,onProgress:r,signal:i,integration:o,multipartMaxAttempts:s})=>a0(({attempt:a,retry:l})=>function h0(t,e,{signal:n,onProgress:r}){return nn({method:"PUT",url:e,data:t,onProgress:r,signal:n}).then(i=>(r&&r({isComputable:!0,value:1}),i)).then(({status:i})=>({code:i}))}(t,e,{publicKey:n,onProgress:r,signal:i,integration:o}).catch(c=>{if(a<s)return l();throw c})))(sn(En),ht,{publicKey:e,onProgress:ne(et.length,En),signal:l,integration:d,multipartMaxAttempts:b})))])}).then(([z])=>function p0(t,{publicKey:e,baseURL:n=K_baseURL,source:r="local",signal:i,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=K_retryThrottledRequestMaxTimes}){return wn(()=>nn({method:"POST",url:bn(n,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":_n({publicKey:e,integration:o,userAgent:s})},data:Oc({uuid:t,UPLOADCARE_PUB_KEY:e,source:r}),signal:i}).then(({data:l,headers:c,request:u})=>{const d=zt(JSON.parse(l));if("error"in d)throw new Le(d.error.content,d.error.errorCode,u,d,c);return d}),a)}(z,{publicKey:e,baseURL:i,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h})).then(z=>z.isReady?z:Bc({file:z.uuid,publicKey:e,baseURL:i,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,onProgress:c,signal:l})).then(z=>new Ni(z,{baseCDN:g}))};function Uc(t,{publicKey:e,fileName:n,baseURL:r=K_baseURL,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,contentType:h,multipartMinFileSize:p,multipartChunkSize:m,multipartMaxAttempts:v,maxConcurrentRequests:b,baseCDN:g=K_baseCDN,checkForUrlDuplicates:_,saveUrlForRecurrentUploads:I,pusherKey:M,metadata:ne}){if(Ri(t))return((t,e=K_multipartMinFileSize)=>t>=e)(m0(t),p)?DI(t,{publicKey:e,contentType:h,multipartChunkSize:m,multipartMaxAttempts:v,fileName:n,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,maxConcurrentRequests:b,retryThrottledRequestMaxTimes:f,baseCDN:g,metadata:ne}):((t,{publicKey:e,fileName:n,baseURL:r,secureSignature:i,secureExpire:o,store:s,contentType:a,signal:l,onProgress:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,baseCDN:p,metadata:m})=>function l0(t,{publicKey:e,fileName:n,contentType:r,baseURL:i=K_baseURL,secureSignature:o,secureExpire:s,store:a,signal:l,onProgress:c,source:u="local",integration:d,userAgent:f,retryThrottledRequestMaxTimes:h=K_retryThrottledRequestMaxTimes,metadata:p}){return wn(()=>{var m;return nn({method:"POST",url:bn(i,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":_n({publicKey:e,integration:d,userAgent:f})},data:Oc({file:{data:t,name:null!=(m=null!=n?n:t.name)?m:n0,contentType:r},UPLOADCARE_PUB_KEY:e,UPLOADCARE_STORE:$c(a),signature:o,expire:s,source:u,metadata:p}),signal:l,onProgress:c}).then(({data:v,headers:b,request:g})=>{const _=zt(JSON.parse(v));if("error"in _)throw new Le(_.error.content,_.error.errorCode,g,_,b);return _})},h)}(t,{publicKey:e,fileName:n,contentType:a,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:l,onProgress:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,metadata:m}).then(({file:v})=>Bc({file:v,publicKey:e,baseURL:r,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,onProgress:c,signal:l})).then(v=>new Ni(v,{baseCDN:p})))(t,{publicKey:e,fileName:n,contentType:h,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,baseCDN:g,metadata:ne});if(t0(t))return gI(t,{publicKey:e,fileName:n,baseURL:r,baseCDN:g,checkForUrlDuplicates:_,saveUrlForRecurrentUploads:I,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,pusherKey:M,metadata:ne});if(e0(t))return((t,{publicKey:e,fileName:n,baseURL:r,signal:i,onProgress:o,source:s,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c,baseCDN:u})=>Vc(t,{publicKey:e,baseURL:r,signal:i,source:s,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c}).then(d=>new Ni(d,{baseCDN:u,fileName:n})).then(d=>(o&&o({isComputable:!0,value:1}),d)))(t,{publicKey:e,fileName:n,baseURL:r,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,baseCDN:g});throw new TypeError(`File uploading from "${t}" is not supported`)}class CI{constructor(e,n){this.storedAt=null,this.uuid=e.id,this.filesCount=e.filesCount,this.totalSize=Object.values(e.files).reduce((r,i)=>r+i.size,0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(e.files).filter(r=>r.isImage).length,this.cdnUrl=e.cdnUrl,this.files=n,this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}}function v0(t,{publicKey:e,fileName:n,baseURL:r=K_baseURL,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,contentType:h,multipartChunkSize:p=K_multipartChunkSize,baseCDN:m=K_baseCDN,jsonpCallback:v}){if(!(t=>{for(const e of t)if(!Ri(e))return!1;return!0})(t)&&!(t=>{for(const e of t)if(!t0(e))return!1;return!0})(t)&&!(t=>{for(const e of t)if(!e0(e))return!1;return!0})(t))throw new TypeError(`Group uploading from "${t}" is not supported`);let b,g=!0;const _=t.length,I=(M,ne)=>{if(!l)return;b||(b=Array(M).fill(0));const z=et=>et.reduce((sn,ht)=>sn+ht)/M;return et=>{if(!et.isComputable||!g)return g=!1,void l({isComputable:!1});b[ne]=et.value,l({isComputable:!0,value:z(b)})}};return Promise.all(t.map((M,ne)=>Uc(M,{publicKey:e,fileName:n,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:I(_,ne),source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,contentType:h,multipartChunkSize:p,baseCDN:m}))).then(M=>function d0(t,{publicKey:e,baseURL:n=K_baseURL,jsonpCallback:r,secureSignature:i,secureExpire:o,signal:s,source:a,integration:l,userAgent:c,retryThrottledRequestMaxTimes:u=K_retryThrottledRequestMaxTimes}){return wn(()=>nn({method:"POST",headers:{"X-UC-User-Agent":_n({publicKey:e,integration:l,userAgent:c})},url:bn(n,"/group/",{jsonerrors:1,pub_key:e,files:t,callback:r,signature:i,expire:o,source:a}),signal:s}).then(({data:d,headers:f,request:h})=>{const p=zt(JSON.parse(d));if("error"in p)throw new Le(p.error.content,p.error.errorCode,h,p,f);return p}),u)}(M.map(z=>z.uuid),{publicKey:e,baseURL:r,jsonpCallback:v,secureSignature:i,secureExpire:o,signal:a,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f}).then(z=>new CI(z,M)).then(z=>(l&&l({isComputable:!0,value:1}),z)))}const II=Object.freeze({file:{type:File,value:null},externalUrl:{type:String,value:null},fileName:{type:String,value:null},fileSize:{type:Number,value:null},lastModified:{type:Number,value:Date.now()},uploadProgress:{type:Number,value:0},uuid:{type:String,value:null},isImage:{type:Boolean,value:!1},mimeType:{type:String,value:null},uploadError:{type:Error,value:null,nullable:!0},uploadErrorMsg:{type:String,value:null,nullable:!0},validationErrorMsg:{type:String,value:null,nullable:!0},ctxName:{type:String,value:null},cdnUrl:{type:String,value:null},cdnUrlModifiers:{type:String,value:null},fileInfo:{type:Ni,value:null},isUploading:{type:Boolean,value:!1}});function SI(t){return s0(R(E({},t),{libraryName:"lr-blocks",libraryVersion:"0.8.0"}))}const y0="[Typed State] Wrong property name: ";class FI{constructor(e,n){this.__typedSchema=e,this.__ctxId=n||Fc.generate(),this.__schema=Object.keys(e).reduce((r,i)=>(r[i]=e[i].value,r),{}),this.__data=te.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(e,n){if(!this.__typedSchema.hasOwnProperty(e))return void console.warn(y0+e);let r=this.__typedSchema[e];(null==n?void 0:n.constructor)===r.type||r.nullable&&null===n?this.__data.pub(e,n):console.warn("[Typed State] Wrong property type: "+e)}setMultipleValues(e){for(let n in e)this.setValue(n,e[n])}getValue(e){if(this.__typedSchema.hasOwnProperty(e))return this.__data.read(e);console.warn(y0+e)}subscribe(e,n){return this.__data.sub(e,n)}remove(){te.deleteCtx(this.__ctxId)}}class RI{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||Fc.generate(),this.__data=te.registerCtx({},this.__ctxId),this.__watchList=e.watchList||[],this.__handler=e.handler||null,this.__subsMap=Object.create(null),this.__observers=new Set,this.__items=new Set;let n=Object.create(null);this.__notifyObservers=(r,i)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),n[r]||(n[r]=new Set),n[r].add(i),this.__observeTimeout=window.setTimeout(()=>{this.__observers.forEach(o=>{o(E({},n))}),n=Object.create(null)})}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout(()=>{var e;null==(e=this.__handler)||e.call(this,[...this.__items])})}add(e){let n=new FI(this.__typedSchema);for(let r in e)n.setValue(r,e[r]);return this.__data.add(n.uid,n),this.__watchList.forEach(r=>{this.__subsMap[n.uid]||(this.__subsMap[n.uid]=[]),this.__subsMap[n.uid].push(n.subscribe(r,()=>{this.__notifyObservers(r,n.uid)}))}),this.__items.add(n.uid),this.notify(),n}read(e){return this.__data.read(e)}readProp(e,n){return this.read(e).getValue(n)}publishProp(e,n,r){this.read(e).setValue(n,r)}remove(e){this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach(e=>{this.remove(e)})}observe(e){this.__observers.add(e)}unobserve(e){this.__observers.delete(e)}findItems(e){let n=[];return this.__items.forEach(r=>{let i=this.read(r);e(i)&&n.push(r)}),n}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){te.deleteCtx(this.__data),this.__observers=null;for(let e in this.__subsMap)this.__subsMap[e].forEach(n=>{n.remove()}),delete this.__subsMap[e]}}const dt={UPLOAD_START:"UPLOAD_START",REMOVE:"REMOVE",UPLOAD_PROGRESS:"UPLOAD_PROGRESS",UPLOAD_FINISH:"UPLOAD_FINISH",UPLOAD_ERROR:"UPLOAD_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",CDN_MODIFICATION:"CLOUD_MODIFICATION",DATA_OUTPUT:"DATA_OUTPUT"};class rn{constructor(e){this.ctx=e.ctx,this.type=e.type,this.data=e.data}}class It{static eName(e){return"LR_"+e}static emit(e,n=window,r=!0){let i=()=>{n.dispatchEvent(new CustomEvent(this.eName(e.type),{detail:e}))};if(!r)return void i();let o=e.type+e.ctx;this._timeoutStore[o]&&window.clearTimeout(this._timeoutStore[o]),this._timeoutStore[o]=window.setTimeout(()=>{i(),delete this._timeoutStore[o]},20)}}w(It,"_timeoutStore",Object.create(null));class ue extends H{constructor(){super(...arguments),w(this,"ctxInit",Qm),w(this,"__initialUploadMetadata",null)}setUploadMetadata(e){this.connectedOnce?this.$["*uploadMetadata"]=e:this.__initialUploadMetadata=e}initCallback(){super.initCallback(),this.__initialUploadMetadata&&(this.$["*uploadMetadata"]=this.__initialUploadMetadata)}addFiles(e){e.forEach(n=>{this.uploadCollection.add({file:n,isImage:n.type.includes("image"),mimeType:n.type,fileName:n.name,fileSize:n.size})})}openSystemDialog(){let e=((...t)=>t.filter(e=>"string"==typeof e&&e).join(","))(this.getCssData("--cfg-img-only")&&PT.join(","),this.getCssData("--cfg-accept"));this.getCssData("--cfg-accept")&&!!this.getCssData("--cfg-img-only")&&console.warn("There could be a mistake.\nBoth `--cfg-accept` and `--cfg-img-only` parameters are set.\nThe value of `--cfg-accept` will be concatenated with the internal image mime types list."),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=!!this.getCssData("--cfg-multiple"),this.fileInput.accept=e,this.fileInput.dispatchEvent(new MouseEvent("click")),this.fileInput.onchange=()=>{this.addFiles([...this.fileInput.files]),this.$["*currentActivity"]=H.activities.UPLOAD_LIST,this.fileInput.value="",this.fileInput=null}}get sourceList(){let e=null;return this.getCssData("--cfg-source-list")&&(e=this.getCssData("--cfg-source-list").split(",").map(n=>n.trim())),e}initFlow(e=!1){var n,r;if((null==(n=this.$["*uploadList"])?void 0:n.length)&&!e)this.set$({"*currentActivity":H.activities.UPLOAD_LIST}),this.setForCtxTarget("lr-modal","*modalActive",!0);else if(1===(null==(r=this.sourceList)?void 0:r.length)){let i=this.sourceList[0];"local"===i?(this.$["*currentActivity"]=H.activities.UPLOAD_LIST,null==this||this.openSystemDialog()):(Object.values(Block.extSrcList).includes(i)?this.set$({"*currentActivityParams":{externalSourceType:i},"*currentActivity":H.activities.EXTERNAL}):this.$["*currentActivity"]=i,this.setForCtxTarget("lr-modal","*modalActive",!0))}else this.set$({"*currentActivity":H.activities.START_FROM}),this.setForCtxTarget("lr-modal","*modalActive",!0)}cancelFlow(){var e;1===(null==(e=this.sourceList)?void 0:e.length)?(this.$["*currentActivity"]=null,this.setForCtxTarget("lr-modal","*modalActive",!1)):(this.historyBack(),this.$["*currentActivity"]||this.setForCtxTarget("lr-modal","*modalActive",!1))}get uploadCollection(){if(!this.has("*uploadCollection")){let e=new RI({typedSchema:II,watchList:["uploadProgress","uuid","uploadErrorMsg","validationErrorMsg","cdnUrlModifiers"],handler:n=>{this.$["*uploadList"]=n.map(r=>({uid:r}))}});e.observe(n=>{if(n.uploadProgress){let r=0,i=e.findItems(s=>!s.getValue("uploadError"));i.forEach(s=>{r+=e.readProp(s,"uploadProgress")});let o=Math.round(r/i.length);this.$["*commonProgress"]=o,It.emit(new rn({type:dt.UPLOAD_PROGRESS,ctx:this.ctxName,data:o}),void 0,100===o)}if(n.uuid){let r=e.findItems(o=>!!o.getValue("uuid")),i=e.findItems(o=>!!o.getValue("uploadErrorMsg")||!!o.getValue("validationErrorMsg"));if(e.size-i.length===r.length){let o=this.getOutputData(s=>!!s.getValue("uuid"));It.emit(new rn({type:dt.UPLOAD_FINISH,ctx:this.ctxName,data:o}))}}n.uploadErrorMsg&&e.findItems(i=>!!i.getValue("uploadErrorMsg")).forEach(i=>{It.emit(new rn({type:dt.UPLOAD_ERROR,ctx:this.ctxName,data:e.readProp(i,"uploadErrorMsg")}),void 0,!1)}),n.validationErrorMsg&&e.findItems(i=>!!i.getValue("validationErrorMsg")).forEach(i=>{It.emit(new rn({type:dt.VALIDATION_ERROR,ctx:this.ctxName,data:e.readProp(i,"validationErrorMsg")}),void 0,!1)}),n.cdnUrlModifiers&&e.findItems(i=>!!i.getValue("cdnUrlModifiers")).forEach(i=>{It.emit(new rn({type:dt.CDN_MODIFICATION,ctx:this.ctxName,data:e.readProp(i,"cdnUrlModifiers")}),void 0,!1)})}),this.add("*uploadCollection",e)}return this.$["*uploadCollection"]}getUploadClientOptions(){let e={},n=this.getCssData("--cfg-store");null!==n&&(e.store=!!n);let r=R(E({},e),{publicKey:this.getCssData("--cfg-pubkey"),baseCDN:this.getCssData("--cfg-cdn-cname"),baseURL:this.getCssData("--cfg-base-url"),userAgent:SI,integration:this.getCssData("--cfg-user-agent-integration"),secureSignature:this.getCssData("--cfg-secure-signature"),secureExpire:this.getCssData("--cfg-secure-expire"),retryThrottledRequestMaxTimes:this.getCssData("--cfg-retry-throttled-request-max-times"),multipartMinFileSize:this.getCssData("--cfg-multipart-min-file-size"),multipartChunkSize:this.getCssData("--cfg-multipart-chunk-size"),maxConcurrentRequests:this.getCssData("--cfg-max-concurrent-requests"),multipartMaxAttempts:this.getCssData("--cfg-multipart-max-attempts"),checkForUrlDuplicates:!!this.getCssData("--cfg-check-for-url-duplicates"),saveUrlForRecurrentUploads:!!this.getCssData("--cfg-save-url-for-recurrent-uploads"),metadata:this.$["*uploadMetadata"]});return console.log("Upload client options:",r),r}getOutputData(e){let n=[];return this.uploadCollection.findItems(e).forEach(i=>{let o=te.getCtx(i).store,s=o.fileInfo||{name:o.fileName,fileSize:o.fileSize,isImage:o.isImage,mimeType:o.mimeType},a=R(E({},s),{cdnUrlModifiers:o.cdnUrlModifiers,cdnUrl:o.cdnUrl||s.cdnUrl});n.push(a)}),n}}ue.sourceTypes=Object.freeze(E({LOCAL:"local",URL:"url",CAMERA:"camera",DRAW:"draw"},ue.extSrcList)),ue.extSrcList=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",INSTAGRAM:"instagram",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"}),Object.keys(dt).forEach(t=>{let e=It.eName(t);window.addEventListener(e,n=>{if([dt.UPLOAD_FINISH,dt.REMOVE].includes(n.detail.type)){let i=te.getCtx(n.detail.ctx),o=i.read("uploadCollection"),s=[];o.items().forEach(a=>{let l=te.getCtx(a).store,c=l.fileInfo;if(c){let u=R(E({},c),{cdnUrlModifiers:l.cdnUrlModifiers,cdnUrl:l.cdnUrl||c.cdnUrl});s.push(u)}}),It.emit(new rn({type:dt.DATA_OUTPUT,ctx:n.detail.ctx,data:s})),i.pub("outputData",s)}})});let b0=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{name:"",path:"",size:"24",viewBox:""}))}initCallback(){super.initCallback(),this.sub("name",n=>{if(!n)return;let r=this.getCssData(`--icon-${n}`);r&&(this.$.path=r)}),this.sub("path",n=>{n&&(n.trimStart().startsWith("<")?(this.setAttribute("raw",""),this.ref.svg.innerHTML=n):(this.removeAttribute("raw"),this.ref.svg.innerHTML=`<path d="${n}"></path>`))}),this.sub("size",n=>{this.$.viewBox=`0 0 ${n} ${n}`})}}return t.template='\n<svg\n  ref="svg"\n  xmlns="http://www.w3.org/2000/svg"\n  set="@viewBox: viewBox; @height: size; @width: size">\n</svg>\n',t})();b0.bindAttributes({name:"name",size:"size"});const zc=(...t)=>t.filter(e=>"string"==typeof e&&e).map(e=>(t=>{if("string"!=typeof t||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e})(e)).join("/-/"),on=(...t)=>{let e=zc(...t);return e?`-/${e}/`:""};function _0(t){let e=new URL(t),n=e.pathname+e.search+e.hash,r=n.lastIndexOf("http"),i=n.lastIndexOf("/"),o="";return r>=0?o=n.slice(r):i>=0&&(o=n.slice(i+1)),o}function w0(t){return t.startsWith("http")}function D0(t){let e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}const Mt=(t,e,n)=>{let r=new URL(function PI(t){let e=new URL(t),n=_0(t),r=w0(n)?D0(n).pathname:n;return e.pathname=e.pathname.replace(r,""),e.search="",e.hash="",e.toString()}(t));if(n=n||_0(t),r.pathname.startsWith("//")&&(r.pathname=r.pathname.replace("//","/")),w0(n)){let i=D0(n);r.pathname=r.pathname+(e||"")+(i.pathname||""),r.search=i.search,r.hash=i.hash}else r.pathname=r.pathname+(e||"")+(n||"");return r.toString()},bs=(t,e)=>{let n=new URL(t);return n.pathname=e+"/",n.toString()},Sr=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{default:"auto"},"cdn-operations":{},progressive:{},quality:{default:"smart"},"is-background-for":{}}),Pi="--lr-img-",C0="unresolved",E0=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),x0=Object.create(null);for(let t in Sr)x0[Pi+t]=(null==(B0=Sr[t])?void 0:B0.default)||"";class OI extends ms{constructor(){super(...arguments),w(this,"cssInit$",x0)}$$(e){return this.$[Pi+e]}set$$(e){for(let n in e)this.$[Pi+n]=e[n]}sub$$(e,n){this.sub(Pi+e,r=>{null===r||""===r||n(r)})}_fmtAbs(e){return!e.includes("//")&&!E0&&(e=new URL(e,document.baseURI).href),e}_getCdnModifiers(e=""){return on(e&&`resize/${e}`,this.$$("cdn-operations")||"",`format/${this.$$("format")||Sr.format.default}`,`quality/${this.$$("quality")||Sr.quality.default}`)}_getUrlBase(e=""){if(E0&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let n=this._getCdnModifiers(e);return this.$$("cdn-cname")&&this.$$("uuid")?this._proxyUrl(Mt(bs(this.$$("cdn-cname"),this.$$("uuid")),n)):this.$$("uuid")?this._proxyUrl(Mt(bs(this.$$["cdn-cname"]||"https://ucarecdn.com",this.$$("uuid")),n)):this.$$("proxy-cname")?this._proxyUrl(Mt(this.$$("proxy-cname"),n,this._fmtAbs(this.$$("src")))):this.$$("pubkey")?this._proxyUrl(Mt(`https://${this.$$("pubkey")}.ucr.io/`,n,this._fmtAbs(this.$$("src")))):void 0}_proxyUrl(e){return this.$$("secure-delivery-proxy")?Pc(this.$$("secure-delivery-proxy"),{previewUrl:e},{transform:r=>window.encodeURIComponent(r)}):e}_getElSize(e,n=1,r=!0){let i=e.getBoundingClientRect(),o=n*Math.round(i.width),s=r?"":n*Math.round(i.height);return o||s?`${o||""}x${s||""}`:null}_setupEventProxy(e){let n=i=>{i.stopPropagation();let o=new Event(i.type,i);this.dispatchEvent(o)},r=["load","error"];for(let i of r)e.addEventListener(i,n)}get img(){return this._img||(this._img=new Image,this._setupEventProxy(this.img),this._img.setAttribute(C0,""),this.img.onload=()=>{this.img.removeAttribute(C0)},this.initAttributes(),this.appendChild(this._img)),this._img}get bgSelector(){return this.$$("is-background-for")}initAttributes(){[...this.attributes].forEach(e=>{Sr[e.name]||this.img.setAttribute(e.name,e.value)})}get breakpoints(){if(this.$$("breakpoints")){let e=new Set;return this.$$("breakpoints").split(",").forEach(n=>{e.add(parseFloat(n.trim()))}),e}return null}renderBg(e){let n=new Set;this.breakpoints?this.breakpoints.forEach(i=>{n.add(`url("${this._getUrlBase(i+"x")}") ${i}w`),this.$$("hi-res-support")&&n.add(`url("${this._getUrlBase(2*i+"x")}") ${2*i}w`),this.$$("ultra-res-support")&&n.add(`url("${this._getUrlBase(3*i+"x")}") ${3*i}w`)}):(n.add(`url("${this._getUrlBase(this._getElSize(e))}") 1x`),this.$$("hi-res-support")&&n.add(`url("${this._getUrlBase(this._getElSize(e,2))}") 2x`),this.$$("ultra-res-support")&&n.add(`url("${this._getUrlBase(this._getElSize(e,3))}") 3x`));let r=`image-set(${[...n].join(", ")})`;e.style.setProperty("background-image",r),e.style.setProperty("background-image","-webkit-"+r)}getSrcset(){let e=new Set;return this.breakpoints?this.breakpoints.forEach(n=>{e.add(this._getUrlBase(n+"x")+` ${n}w`),this.$$("hi-res-support")&&e.add(this._getUrlBase(2*n+"x")+` ${2*n}w`),this.$$("ultra-res-support")&&e.add(this._getUrlBase(3*n+"x")+` ${3*n}w`)}):(e.add(this._getUrlBase(this._getElSize(this.img))+" 1x"),this.$$("hi-res-support")&&e.add(this._getUrlBase(this._getElSize(this.img,2))+" 2x"),this.$$("ultra-res-support")&&e.add(this._getUrlBase(this._getElSize(this.img,3))+" 3x")),[...e].join()}getSrc(){return this._getUrlBase()}init(){this.bgSelector?[...document.querySelectorAll(this.bgSelector)].forEach(e=>{this.$$("intersection")?this.initIntersection(e,()=>{this.renderBg(e)}):this.renderBg(e)}):this.$$("intersection")?this.initIntersection(this.img,()=>{this.img.srcset=this.getSrcset(),this.img.src=this.getSrc()}):(this.img.srcset=this.getSrcset(),this.img.src=this.getSrc())}initIntersection(e,n){this._isnObserver=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(n(),this._isnObserver.unobserve(e))})},{root:null,rootMargin:"0px"}),this._isnObserver.observe(e),this._observed||(this._observed=new Set),this._observed.add(e)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach(e=>{this._isnObserver.unobserve(e)}),this._isnObserver=null)}static get observedAttributes(){return Object.keys(Sr)}attributeChangedCallback(e,n,r){window.setTimeout(()=>{this.$[Pi+e]=r})}}class $I extends OI{initCallback(){super.initCallback(),this.sub$$("src",()=>{this.init()}),this.sub$$("uuid",()=>{this.init()}),this.sub$$("lazy",e=>{this.$$("is-background-for")||(this.img.loading=e?"lazy":"eager")})}}let VI=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{"*simpleButtonText":"",onClick:()=>{this.initFlow()}}))}initCallback(){super.initCallback(),this.bindCssData("--cfg-multiple"),this.sub("--cfg-multiple",n=>{this.$["*simpleButtonText"]=this.l10n(n?"upload-files":"upload-file")})}}return t.template='\n<lr-drop-area>\n  <button type="button" set="onclick: onClick">\n    <lr-icon name="upload"></lr-icon>\n    <span>{{*simpleButtonText}}</span>\n    <slot></slot>\n  </button>\n</lr-drop-area>\n',t})();class BI extends H{constructor(){super(...arguments),w(this,"activityType","start-from")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,()=>{this.add$({"*activityCaption":this.l10n("select-file-source"),"*activityIcon":"default"},!0)})}}function HI(t){return new Promise(e=>{"function"!=typeof window.FileReader&&e(!1);try{let n=new FileReader;n.onerror=()=>{e(!0)};let r=i=>{"loadend"!==i.type&&n.abort(),e(!1)};n.onloadend=r,n.onprogress=r,n.readAsDataURL(t)}catch(n){e(!1)}})}function jI(t){return new Promise((e,n)=>{let r=0,i=[],o=a=>{a||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),e(null)),a.isFile?(r++,a.file(l=>{r--,i.push(l),0===r&&e(i)})):a.isDirectory&&s(a.createReader())},s=a=>{r++,a.readEntries(l=>{r--;for(let c of l)o(c);0===r&&e(i)})};o(t)})}let Li=null;const Je={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3};let Gc=["dragleave","dragexit","dragend","drop","mouseleave","mouseout"],qc=new Map;class Wc{constructor(){w(this,"caption",""),w(this,"text",""),w(this,"iconName",""),w(this,"isError",!1)}}let WI=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{iconName:"info",captionTxt:"Message caption",msgTxt:"Message...","*message":null,onClose:()=>{this.$["*message"]=null}}))}initCallback(){super.initCallback(),this.sub("*message",n=>{n?(this.setAttribute("active",""),this.set$({captionTxt:n.caption||"",msgTxt:n.text||"",iconName:n.isError?"error":"info"}),n.isError?this.setAttribute("error",""):this.removeAttribute("error")):this.removeAttribute("active")})}}return t.template='\n<div class="heading">\n  <lr-icon set="@name: iconName"></lr-icon>\n  <div class="caption">{{captionTxt}}</div>\n  <button type="button" set="onclick: onClose">\n    <lr-icon name="close"></lr-icon>\n  </button>\n</div>\n<div class="msg">{{msgTxt}}</div>\n',t})();class ZI extends ue{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{state:Je.INACTIVE}))}initCallback(){if(super.initCallback(),this._destroyDropzone=function qI(t){let e=new Set,n=l=>e.add(l),r=Je.INACTIVE,i=l=>{r!==l&&e.forEach(c=>c(l)),r=l},o=l=>{let{clientX:c,clientY:u}=l,d=document.body.getBoundingClientRect(),f="drop"===l.type,h=["dragleave","dragexit","dragend"].includes(l.type)&&0===c&&0===u,p=["mouseleave","mouseout"].includes(l.type)&&(c<0||c>d.width||u<0||u>d.height);(f||h||p)&&i(Je.INACTIVE),l.preventDefault()};n(l=>t.onChange(l)),n(l=>{l===Je.ACTIVE&&Gc.forEach(c=>{window.addEventListener(c,o,!1)})}),n(l=>{l===Je.INACTIVE&&Gc.forEach(c=>{window.removeEventListener(c,o,!1)})});let s=l=>{l.preventDefault(),r===Je.INACTIVE&&i(Je.ACTIVE);let c=[l.x,l.y],u=t.element.getBoundingClientRect(),d=Math.floor(function GI(t,e){let n=Math.max(Math.min(t[0],e.x+e.width),e.x),r=Math.max(Math.min(t[1],e.y+e.height),e.y);return Math.sqrt((t[0]-n)*(t[0]-n)+(t[1]-r)*(t[1]-r))}(c,u)),f=d<100,h=l.composedPath().includes(t.element);qc.set(t.element,d);let p=Math.min(...qc.values())===d;i(h&&p?Je.OVER:f&&p?Je.NEAR:Je.ACTIVE)};window.addEventListener("dragover",s,!1);let a=function(){var l=ut(function*(c){if(c.preventDefault(),Li)return t.onImgElement.bind(t.element)(Li),Li=null,void i(Je.INACTIVE);let u=yield function UI(t){let e=[],n=[];for(let r=0;r<t.items.length;r++){let i=t.items[r];if(i&&"file"===i.kind){if("function"==typeof i.webkitGetAsEntry||"function"==typeof i.getAsEntry){let s="function"==typeof i.webkitGetAsEntry?i.webkitGetAsEntry():i.getAsEntry();n.push(jI(s).then(a=>{e.push(...a)}));continue}let o=i.getAsFile();n.push(HI(o).then(s=>{s||e.push(o)}))}}return Promise.all(n).then(()=>e)}(c.dataTransfer);t.onFiles(u),i(Je.INACTIVE)});return function(u){return l.apply(this,arguments)}}();return t.element.addEventListener("drop",a),window.addEventListener("dragstart",l=>{Li=l.target.constructor===HTMLImageElement?l.target.src:null}),()=>{qc.delete(t.element),window.removeEventListener("dragover",s,!1),t.element.removeEventListener("drop",a),Gc.forEach(l=>{window.removeEventListener(l,o,!1),Li=null})}}({element:this,onChange:e=>{this.$.state=e},onFiles:e=>{!e.length||(this.getCssData("--cfg-multiple")||(e=[e[0]]),e.forEach(n=>{let r=!1,i=n.type.includes("image");if(this.getCssData("--cfg-img-only")&&!i?r=!0:this.uploadCollection.add({file:n,isImage:i,mimeType:n.type,fileName:n.name,fileSize:n.size}),r){let o=new Wc;o.caption="Error",o.text=this.l10n("has-validation-errors"),o.isError=!0,this.$["*message"]=o}}),this.set$({"*currentActivity":H.activities.UPLOAD_LIST}))},onImgElement(e){this.uploadCollection.add({externalUrl:e}),this.set$({"*currentActivity":H.activities.UPLOAD_LIST})}}),this.sub("state",e=>{var r;const n=null==(r=Object.entries(Je).find(([,i])=>i===e))?void 0:r[0].toLowerCase();n&&this.setAttribute("drag-state",n)}),this.hasAttribute("clickable")){let e=this.getAttribute("clickable");(""===e||"true"===e)&&(this._onAreaClicked=()=>{this.openSystemDialog()},this.addEventListener("click",this._onAreaClicked))}}destroyCallback(){var e;super.destroyCallback(),null==(e=this._destroyDropzone)||e.call(this),this._onAreaClicked&&this.removeEventListener("click",this._onAreaClicked)}}let T0=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"_registeredTypes",{}),w(this,"init$",R(E({},this.ctxInit),{iconName:"default"}))}initTypes(){this.registerType({type:ue.sourceTypes.LOCAL,onClick:()=>{this.openSystemDialog()}}),this.registerType({type:ue.sourceTypes.URL,activity:H.activities.URL,textKey:"from-url"}),this.registerType({type:ue.sourceTypes.CAMERA,activity:H.activities.CAMERA}),this.registerType({type:"draw",activity:H.activities.DRAW,icon:"edit-draw"});for(let n of Object.values(ue.extSrcList))this.registerType({type:n,activity:H.activities.EXTERNAL,activityParams:{externalSourceType:n}})}initCallback(){super.initCallback(),this.initTypes(),this.setAttribute("role","button"),this.defineAccessor("type",n=>{!n||this.applyType(n)})}registerType(n){this._registeredTypes[n.type]=n}getType(n){return this._registeredTypes[n]}applyType(n){const r=this._registeredTypes[n];if(!r)return void console.warn("Unsupported source type: "+n);const{textKey:i=n,icon:o=n,activity:s,onClick:a,activityParams:l={}}=r;this.applyL10nKey("src-type",`src-type-${i}`),this.$.iconName=o,this.onclick=c=>{s&&this.set$({"*currentActivityParams":l,"*currentActivity":s}),a&&a(c)}}}return t.template='\n<lr-icon set="@name: iconName"></lr-icon>\n<div class="txt" l10n="src-type"></div>\n',t})();T0.bindAttributes({type:null});class XI extends se{constructor(){super(...arguments),w(this,"cssInit$",{"--cfg-source-list":""})}initCallback(){super.initCallback(),this.sub("--cfg-source-list",e=>{if(!e)return;let n=e.split(",").map(i=>i.trim()),r="";n.forEach(i=>{r+=`<lr-source-btn type="${i}"></lr-source-btn>`}),this.getCssData("--cfg-source-list-wrap")?this.innerHTML=r:this.outerHTML=r})}}function Zc(t){let e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)}function I0(t="hsl(0, 0%, 100%)",e=36,n=36){return Zc(`\n  <svg width="${e}" height="${n}" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.5 28L25.5 27.9997V29.0024L10.5 29.0027V28Z" fill="black" fill-opacity="0.06"/>\n    <path d="M9.5 7.50029L21.25 7.5L26.5 12.75V28.4998L9.5 28.5001V7.50029Z" fill="black" fill-opacity="0.06"/>\n    <path d="M10 8.00298L21 8.00269L26 12.9998V28.0025L10 28.0027V8.00298Z" fill="${t}"/>\n    <path d="M10 8.00298L21 8.00269L26 12.9998V28.0025L10 28.0027V8.00298Z" fill="url(#paint0_linear_2735_2136)"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.793 8.50269L10.5 8.50296V27.5027L25.5 27.5025V13.2069L20.793 8.50269ZM21 8.00269L10 8.00298V28.0027L26 28.0025V12.9998L21 8.00269Z" fill="url(#paint1_radial_2735_2136)"/>\n    <path d="M21 8L26 13V14H20V8H21Z" fill="black" fill-opacity="0.03"/>\n    <path d="M21 8L26 13V13.5H20.5V8H21Z" fill="black" fill-opacity="0.08"/>\n    <path d="M21 8L26 13H21V8Z" fill="${t}"/>\n    <path d="M21 8L26 13H21V8Z" fill="url(#paint2_linear_2735_2136)"/>\n    <path d="M21 8L26 13H21V8Z" fill="url(#paint3_linear_2735_2136)"/>\n    <path d="M21.5 8.5L21 8V13H26L25.5 12.5H21.5V8.5Z" fill="url(#paint4_linear_2735_2136)"/>\n    <defs>\n      <linearGradient id="paint0_linear_2735_2136" x1="18" y1="8" x2="18" y2="28.0027" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.06"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </linearGradient>\n      <radialGradient id="paint1_radial_2735_2136" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(10 11) rotate(53.7462) scale(18.6011 18.0323)">\n        <stop stop-color="white" stop-opacity="0.12"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </radialGradient>\n      <linearGradient id="paint2_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop offset="0.40625" stop-opacity="0"/>\n        <stop offset="1" stop-opacity="0.04"/>\n      </linearGradient>\n      <linearGradient id="paint3_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.16"/>\n        <stop offset="1" stop-color="white" stop-opacity="0.06"/>\n      </linearGradient>\n      <linearGradient id="paint4_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.15"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </linearGradient>\n    </defs>\n</svg>\n  `)}class Pn extends ue{constructor(){super(...arguments),w(this,"pauseRender",!0),w(this,"init$",R(E({},this.ctxInit),{uid:"",itemName:"",thumb:"",thumbUrl:"",progressValue:0,progressVisible:!1,progressUnknown:!1,notImage:!0,badgeIcon:"check","*uploadTrigger":null,onEdit:()=>{this.set$({"*focusedEntry":this.entry,"*currentActivity":H.activities.DETAILS})},onRemove:()=>{let e=this.entry.getValue("uuid");if(e){let n=this.getOutputData(r=>r.getValue("uuid")===e);It.emit(new rn({type:dt.REMOVE,ctx:this.ctxName,data:n}))}this.uploadCollection.remove(this.uid)},onUpload:()=>{this.upload()}}))}_observerCallback(e){var r;let[n]=e;n.isIntersecting&&!this.innerHTML&&(this.render(),null==(r=this._observer)||r.unobserve(this)),0===n.intersectionRatio?(clearTimeout(this._thumbTimeoutId),this._thumbTimeoutId=void 0):this._thumbTimeoutId||(this._thumbTimeoutId=window.setTimeout(()=>this._generateThumbnail(),100))}_generateThumbnail(){var e;if(!this.$.thumbUrl)if(null==(e=this.file)?void 0:e.type.includes("image"))(function QI(t,e=40){let n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image,o=new Promise((s,a)=>{i.onload=()=>{let l=i.height/i.width;l>1?(n.width=e,n.height=e*l):(n.height=e,n.width=e/l),r.fillStyle="rgb(240, 240, 240)",r.fillRect(0,0,n.width,n.height),r.drawImage(i,0,0,n.width,n.height),n.toBlob(c=>{let u=URL.createObjectURL(c);s(u)},"image/png")},i.onerror=l=>{console.warn("Resize error..."),a(l)}});return i.src=URL.createObjectURL(t),o})(this.file,this.getCssData("--cfg-thumb-size")||76).then(n=>{this.$.thumbUrl=`url(${n})`});else{let n=window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon");this.$.thumbUrl=`url(${I0(n)})`}}_revokeThumbUrl(){var e;(null==(e=this.$.thumbUrl)?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(this.$.thumbUrl)}_showMessage(e,n,r){let i=new Wc;i.caption=n,i.text=r,i.isError="error"===e,this.set$({badgeIcon:`badge-${e}`,"*message":i})}initCallback(){super.initCallback(),this.sub("uid",e=>{var n;!e||e===this.uid||(this.uid=e,this.entry=null==(n=this.uploadCollection)?void 0:n.read(e),this.entry&&(this.entry.subscribe("validationErrorMsg",r=>{var o;if(!r)return;this.setAttribute("error","");let i=this.l10n("validation-error")+": "+((null==(o=this.file)?void 0:o.name)||this.externalUrl);this._showMessage("error",i,r)}),this.entry.subscribe("uploadErrorMsg",r=>{var o;if(!r)return;let i=this.l10n("upload-error")+": "+((null==(o=this.file)?void 0:o.name)||this.externalUrl);this._showMessage("error",i,r)}),this.entry.subscribe("isUploading",r=>{this.$.progressVisible=r}),this.entry.subscribe("uploadProgress",r=>{this.$.progressValue=r}),this.entry.subscribe("fileName",r=>{this.$.itemName=r||this.externalUrl||this.l10n("file-no-name")}),this.entry.subscribe("fileSize",r=>{let i=this.getCssData("--cfg-max-local-file-size-bytes");!i||r&&r>i&&this.entry.setValue("validationErrorMsg",this.l10n("files-max-size-limit-error",{maxFileSize:i}))}),this.entry.subscribe("externalUrl",r=>{this.$.itemName=this.entry.getValue("fileName")||r||this.l10n("file-no-name")}),this.entry.subscribe("uuid",r=>{if(r&&(this.setAttribute("loaded",""),this.entry.getValue("isImage"))){this._revokeThumbUrl();let i=this.getCssData("--cfg-thumb-size")||76,o=this.proxyUrl(Mt(bs(this.getCssData("--cfg-cdn-cname"),r),on(`scale_crop/${i}x${i}/center`)));this.$.thumbUrl=`url(${o})`}}),this.entry.subscribe("cdnUrl",r=>{if(r&&this.entry.getValue("isImage")){this._revokeThumbUrl();let i=this.getCssData("--cfg-thumb-size")||76,o=this.proxyUrl(Mt(r,on(`scale_crop/${i}x${i}/center`)));this.$.thumbUrl=`url(${o})`}}),this.file=this.entry.getValue("file"),this.externalUrl=this.entry.getValue("externalUrl"),this.getCssData("--cfg-confirm-upload")||this.upload(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{root:this.parentElement,rootMargin:"50% 0px 50% 0px",threshold:[0,1]}),this._observer.observe(this)))}),this.onclick=()=>{Pn.activeInstances.forEach(e=>{e===this?e.setAttribute("focused",""):e.removeAttribute("focused")})},this.$["*uploadTrigger"]=null,this.sub("*uploadTrigger",e=>{!e||!this.isConnected||this.upload()}),Pn.activeInstances.add(this)}destroyCallback(){var e;super.destroyCallback(),Pn.activeInstances.delete(this),null==(e=this._observer)||e.disconnect(),clearTimeout(this._thumbTimeoutId)}upload(){var e=this;return ut(function*(){if(e.hasAttribute("loaded")||e.entry.getValue("uuid"))return;let n=e.getOutputData(r=>!r.getValue("uuid"));It.emit(new rn({type:dt.UPLOAD_START,ctx:e.ctxName,data:n})),e.entry.setValue("isUploading",!0),e.entry.setValue("uploadError",null),e.removeAttribute("focused"),e.removeAttribute("error"),e.setAttribute("uploading",""),!e.file&&e.externalUrl&&(e.$.progressUnknown=!0);try{let r=yield Uc(e.file||e.externalUrl,R(E({},e.getUploadClientOptions()),{fileName:e.entry.getValue("fileName"),onProgress:i=>{i.isComputable&&e.entry.setValue("uploadProgress",100*i.value),e.$.progressUnknown=!i.isComputable}}));e.entry.setValue("isUploading",!1),e.setAttribute("loaded",""),e.removeAttribute("uploading"),e.$.badgeIcon="badge-success",e.entry.setMultipleValues({fileInfo:r,uploadProgress:100,fileName:r.name,fileSize:r.size,isImage:r.isImage,mimeType:r.mimeType,uuid:r.uuid,cdnUrl:r.cdnUrl})}catch(r){e.$.badgeIcon="badge-error",e.entry.setValue("isUploading",!1),e.$.progressValue=0,e.setAttribute("error",""),e.removeAttribute("uploading"),e.entry.setValue("uploadProgress",0),e.entry.setValue("uploadErrorMsg",(null==r?void 0:r.toString())||"Upload error")}})()}}Pn.template='\n<div\n  class="thumb"\n  set="style.backgroundImage: thumbUrl">\n  <div class="badge">\n    <lr-icon set="@name: badgeIcon"></lr-icon>\n  </div>\n</div>\n<div class="file-name-wrapper">\n  <span class="file-name" set="@title: itemName">{{itemName}}</span>\n</div>\n<button type="button" class="edit-btn" set="onclick: onEdit;">\n  <lr-icon name="edit-file"></lr-icon>\n</button>\n<button type="button" class="remove-btn" set="onclick: onRemove;">\n  <lr-icon name="remove-file"></lr-icon>\n</button>\n<button type="button" class="upload-btn" set="onclick: onUpload;">\n  <lr-icon name="upload"></lr-icon>\n</button>\n<lr-progress-bar\n  class="progress-bar"\n  set="value: progressValue; visible: progressVisible; unknown: progressUnknown">\n</lr-progress-bar>\n',Pn.activeInstances=new Set;let eM=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{"*modalActive":!1,"*modalHeaderHidden":!1,closeClicked:()=>{this.set$({"*modalActive":!1,"*currentActivity":""})}}))}initCallback(){super.initCallback(),this.sub("*modalActive",n=>{n?this.setAttribute("active",""):this.removeAttribute("active"),n&&this.getCssData("--cfg-modal-scroll-lock")?document.body.style.overflow="hidden":document.body.style.overflow=null}),this.getCssData("--cfg-modal-backdrop-strokes")&&(this.style.backgroundImage=`url(${function JI(t="rgba(0, 0, 0, .1)"){return Zc(`<svg height="10" width="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <line x1="0" y1="10" x2="10" y2="0" stroke="${t}" />\n  </svg>`)}()})`)}}return t.template='\n<div class="dialog">\n  <div class="heading" set="@hidden: *modalHeaderHidden">\n    <slot name="heading"></slot>\n    <button\n      type="button"\n      class="close-btn"\n      set="onclick: closeClicked">\n      <lr-icon name="close"></lr-icon>\n    </button>\n  </div>\n  <div class="content">\n    <slot></slot>\n  </div>\n</div>\n',t})();class M0{constructor(){w(this,"captionL10nStr","confirm-your-action"),w(this,"messageL10Str","are-you-sure"),w(this,"confirmL10nStr","yes"),w(this,"denyL10nStr","no")}confirmAction(){console.log("Confirmed")}denyAction(){this.historyBack()}}let tM=(()=>{class t extends H{constructor(){super(...arguments),w(this,"activityType",H.activities.CONFIRMATION),w(this,"_defaults",new M0),w(this,"init$",R(E({},this.ctxInit),{messageTxt:"",confirmBtnTxt:"",denyBtnTxt:"","*confirmation":null,onConfirm:this._defaults.confirmAction,onDeny:this._defaults.denyAction.bind(this)}))}initCallback(){super.initCallback(),this.set$({messageTxt:this.l10n(this._defaults.messageL10Str),confirmBtnTxt:this.l10n(this._defaults.confirmL10nStr),denyBtnTxt:this.l10n(this._defaults.denyL10nStr)}),this.sub("*confirmation",n=>{!n||this.set$({"*modalHeaderHidden":!0,"*currentActivity":H.activities.CONFIRMATION,"*activityCaption":this.l10n(n.captionL10nStr),messageTxt:this.l10n(n.messageL10Str),confirmBtnTxt:this.l10n(n.confirmL10nStr),denyBtnTxt:this.l10n(n.denyL10nStr),onDeny:()=>{this.$["*modalHeaderHidden"]=!1,n.denyAction()},onConfirm:()=>{this.$["*modalHeaderHidden"]=!1,n.confirmAction()}})})}}return t.template='\n<div class="message">{{messageTxt}}</div>\n<div class="toolbar">\n  <button\n    type="button"\n    class="deny-btn secondary-btn"\n    set="onclick: onDeny">{{denyBtnTxt}}</button>\n  <button\n    type="button"\n    class="confirm-btn primary-btn"\n    set="onclick: onConfirm">{{confirmBtnTxt}}</button>\n</div>\n',t})(),nM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"activityType",H.activities.UPLOAD_LIST),w(this,"init$",R(E({},this.ctxInit),{doneBtnHidden:!1,doneBtnDisabled:!1,uploadBtnHidden:!1,uploadBtnDisabled:!1,addMoreBtnHidden:!1,addMoreBtnDisabled:!1,hasFiles:!1,onAdd:()=>{this.initFlow(!0)},onUpload:()=>{this.set$({uploadBtnHidden:!1,doneBtnHidden:!0,uploadBtnDisabled:!0,"*uploadTrigger":{}})},onDone:()=>{this.set$({"*currentActivity":this.doneActivity||""}),this.setForCtxTarget("lr-modal","*modalActive",!1)},onCancel:()=>{let n=new M0;n.confirmAction=()=>{let r=this.getOutputData(i=>!!i.getValue("uuid"));It.emit(new rn({type:dt.REMOVE,ctx:this.ctxName,data:r})),this.cancelFlow(),this.uploadCollection.clearAll()},n.denyAction=()=>{this.historyBack()},this.$["*confirmation"]=n}})),w(this,"cssInit$",{"--cfg-show-empty-list":0,"--cfg-multiple":1,"--cfg-multiple-min":0,"--cfg-multiple-max":0,"--cfg-confirm-upload":1,"--cfg-source-list":""}),w(this,"_renderMap",Object.create(null))}_validateFilesCount(){var u,d;let n=!!this.getCssData("--cfg-multiple"),r=n?null!=(u=this.getCssData("--cfg-multiple-min"))?u:0:1,i=n?null!=(d=this.getCssData("--cfg-multiple-max"))?d:0:1,o=this.uploadCollection.size,s=!!r&&o<r,a=!!i&&o>i;return{passed:!s&&!a,tooFew:s,tooMany:a,min:r,max:i,exact:i===o}}_updateCountLimitMessage(){let n=this.uploadCollection.size,r=this._validateFilesCount();if(n&&!r.passed){let i=new Wc,o=r.tooFew?"files-count-limit-error-too-few":"files-count-limit-error-too-many";i.caption=this.l10n("files-count-limit-error-title"),i.text=this.l10n(o,{min:r.min,max:r.max,total:n}),i.isError=!0,this.set$({"*message":i})}}_handleCollectionUpdate(){this._updateUploadsState(),this._updateCountLimitMessage()}_updateUploadsState(){let n=this.uploadCollection.items(),i={total:n.length,uploaded:0,uploading:0,validationFailed:0};for(let u of n){let d=this.uploadCollection.read(u);d.getValue("uuid")?i.uploaded+=1:d.getValue("isUploading")&&(i.uploading+=1),d.getValue("validationErrorMsg")&&(i.validationFailed+=1)}let o=i.total===i.uploaded,{passed:s,tooMany:a,exact:l}=this._validateFilesCount(),c=0===i.validationFailed;this.set$({doneBtnHidden:!o,doneBtnDisabled:!s||!c,uploadBtnHidden:o,uploadBtnDisabled:i.uploading>0||!s||!c,addMoreBtnDisabled:a||l,addMoreBtnHidden:l&&!this.getCssData("--cfg-multiple")}),!this.getCssData("--cfg-confirm-upload")&&s&&o&&this.$.onDone()}initCallback(){super.initCallback(),this.registerActivity(this.activityType,()=>{this.set$({"*activityCaption":this.l10n("selected"),"*activityIcon":"local"})}),this.sub("--cfg-multiple",()=>this._handleCollectionUpdate()),this.sub("--cfg-multiple-min",()=>this._handleCollectionUpdate()),this.sub("--cfg-multiple-max",()=>this._handleCollectionUpdate()),this.uploadCollection.observe(()=>{this._handleCollectionUpdate()}),this.sub("*uploadList",n=>{0!==(null==n?void 0:n.length)||this.getCssData("--cfg-show-empty-list")?(this._handleCollectionUpdate(),this.set$({hasFiles:n.length>0}),this.setForCtxTarget("lr-modal","*modalActive",!0)):this.cancelFlow()})}}return t.template='\n<div class="no-files" set="@hidden: hasFiles">\n  <slot name="empty"><span l10n="no-files"></span></slot>\n</div>\n\n<div \n  class="files" \n  repeat="*uploadList"\n  repeat-item-tag="lr-file-item"></div>\n\n<div class="toolbar">\n  <button\n    type="button"\n    class="cancel-btn secondary-btn"\n    set="onclick: onCancel;"\n    l10n="clear"></button>\n  <div class="toolbar-spacer"></div>\n  <button\n    type="button"\n    class="add-more-btn secondary-btn"\n    set="onclick: onAdd; @disabled: addMoreBtnDisabled; @hidden: addMoreBtnHidden"\n    l10n="add-more"></button>\n  <button\n    type="button"\n    class="upload-btn primary-btn"\n    set="@hidden: uploadBtnHidden; onclick: onUpload; @disabled: uploadBtnDisabled"\n    l10n="upload"></button>\n  <button\n    type="button"\n    class="done-btn primary-btn"\n    set="@hidden: doneBtnHidden; onclick: onDone;  @disabled: doneBtnDisabled"\n    l10n="done"></button>\n</div>\n',t})(),rM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"activityType",H.activities.URL),w(this,"init$",R(E({},this.ctxInit),{importDisabled:!0,onUpload:()=>{this.uploadCollection.add({externalUrl:this.ref.input.value}),this.$["*currentActivity"]=H.activities.UPLOAD_LIST},onCancel:()=>{this.cancelFlow()},onInput:n=>{this.set$({importDisabled:!n.target.value})}}))}initCallback(){super.initCallback(),this.registerActivity(this.activityType,()=>{this.set$({"*activityCaption":this.l10n("caption-from-url"),"*activityIcon":"url"})})}}return t.template='\n<input placeholder="https://..." .url-input type="text" ref="input" set="oninput: onInput"/>\n<button\n  type="button"\n  class="url-upload-btn primary-btn"\n  set="onclick: onUpload; @disabled: importDisabled">\n</button>\n<button\n  type="button"\n  class="cancel-btn secondary-btn"\n  set="onclick: onCancel"\n  l10n="cancel">\n</button>\n',t})();const A0=()=>void 0!==navigator.permissions;let oM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"activityType",H.activities.CAMERA),w(this,"_unsubPermissions",null),w(this,"init$",R(E({},this.ctxInit),{video:null,videoTransformCss:null,shotBtnDisabled:!1,videoHidden:!1,messageHidden:!0,requestBtnHidden:A0(),l10nMessage:null,cameraSelectOptions:null,cameraSelectHidden:!0,onCameraSelectChange:n=>{this._selectedCameraId=n.target.value,this._capture()},onCancel:()=>{this.cancelFlow()},onShot:()=>{this._shot()},onRequestPermissions:()=>{this._capture()}})),w(this,"cssInit$",{"--cfg-camera-mirror":1}),w(this,"_onActivate",()=>{this.set$({"*activityCaption":this.l10n("caption-camera"),"*activityIcon":"camera"}),A0()&&this._subscribePermissions(),this._capture()}),w(this,"_onDeactivate",()=>{this._unsubPermissions&&this._unsubPermissions(),this._stopCapture()}),w(this,"_handlePermissionsChange",()=>{this._capture()}),w(this,"_setPermissionsState",function iM(t,e){let n,r=(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)};return r.cancel=()=>{clearTimeout(n)},r}(n=>{"granted"===n?this.set$({videoHidden:!1,shotBtnDisabled:!1,messageHidden:!0}):"prompt"===n?(this.$.l10nMessage=this.l10n("camera-permissions-prompt"),this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage=this.l10n("camera-permissions-denied"),this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture())},300))}_subscribePermissions(){var n=this;return ut(function*(){try{(yield navigator.permissions.query({name:"camera"})).addEventListener("change",n._handlePermissionsChange)}catch(r){console.log("Failed to use permissions API. Fallback to manual request mode.",r),n._capture()}})()}_capture(){var n=this;return ut(function*(){let r={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1};n._selectedCameraId&&(r.video.deviceId={exact:n._selectedCameraId}),n._canvas=document.createElement("canvas"),n._ctx=n._canvas.getContext("2d");try{n._setPermissionsState("prompt");let i=yield navigator.mediaDevices.getUserMedia(r);i.addEventListener("inactive",()=>{n._setPermissionsState("denied")}),n.$.video=i,n._capturing=!0,n._setPermissionsState("granted")}catch(i){n._setPermissionsState("denied")}})()}_stopCapture(){var n;this._capturing&&(null==(n=this.$.video)||n.getTracks()[0].stop(),this.$.video=null,this._capturing=!1)}_shot(){this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this._ctx.drawImage(this.ref.video,0,0);let n=Date.now(),r=`camera-${n}.png`;this._canvas.toBlob(i=>{let o=new File([i],r,{lastModified:n,type:"image/png"});this.uploadCollection.add({file:o,fileName:r,fileSize:o.size,isImage:!0,mimeType:o.type}),this.set$({"*currentActivity":H.activities.UPLOAD_LIST})})}initCallback(){var n=()=>super.initCallback,r=this;return ut(function*(){n().call(r),r.registerActivity(r.activityType,r._onActivate,r._onDeactivate),r.sub("--cfg-camera-mirror",s=>{r.$.videoTransformCss=s?"scaleX(-1)":null});let o=(yield navigator.mediaDevices.enumerateDevices()).filter(s=>"videoinput"===s.kind).map((s,a)=>({text:s.label.trim()||`${r.l10n("caption-camera")} ${a+1}`,value:s.deviceId}));o.length>1&&(r.$.cameraSelectOptions=o,r.$.cameraSelectHidden=!1)})()}}return t.template='\n<div class="content">\n  <video\n    autoplay\n    playsinline\n    set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"\n    ref="video">\n  </video>\n  <div class="message-box" set="@hidden: messageHidden">\n    <span>{{l10nMessage}}</span>\n    <button type="button" set="onclick: onRequestPermissions; @hidden: requestBtnHidden" l10n="camera-permissions-request"></button>\n  </div>\n</div>\n\n<div class="toolbar">\n  <button\n    type="button"\n    class="cancel-btn secondary-btn"\n    set="onclick: onCancel"\n    l10n="cancel">\n  </button>\n  <lr-select \n    set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange">\n  </lr-select>\n  <button\n    type="button"\n    class="shot-btn primary-btn"\n    set="onclick: onShot; @disabled: shotBtnDisabled"\n    l10n="camera-shot">\n  </button>\n</div>\n',t})();class sM extends ue{}let aM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"activityType",H.activities.DETAILS),w(this,"pauseRender",!0),w(this,"init$",R(E({},this.ctxInit),{checkerboard:!1,fileSize:null,fileName:"",cdnUrl:"",errorTxt:"",cloudEditBtnHidden:!0,onNameInput:null,onBack:()=>{this.historyBack()},onRemove:()=>{this.uploadCollection.remove(this.entry.uid),this.historyBack()},onCloudEdit:()=>{this.entry.getValue("uuid")&&(this.$["*currentActivity"]=H.activities.CLOUD_IMG_EDIT)}})),w(this,"cssInit$",{"--cfg-use-cloud-image-editor":0,"--cfg-use-local-image-editor":0})}showNonImageThumb(){let r=I0(window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon"),108,108);this.eCanvas.setImageUrl(r),this.set$({checkerboard:!1})}initCallback(){super.initCallback(),this.render(),this.$.fileSize=this.l10n("file-size-unknown"),this.registerActivity(this.activityType,()=>{this.set$({"*activityCaption":this.l10n("caption-edit-file")})}),this.eCanvas=this.ref.canvas,this.sub("*focusedEntry",n=>{if(!n)return;this._entrySubs?this._entrySubs.forEach(o=>{this._entrySubs.delete(o),o.remove()}):this._entrySubs=new Set,this.entry=n;let r=n.getValue("file");if(this.eCanvas.clear(),r){this._file=r;let o=this._file.type.includes("image");o&&!n.getValue("cdnUrl")&&(this.eCanvas.setImageFile(this._file),this.set$({checkerboard:!0})),o||this.showNonImageThumb()}let i=(o,s)=>{this._entrySubs.add(this.entry.subscribe(o,s))};i("fileName",o=>{this.$.fileName=o,this.$.onNameInput=()=>{let s=this.ref.file_name_input.value;Object.defineProperty(this._file,"name",{writable:!0,value:s}),this.entry.setValue("fileName",s)}}),i("fileSize",o=>{this.$.fileSize=Number.isFinite(o)?this.fileSizeFmt(o):this.l10n("file-size-unknown")}),i("uploadError",o=>{this.$.errorTxt=null==o?void 0:o.message}),i("externalUrl",o=>{!o||this.entry.getValue("uuid")||this.showNonImageThumb()}),i("cdnUrl",o=>{const s=this.$["--cfg-use-cloud-image-editor"]&&o&&this.entry.getValue("isImage");if(this.eCanvas.clear(),this.set$({cdnUrl:o,cloudEditBtnHidden:!s}),o&&this.entry.getValue("isImage")){let a=Mt(o,on("format/auto","preview"));this.eCanvas.setImageUrl(this.proxyUrl(a))}})})}}return t.template='\n<lr-tabs\n  tab-list="tab-view, tab-details">\n\n  <div\n    tab-ctx="tab-details"\n    class="details">\n\n    <div class="info-block">\n      <div class="info-block_name" l10n="file-name"></div>\n      <input\n        name="name-input"\n        ref="file_name_input"\n        set="value: fileName; oninput: onNameInput; @disabled: !!cdnUrl"\n        type="text" />\n    </div>\n\n    <div class="info-block">\n      <div class="info-block_name" l10n="file-size"></div>\n      <div>{{fileSize}}</div>\n    </div>\n\n    <div class="info-block">\n      <div class="info-block_name" l10n="cdn-url"></div>\n      <a\n        class="cdn-link"\n        target="_blank"\n        set="@href: cdnUrl; @disabled: !cdnUrl">{{cdnUrl}}</a>\n    </div>\n\n    <div>{{errorTxt}}</div>\n\n  </div>\n\n  <lr-editable-canvas\n    tab-ctx="tab-view"\n    set="@disabled: !--cfg-use-local-image-editor; @checkerboard: checkerboard;"\n    ref="canvas">\n  </lr-editable-canvas>\n</lr-tabs>\n\n<div class="toolbar" set="@edit-disabled: cloudEditBtnHidden">\n  <button\n    type="button"\n    class="edit-btn secondary-btn"\n    set="onclick: onCloudEdit; @hidden: cloudEditBtnHidden;">\n    <lr-icon name="edit"></lr-icon>\n    <span l10n="edit-image"></span>\n  </button>\n  <button\n    type="button"\n    class="remove-btn secondary-btn"\n    set="onclick: onRemove">\n    <lr-icon name="remove"></lr-icon>\n    <span l10n="remove-from-list"></span>\n  </button>\n  <div></div>\n  <button\n    type="button"\n    class="back-btn primary-btn"\n    set="onclick: onBack">\n    <span l10n="ok"></span>\n  </button>\n</div>\n',t})(),lM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{visible:!1,unknown:!1,value:0,"*commonProgress":0}))}initCallback(){super.initCallback(),this.uploadCollection.observe(()=>{let n=this.uploadCollection.items().some(r=>this.uploadCollection.read(r).getValue("isUploading"));this.$.visible=n}),this.sub("visible",n=>{n?this.setAttribute("active",""):this.removeAttribute("active")}),this.sub("*commonProgress",n=>{this.$.value=n})}}return t.template='\n<lr-progress-bar set="visible: visible; unknown: unknown; value: value"></lr-progress-bar>\n',t})(),cM=(()=>{class t extends se{constructor(){super(...arguments),w(this,"_value",0),w(this,"_unknownMode",!1),w(this,"init$",R(E({},this.ctxInit),{width:0,opacity:0}))}initCallback(){super.initCallback(),this.defineAccessor("value",n=>{void 0!==n&&(this._value=n,this._unknownMode||this.style.setProperty("--l-width",this._value.toString()))}),this.defineAccessor("visible",n=>{this.ref.line.classList.toggle("progress--hidden",!n)}),this.defineAccessor("unknown",n=>{this._unknownMode=n,this.ref.line.classList.toggle("progress--unknown",n)})}}return t.template='\n<div\n  ref="line"\n  class="progress">\n</div>\n',t})(),S0=(()=>{class t extends se{constructor(){super(),w(this,"init$",R(E({},this.ctxInit),{refMap:null,disabled:!0,toolbarHidden:!0,checkerboard:!1})),qm(this,{display:"flex",justifyContent:"center",alignItems:"center"})}initCallback(){super.initCallback(),this.sub("disabled",()=>{this.$.toolbarHidden=this.hasAttribute("disabled")&&"false"!==this.getAttribute("disabled")}),this.sub("checkerboard",()=>{this.style.backgroundImage=this.hasAttribute("checkerboard")?`url(${function KI(t="#fff",e="rgba(0, 0, 0, .1)"){return Zc(`<svg height="20" width="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <rect x="0" y="0" width="20" height="20" fill="${t}" />\n    <rect x="0" y="0" width="10" height="10" fill="${e}" />\n    <rect x="10" y="10" width="10" height="10" fill="${e}" />\n  </svg>`)}()})`:"unset"}),this.canvas=this.ref.cvs,this.canvCtx=this.canvas.getContext("2d"),this.$.refMap={parent:this,canvas:this.canvas,canvCtx:this.canvCtx,svg:this.ref.svg,svgGroup:this.ref.svg_g,svgImg:this.ref.svg_img}}setImage(n){n.height&&n.width?(this.canvas.height=n.height,this.canvas.width=n.width,this.canvCtx.drawImage(n,0,0,n.width,n.height)):(this.clear(),n.onload=()=>{this.canvas.height=n.height,this.canvas.width=n.width,this.canvCtx.drawImage(n,0,0,n.width,n.height)})}setImageFile(n){let r=new Image,i=URL.createObjectURL(n);r.src=i,this.setImage(r)}setImageUrl(n){let r=new Image;r.src=n,this.setImage(r)}clear(){this.canvCtx.clearRect(0,0,this.canvas.width,this.canvas.height)}}return t.template='\n<canvas class="img-view" ref="cvs"></canvas>\n<svg class="img-view" xmlns="http://www.w3.org/2000/svg" ref="svg">\n  <g ref="svg_g">\n    <image ref="svg_img" x="0" y="0"></image>\n  </g>\n</svg>\n<editable-canvas-toolbar\n  set="refMap: refMap; @hidden: toolbarHidden">\n</editable-canvas-toolbar>\n',t})();function k0(...t){return t.reduce((e,n)=>{if("string"==typeof n)return e[n]=!0,e;for(let r of Object.keys(n))e[r]=n[r];return e},{})}function $e(...t){let e=k0(...t);return Object.keys(e).reduce((n,r)=>(e[r]&&n.push(r),n),[]).join(" ")}function Oi(t,e){let n,r=(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)};return r.cancel=()=>{clearTimeout(n)},r}S0.bindAttributes({disabled:"disabled",checkerboard:"checkerboard"});const Rr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function _s(t){let e=new Image;return{promise:new Promise((i,o)=>{e.src=t,e.onload=i,e.onerror=o}),image:e,cancel:()=>{0===e.naturalWidth&&(e.src=Rr)}}}function Yc(t){let e=[];for(let o of t){let s=_s(o);e.push(s)}let n=e.map(o=>o.image);return{promise:Promise.allSettled(e.map(o=>o.promise)),images:n,cancel:()=>{e.forEach(o=>{o.cancel()})}}}const ft={brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0},fM=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function Xc(t){return zc(...fM.filter(e=>null!=t[e]).map(e=>function dM(t,e){if("number"==typeof e)return ft[t]!==e?`${t}/${e}`:"";if("boolean"==typeof e)return e&&ft[t]!==e?`${t}`:"";if("filter"===t){if(!e||ft[t]===e.amount)return"";let{name:n,amount:r}=e;return`${t}/${n}/${r}`}if("crop"===t){if(!e)return"";let{dimensions:n,coords:r}=e;return`${t}/${n.join("x")}/${r.join(",")}`}return""}(e,t[e])).filter(e=>!!e))}const F0=zc("format/auto","progressive/yes"),pM=`\n<div class="wrapper wrapper_desktop">\n  <lr-presence-toggle class="network_problems_splash" set="visible: presence.networkProblems;">\n    <div class="network_problems_content">\n      <div class="network_problems_icon">\n        <lr-icon size="20" name="sad"></lr-icon>\n      </div>\n      <div class="network_problems_text">\n        Network error\n      </div>\n    </div>\n    <div class="network_problems_footer">\n      <lr-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></lr-btn-ui>\n    </div>\n  </lr-presence-toggle>\n  <div class="viewport">\n    <div class="file_type_outer">\n      <div class="file_type">{{fileType}}</div>\n    </div>\n    <div class="image_container" ref="img-container-el">\n      <img src="${Rr}" class="image image_visible_from_editor" ref="img-el">\n      <lr-editor-image-cropper ref="cropper-el"></lr-editor-image-cropper>\n      <lr-editor-image-fader ref="fader-el"></lr-editor-image-fader>\n    </div>\n    <div class="info_pan">{{msg}}</div>\n  </div>\n  <div class="toolbar">\n    <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>\n    <div class="toolbar_content toolbar_content__editor">\n      <lr-editor-toolbar></lr-editor-toolbar>\n    </div>\n  </div>\n</div>\n`,Qc=["crop","sliders","filters"],gM=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],mM=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],vM=["rotate","mirror","flip"],$i={brightness:{zero:ft.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:ft.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:ft.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:ft.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:ft.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:ft.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:ft.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:ft.enhance,range:[0,100],keypointsNumber:1},filter:{zero:ft.filter,range:[0,100],keypointsNumber:1}};function ws(t,e,n){let i=window.devicePixelRatio,o=Math.min(Math.ceil(e*i),3e3),s=i>=2?"lightest":"normal";return Mt(t,on(F0,Xc(n),`quality/${s}`,`stretch/off/-/resize/${o}x`))}let Kc=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",E(E({},this.ctxInit),function hM(t){return{"*originalUrl":null,"*tabId":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:Rr,fileType:"",showLoader:!1,uuid:null,"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let e=t.querySelectorAll("img");for(let n of e){let r=n.src;n.src=Rr,n.src=r}t.$["*networkProblems"]=!1},"*on.apply":e=>{if(!e)return;let n=t.$["*originalUrl"],r=on(Xc(e)),i=Mt(n,on(r,"preview"));t.dispatchEvent(new CustomEvent("apply",{detail:{originalUrl:n,cdnUrlModifiers:r,cdnUrl:i,transformations:e}})),t.remove()},"*on.cancel":()=>{t.remove(),t.dispatchEvent(new CustomEvent("cancel"))}}}(this))),w(this,"_debouncedShowLoader",Oi(this._showLoader.bind(this),300)),w(this,"cssInit$",{"--cfg-cdn-cname":"https://ucarecdn.com"})}get ctxName(){return this.autoCtxName}_showLoader(n){this.$.showLoader=n}_loadImageFromCdn(){this._debouncedShowLoader(!0);let n=this._imageSrc(),{promise:r,cancel:i}=_s(n);r.then(()=>{this.$.src=n}).catch(o=>{this.$["*networkProblems"]=!0,this._debouncedShowLoader(!1),this.$.src=n}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=i}_imageSrc(){let{width:n}=this.ref["img-container-el"].getBoundingClientRect();return this.proxyUrl(ws(this.$["*originalUrl"],n,{}))}_waitForSize(){return new Promise((n,r)=>{let o=Date.now(),s=()=>{if(!this.isConnected)return clearInterval(a),void r();if(Date.now()-o>300)return clearInterval(a),void r(new Error("[cloud-image-editor] timout waiting for non-zero container size"));let{width:l,height:c}=this.getBoundingClientRect();l>0&&c>0&&(clearInterval(a),n())},a=setInterval(s,50);s()})}initCallback(){var n=this;return ut(function*(){n.$["*originalUrl"]=bs(n.localCtx.read("--cfg-cdn-cname"),n.$.uuid),n.$["*faderEl"]=n.ref["fader-el"],n.$["*cropperEl"]=n.ref["cropper-el"],n.$["*imgContainerEl"]=n.ref["img-container-el"],n.classList.add("editor_ON"),n.sub("*networkProblems",r=>{n.$["presence.networkProblems"]=r,n.$["presence.modalCaption"]=!r}),n.ref["img-el"].addEventListener("load",r=>{n._imgLoading=!1,n._debouncedShowLoader(!1),n.$.src!==Rr&&(n.$["*networkProblems"]=!1)}),n.ref["img-el"].addEventListener("error",r=>{n._imgLoading=!1,n._debouncedShowLoader(!1),n.$["*networkProblems"]=!0}),n.sub("src",r=>{let i=n.ref["img-el"];i.src!==r&&(n._imgLoading=!0,i.src=r||Rr)}),n.sub("*tabId",r=>{n.ref["img-el"].className=$e("image",{image_hidden_to_cropper:"crop"===r,image_hidden_effects:"crop"!==r})});try{fetch(Mt(n.$["*originalUrl"],on("json"))).then(r=>r.json()).then(({width:r,height:i})=>{n.$["*imageSize"]={width:r,height:i}}),yield n._waitForSize(),n._loadImageFromCdn()}catch(r){r&&console.error("Failed to load image info",r)}})()}}return t.template=pM,t})();Kc.bindAttributes({uuid:"uuid"});class yM extends ue{constructor(){super(...arguments),w(this,"activityType",H.activities.CLOUD_IMG_EDIT),w(this,"init$",R(E({},this.ctxInit),{uuid:null}))}initCallback(){super.initCallback(),this.bindCssData("--cfg-pubkey"),this.sub("*currentActivity",e=>{e===H.activities.CLOUD_IMG_EDIT?this.mountEditor():this.unmountEditor()}),this.sub("*focusedEntry",e=>{!e||(this.entry=e,this.entry.subscribe("uuid",n=>{n&&(this.$.uuid=n)}))})}handleApply(e){let n=e.detail;this.entry.setMultipleValues({cdnUrl:n.cdnUrl,cdnUrlModifiers:n.cdnUrlModifiers}),this.historyBack()}handleCancel(){this.historyBack()}mountEditor(){let e=new Kc;e.classList.add("lr-cldtr-common"),e.setAttribute("uuid",this.$.uuid),e.addEventListener("apply",r=>this.handleApply(r)),e.addEventListener("cancel",()=>this.handleCancel()),this.innerHTML="",this.appendChild(e)}unmountEditor(){this.innerHTML=""}}let Dn={};function DM({textColor:t,backgroundColor:e,linkColor:n,linkColorHover:r,shadeColor:i}){let o=`solid 1px ${i}`;return(t=>Object.keys(t).reduce((n,r)=>{let i=t[r];return n+`${r}{${Object.keys(i).reduce((s,a)=>s+`${a}: ${i[a]};`,"")}}`},""))({body:{color:t,"background-color":e},".side-bar":{background:"inherit","border-right":o},".main-content":{background:"inherit"},".main-content-header":{background:"inherit"},".main-content-footer":{background:"inherit"},".list-table-row":{color:"inherit"},".list-table-row:hover":{background:i},".list-table-row .list-table-cell-a, .list-table-row .list-table-cell-b":{"border-top":o},".list-table-body .list-items":{"border-bottom":o},".bread-crumbs a":{color:n},".bread-crumbs a:hover":{color:r},".main-content.loading":{background:`${e} url(/static/images/loading_spinner.gif) center no-repeat`,"background-size":"25px 25px"},".list-icons-item":{background:`center no-repeat ${i}`},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a":{color:n},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a:hover":{color:r},".side-bar-menu a":{color:n},".side-bar-menu a:hover":{color:r},".source-gdrive .side-bar-menu .current, .source-gdrive .side-bar-menu a:hover, .source-gphotos .side-bar-menu .current, .source-gphotos .side-bar-menu a:hover":{color:r},".source-vk .side-bar-menu a":{color:n},".source-vk .side-bar-menu a:hover":{color:r,background:"none"}})}window.addEventListener("message",t=>{let e;try{e=JSON.parse(t.data)}catch(n){return}if((null==e?void 0:e.type)in Dn){let n=Dn[e.type];for(let[r,i]of n)t.source===r&&i(e)}});let EM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"activityType",H.activities.EXTERNAL),w(this,"init$",R(E({},this.ctxInit),{counter:0,onDone:()=>{this.$["*currentActivity"]=H.activities.UPLOAD_LIST},onCancel:()=>{this.cancelFlow()}})),w(this,"_iframe",null)}initCallback(){super.initCallback(),this.registerActivity(this.activityType,()=>{let{externalSourceType:n}=this.activityParams;this.set$({"*activityCaption":`${null==n?void 0:n[0].toUpperCase()}${null==n?void 0:n.slice(1)}`,"*activityIcon":n}),this.$.counter=0,this.mountIframe()}),this.sub("*currentActivity",n=>{n!==this.activityType&&this.unmountIframe()})}sendMessage(n){this._iframe.contentWindow.postMessage(JSON.stringify(n),"*")}handleFileSelected(n){var r=this;return ut(function*(){r.$.counter=r.$.counter+1;let{url:i,filename:o}=n;r.uploadCollection.add({externalUrl:i,fileName:o})})()}handleIframeLoad(n){this.applyStyles()}getCssValue(n){return window.getComputedStyle(this).getPropertyValue(n).trim()}applyStyles(){let n={backgroundColor:this.getCssValue("--clr-background-light"),textColor:this.getCssValue("--clr-txt"),shadeColor:this.getCssValue("--clr-shade-lv1"),linkColor:"#157cfc",linkColorHover:"#3891ff"};this.sendMessage({type:"embed-css",style:DM(n)})}remoteUrl(){let n=this.getCssData("--cfg-pubkey"),r=(!1).toString(),{externalSourceType:i}=this.activityParams;return`https://social.uploadcare.com/window3/${i}?${function CM(t){let e=[];for(let[n,r]of Object.entries(t))null==r||"string"==typeof r&&0===r.length||e.push(`${n}=${encodeURIComponent(r)}`);return e.join("&")}({lang:"en",widget_version:"3.11.3",public_key:n,images_only:r,pass_window_open:!1,session_key:this.getCssData("--cfg-remote-tab-session-key")})}`}mountIframe(){let n=Nc({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});n.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(n),function(t,e,n){t in Dn||(Dn[t]=[]),Dn[t].push([e,n])}("file-selected",n.contentWindow,this.handleFileSelected.bind(this)),this._iframe=n}unmountIframe(){this._iframe&&function(t,e){t in Dn&&(Dn[t]=Dn[t].filter(n=>n[0]!==e))}("file-selected",this._iframe.contentWindow),this.ref.iframeWrapper.innerHTML="",this._iframe=void 0}}return t.template='\n<div\n  ref="iframeWrapper"\n  class="iframe-wrapper">\n</div>\n<div class="toolbar">\n  <button type="button"\n    class="cancel-btn secondary-btn"\n    set="onclick: onCancel"\n    l10n="cancel">\n  </button>\n  <div></div>\n  <div class="selected-counter">\n    <span l10n="selected-count"></span>{{counter}}</div>\n  <button type="button" class="done-btn primary-btn" set="onclick: onDone">\n    <lr-icon name="check"></lr-icon>\n  </button>\n</div>\n',t})();class Jc extends se{setCurrentTab(e){if(e){[...this.ref.context.querySelectorAll("[tab-ctx]")].forEach(r=>{r.getAttribute("tab-ctx")===e?r.removeAttribute("hidden"):r.setAttribute("hidden","")});for(let r in this._tabMap)r===e?this._tabMap[r].setAttribute("current",""):this._tabMap[r].removeAttribute("current")}}initCallback(){super.initCallback(),this._tabMap={},this.defineAccessor("tab-list",e=>{e&&e.split(",").map(r=>r.trim()).forEach(r=>{let i=Nc({tag:"div",attributes:{class:"tab"},properties:{onclick:()=>{this.setCurrentTab(r)}}});i.textContent=this.l10n(r),this.ref.row.appendChild(i),this._tabMap[r]=i})}),this.defineAccessor("default",e=>{this.setCurrentTab(e)}),this.hasAttribute("default")||this.setCurrentTab(Object.keys(this._tabMap)[0])}}Jc.bindAttributes({"tab-list":null,default:null}),Jc.template='\n<div ref="row" class="tabs-row"></div>\n<div ref="context" class="tabs-context">\n  <slot></slot>\n</div>\n';let xM=(()=>{class t extends ue{constructor(){super(...arguments),w(this,"processInnerHtml",!0),w(this,"init$",R(E({},this.ctxInit),{output:null,filesData:null})),w(this,"cssInit$",{"--cfg-group-output":0})}get dict(){return t.dict}initCallback(){var n=this;super.initCallback(),this.sub("output",r=>{!r||(this.hasAttribute(this.dict.FIRE_EVENT_ATTR)&&this.dispatchEvent(new CustomEvent(this.dict.EVENT_NAME,{bubbles:!0,composed:!0,detail:{timestamp:Date.now(),ctxName:this.ctxName,data:r}})),this.hasAttribute(this.dict.FORM_VALUE_ATTR)&&(this._input||(this._input=document.createElement("input"),this._input.type="text",this._input.hidden=!0,this.appendChild(this._input)),this._input.value=JSON.stringify(r)),this.hasAttribute(this.dict.CONSOLE_ATTR)&&console.log(r))},!1),this.sub(this.dict.SRC_CTX_KEY,function(){var r=ut(function*(i){if(!i)return n.$.output=null,void(n.$.filesData=null);if(n.$.filesData=i,n.getCssData("--cfg-group-output")||n.hasAttribute(n.dict.GROUP_ATTR)){let o=i.map(a=>a.uuid),s=yield v0(o,E({},n.getUploadClientOptions()));n.$.output={groupData:s,files:i}}else n.$.output=i});return function(i){return r.apply(this,arguments)}}(),!1)}}return t.dict={SRC_CTX_KEY:"*outputData",EVENT_NAME:"lr-data-output",FIRE_EVENT_ATTR:"use-event",CONSOLE_ATTR:"use-console",GROUP_ATTR:"use-group",FORM_VALUE_ATTR:"form-value"},t})(),TM=(()=>{class t extends H{}return t.template='\n<div class="caption">{{*activityCaption}}</div>\n',t})(),IM=(()=>{class t extends H{}return t.template='\n<lr-icon set="@name: *activityIcon"></lr-icon>\n',t})(),MM=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{currentText:"",options:[],selectHtml:"",onSelect:n=>{var r;n.preventDefault(),n.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=(null==(r=this.$.options.find(i=>i.value==this.value))?void 0:r.text)||"",this.dispatchEvent(new Event("change"))}}))}initCallback(){super.initCallback(),this.sub("options",n=>{var i;this.$.currentText=(null==(i=null==n?void 0:n[0])?void 0:i.text)||"";let r="";null==n||n.forEach(o=>{r+=`<option value="${o.value}">${o.text}</option>`}),this.$.selectHtml=r})}}return t.template='\n<button>\n  {{currentText}}\n  <lr-icon name="select"></lr-icon>\n  <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select>\n</button>\n',t})();class eu extends se{constructor(){super(...arguments),w(this,"pauseRender",!0)}shadowReadyCallback(){}initCallback(){super.initCallback();let e=this.getAttribute("css-src");if(e){this.renderShadow=!0,this.attachShadow({mode:"open"});let n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,n.onload=()=>{window.requestAnimationFrame(()=>{this.render(),window.setTimeout(()=>{this.shadowReadyCallback()})})},this.shadowRoot.appendChild(n)}else this.render(),this.shadowReadyCallback()}}let SM=(()=>{class t extends eu{}return t.template='\n<lr-simple-btn></lr-simple-btn>\n\n<lr-modal strokes block-body-scrolling>\n  <lr-activity-icon slot="heading"></lr-activity-icon>\n  <lr-activity-caption slot="heading"></lr-activity-caption>\n  <lr-start-from>\n    <lr-source-list wrap></lr-source-list>\n    <lr-drop-area clickable></lr-drop-area>\n  </lr-start-from>\n  <lr-upload-list></lr-upload-list>\n  <lr-camera-source></lr-camera-source>\n  <lr-url-source></lr-url-source>\n  <lr-external-source></lr-external-source>\n  <lr-upload-details></lr-upload-details>\n  <lr-confirmation-dialog></lr-confirmation-dialog>\n  <lr-cloud-image-editor></lr-cloud-image-editor>\n</lr-modal>\n\n<lr-message-box></lr-message-box>\n<lr-progress-bar-common></lr-progress-bar-common>\n',t})();class kM extends eu{constructor(){super(...arguments),w(this,"ctxInit",Qm),w(this,"ctxOwner",!0)}}let FM=(()=>{class t extends kM{constructor(){super(...arguments),w(this,"pauseRender",!0),w(this,"init$",R(E({},this.ctxInit),{selectClicked:()=>{this.ref.uBlock.openSystemDialog()}}))}shadowReadyCallback(){const n=this.ref.uBlock;this.sub("*currentActivity",r=>{r||(this.$["*currentActivity"]=n.initActivity||H.activities.START_FROM)})}}return t.template='\n  <lr-start-from>\n    <lr-drop-area clickable l10n="drop-files-here"></lr-drop-area>\n  </lr-start-from>\n  <lr-upload-list ref="uBlock"></lr-upload-list>\n  <lr-message-box></lr-message-box>\n',t})(),RM=(()=>{class t extends eu{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{dropAreaHidden:!1}))}shadowReadyCallback(){const n=this.ref.uBlock;this.sub("*currentActivity",r=>{r||(this.$["*currentActivity"]=n.initActivity||H.activities.START_FROM)}),window.customElements.whenDefined(n.tagName.toLowerCase()).then(()=>{1===n.sourceList.length&&!n.sourceList.includes(ue.sourceTypes.LOCAL)&&(this.$.dropAreaHidden=!0)})}}return t.template='\n<lr-start-from>\n  <lr-source-list wrap></lr-source-list>\n  <lr-drop-area set="@hidden: dropAreaHidden" clickable></lr-drop-area>\n</lr-start-from>\n<lr-upload-list ref="uBlock"></lr-upload-list>\n<lr-camera-source></lr-camera-source>\n<lr-url-source></lr-url-source>\n<lr-external-source></lr-external-source>\n<lr-upload-details></lr-upload-details>\n<lr-confirmation-dialog></lr-confirmation-dialog>\n<lr-message-box></lr-message-box>\n<lr-progress-bar></lr-progress-bar>\n<lr-cloud-image-editor></lr-cloud-image-editor>',t})();const At=1.5,Cs=100/3;function Nr(t,e){for(let n in e)t.setAttributeNS(null,n,e[n].toString())}function St(t,e={}){let n=document.createElementNS("http://www.w3.org/2000/svg",t);return Nr(n,e),n}function PM(t,e){let{x:n,y:r,width:i,height:o}=t,s=e.includes("w")?0:1,a=e.includes("n")?0:1,l=[-1,1][s],c=[-1,1][a],u=[n+s*i+At*l,r+a*o+At*c-24*c],d=[n+s*i+At*l,r+a*o+At*c],f=[n+s*i-24*l+At*l,r+a*o+At*c];return{d:`M ${u[0]} ${u[1]} L ${d[0]} ${d[1]} L ${f[0]} ${f[1]}`,center:d}}function LM(t,e){let u,d,{x:n,y:r,width:i,height:o}=t,s=["n","s"].includes(e)?.5:{w:0,e:1}[e],a=["w","e"].includes(e)?.5:{n:0,s:1}[e],l=[-1,1][s],c=[-1,1][a];return["n","s"].includes(e)?(u=[n+s*i-17,r+a*o+At*c],d=[n+s*i+17,r+a*o+At*c]):(u=[n+s*i+At*l,r+a*o-17],d=[n+s*i+At*l,r+a*o+17]),{d:`M ${u[0]} ${u[1]} L ${d[0]} ${d[1]}`,center:[d[0]-(d[0]-u[0])/2,d[1]-(d[1]-u[1])/2]}}function N0(t,e){let{x:n}=t,{y:r}=t;return t.x<e.x?n=e.x:t.x+t.width>e.x+e.width&&(n=e.x+e.width-t.width),t.y<e.y?r=e.y:t.y+t.height>e.y+e.height&&(r=e.y+e.height-t.height),R(E({},t),{x:n,y:r})}function P0(t,[e,n],r){let{x:i,y:o,width:s,height:a}=t;if(r.includes("n")){let l=a;a=Math.max(n,a),o=o+l-a}if(r.includes("s")&&(a=Math.max(n,a)),r.includes("w")){let l=s;s=Math.max(e,s),i=i+l-s}return r.includes("e")&&(s=Math.max(e,s)),{x:i,y:o,width:s,height:a}}let jM=(()=>{class t extends se{constructor(){super(),w(this,"init$",R(E({},this.ctxInit),{dragging:!1})),this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(n){let r=this.$["*imageBox"];if(!r)return;if(""===n&&r.height<=82&&r.width<=82)return!0;let i=r.height<=82&&(n.includes("n")||n.includes("s")),o=r.width<=82&&(n.includes("e")||n.includes("w"));return i||o}_createBackdrop(){let n=this.$["*cropBox"];if(!n)return;let{x:r,y:i,width:o,height:s}=n,a=this.ref["svg-el"],l=St("mask",{id:"backdrop-mask"}),c=St("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),u=St("rect",{x:r,y:i,width:o,height:s,fill:"black"});l.appendChild(c),l.appendChild(u);let d=St("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});a.appendChild(d),a.appendChild(l),this._backdropMask=l,this._backdropMaskInner=u}_resizeBackdrop(){!this._backdropMask||(this._backdropMask.style.display="none",window.requestAnimationFrame(()=>{this._backdropMask.style.display="block"}))}_updateBackdrop(){let n=this.$["*cropBox"];if(!n)return;let{x:r,y:i,width:o,height:s}=n;Nr(this._backdropMaskInner,{x:r,y:i,width:o,height:s})}_updateFrame(){let n=this.$["*cropBox"];if(n){for(let i of Object.values(this._frameThumbs)){let{direction:o,pathNode:s,interactionNode:a,groupNode:l}=i,u=2===o.length;if(""===o){let{x:f,y:h,width:p,height:m}=n,v=[f+p/2,h+m/2];Nr(a,{r:Math.min(p,m)/3,cx:v[0],cy:v[1]})}else{let{d:f,center:h}=u?PM(n,o):LM(n,o);Nr(a,{cx:h[0],cy:h[1]}),Nr(s,{d:f})}let d=this._shouldThumbBeDisabled(o);l.setAttribute("class",$e("thumb",{"thumb--hidden":d,"thumb--visible":!d}))}Nr(this._frameGuides,{x:n.x-.5,y:n.y-.5,width:n.width+1,height:n.height+1})}}_createThumbs(){let n={};for(let r=0;r<3;r++)for(let i=0;i<3;i++){let o=`${["n","","s"][r]}${["w","","e"][i]}`,s=St("g");s.classList.add("thumb"),s.setAttribute("with-effects","");let a=St("circle",{r:25.5,fill:"transparent"}),l=St("path",{stroke:"currentColor",fill:"none","stroke-width":3});s.appendChild(l),s.appendChild(a),n[o]={direction:o,pathNode:l,interactionNode:a,groupNode:s},a.addEventListener("pointerdown",this._handlePointerDown.bind(this,o))}return n}_createGuides(){let n=St("svg"),r=St("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"#000000","stroke-width":1,"stroke-opacity":.5});n.appendChild(r);for(let i=1;i<=2;i++){let o=St("line",{x1:Cs*i+"%",y1:"0%",x2:Cs*i+"%",y2:"100%",stroke:"#000000","stroke-width":1,"stroke-opacity":.3});n.appendChild(o)}for(let i=1;i<=2;i++){let o=St("line",{x1:"0%",y1:Cs*i+"%",x2:"100%",y2:Cs*i+"%",stroke:"#000000","stroke-width":1,"stroke-opacity":.3});n.appendChild(o)}return n.classList.add("guides","guides--semi-hidden"),n}_createFrame(){let n=this.ref["svg-el"],r=document.createDocumentFragment(),i=this._createGuides();r.appendChild(i);let o=this._createThumbs();for(let{groupNode:s}of Object.values(o))r.appendChild(s);n.appendChild(r),this._frameThumbs=o,this._frameGuides=i}_handlePointerDown(n,r){let i=this._frameThumbs[n];if(this._shouldThumbBeDisabled(n))return;let o=this.$["*cropBox"],{x:s,y:a}=this.ref["svg-el"].getBoundingClientRect(),l=r.x-s,c=r.y-a;this.$.dragging=!0,this._draggingThumb=i,this._dragStartPoint=[l,c],this._dragStartCrop=E({},o)}_handlePointerUp_(n){this._updateCursor(),this.$.dragging&&(n.stopPropagation(),n.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(n){if(!this.$.dragging)return;n.stopPropagation(),n.preventDefault();let r=this.ref["svg-el"],{x:i,y:o}=r.getBoundingClientRect(),l=n.x-i-this._dragStartPoint[0],c=n.y-o-this._dragStartPoint[1],{direction:u}=this._draggingThumb,d=this.$["*imageBox"],f=this._dragStartCrop;""===u?(f=function $M(t,[e,n]){return R(E({},t),{x:t.x+e,y:t.y+n})}(f,[l,c]),f=N0(f,d)):(f=function VM(t,[e,n],r){let{x:i,y:o,width:s,height:a}=t;return r.includes("n")&&(o+=n,a-=n),r.includes("s")&&(a+=n),r.includes("w")&&(i+=e,s-=e),r.includes("e")&&(s+=e),{x:i,y:o,width:s,height:a}}(f,[l,c],u),f=function BM(t,e){let n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),i=Math.max(t.y,e.y);return{x:n,y:i,width:r-n,height:Math.min(t.y+t.height,e.y+e.height)-i}}(f,d)),f=P0(f,[Math.min(d.width,82),Math.min(d.height,82)],u),Object.values(f).every(p=>Number.isFinite(p)&&p>=0)?this.$["*cropBox"]=f:console.error("CropFrame is trying to create invalid rectangle",{payload:f})}_handleSvgPointerMove_(n){let r=Object.values(this._frameThumbs).find(i=>{if(this._shouldThumbBeDisabled(i.direction))return!1;let s=i.groupNode.getBoundingClientRect();return function HM(t,[e,n]){return t.x<=e&&e<=t.x+t.width&&t.y<=n&&n<=t.y+t.height}({x:s.x,y:s.y,width:s.width,height:s.height},[n.x,n.y])});this._hoverThumb=r,this._updateCursor()}_updateCursor(){let n=this._hoverThumb;this.ref["svg-el"].style.cursor=n?function OM(t){return""===t?"move":["e","w"].includes(t)?"ew-resize":["n","s"].includes(t)?"ns-resize":["nw","se"].includes(t)?"nwse-resize":"nesw-resize"}(n.direction):"initial"}_render(){this._updateBackdrop(),this._updateFrame()}toggleThumbs(n){Object.values(this._frameThumbs).map(({groupNode:r})=>r).forEach(r=>{r.setAttribute("class",$e("thumb",{"thumb--hidden":!n,"thumb--visible":n}))})}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",()=>{this._resizeBackdrop(),window.requestAnimationFrame(()=>{this._render()})}),this.sub("*cropBox",n=>{!n||(this._guidesHidden=n.height<=82||n.width<=82,window.requestAnimationFrame(()=>{this._render()}))}),this.sub("dragging",n=>{this._frameGuides.setAttribute("class",$e({"guides--hidden":this._guidesHidden,"guides--visible":!this._guidesHidden&&n,"guides--semi-hidden":!this._guidesHidden&&!n}))}),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}return t.template="\n  <svg class='svg' ref='svg-el' xmlns=\"http://www.w3.org/2000/svg\">\n  </svg>\n",t})(),tu=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{active:!1,title:"",icon:"","on.click":null}))}initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.setAttribute("role","button"),-1===this.tabIndex&&(this.tabIndex=0),this.sub("title",n=>{this._titleEl&&(this._titleEl.style.display=n?"block":"none")}),this.sub("active",n=>{this.className=$e({active:n,not_active:!n})}),this.sub("on.click",n=>{this.onclick=n})}}return t.template='\n  <div class="before"></div>\n  <lr-icon size="20" set="@name: icon;"></lr-icon>\n  <div class="title" ref="title-el">{{title}}</div>\n',t})();class nu extends tu{initCallback(){super.initCallback(),this.defineAccessor("operation",e=>{!e||(this._operation=e,this.$.icon=e)}),this.$["on.click"]=e=>{let n=this.$["*cropperEl"].getValue(this._operation),r=function zM(t,e){return"rotate"===t?function UM(t){let e=t+90;return e=e>=360?0:e,e}(e):["mirror","flip"].includes(t)?!e:null}(this._operation,n);this.$["*cropperEl"].setValue(this._operation,r)}}}const Cn="original";let GM=(()=>{class t extends se{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":n=>{this.$["*faderEl"].set(n),this.$.value=n}}))}setOperation(n,r){this._controlType="filter"===n?"filter":"color_operation",this._operation=n,this._iconName=n,this._title=n.toUpperCase(),this._filter=r,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===Cn?void 0:this.$.value,filter:this._filter===Cn?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:n,zero:r}=$i[this._operation],[i,o]=n;this.$.min=i,this.$.max=o,this.$.zero=r;let s=this.$["*editorTransformations"][this._operation];if("filter"===this._controlType){let a=o;if(s){let{name:l,amount:c}=s;a=l===this._filter?c:o}this.$.value=a,this.$.defaultValue=a}if("color_operation"===this._controlType){let a=void 0!==s?s:r;this.$.value=a,this.$.defaultValue=a}}apply(){let n;n="filter"===this._controlType?this._filter===Cn?null:{name:this._filter,amount:this.$.value}:this.$.value;let r=R(E({},this.$["*editorTransformations"]),{[this._operation]:n});this.$["*editorTransformations"]=r}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",n=>{this._originalUrl=n}),this.sub("value",n=>{this.$["*operationTooltip"]=`${this._filter||this._operation} ${n}`})}}return t.template='\n<lr-slider-ui ref="slider-el" set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"></lr-slider-ui>\n',t})(),ru=(()=>{class t extends tu{constructor(){super(...arguments),w(this,"init$",R(E({},this.ctxInit),{active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null}))}_previewSrc(){let n=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),r=window.devicePixelRatio,i=Math.ceil(r*n),o=r>=2?"lightest":"normal",a=E({},this.$["*editorTransformations"]);return a[this._operation]=this._filter!==Cn?{name:this._filter,amount:100}:void 0,Mt(this._originalUrl,on(F0,Xc(a),`quality/${o}`,`scale_crop/${i}x${i}/center`))}_observerCallback(n,r){if(n[0].isIntersecting){let o=this.proxyUrl(this._previewSrc()),s=this.ref["preview-el"],{promise:a,cancel:l}=_s(o);this._cancelPreload=l,a.catch(c=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:c})}).finally(()=>{s.style.backgroundImage=`url(${o})`,setTimeout(()=>{s.style.opacity="1"}),r.unobserve(this)})}else this._cancelPreload&&this._cancelPreload()}initCallback(){super.initCallback(),this.$["on.click"]=r=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",r=>{this._operation="filter",this._filter=r,this.$.isOriginal=r===Cn,this.$.icon=this.$.isOriginal?"original":"slider"}),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]}),this._originalUrl=this.$["*originalUrl"],this.$.isOriginal?this.ref["icon-el"].classList.add("original-icon"):this._observer.observe(this),this.sub("*currentFilter",r=>{this.$.active=r&&r===this._filter}),this.sub("isOriginal",r=>{this.$.iconSize=r?40:20}),this.sub("active",r=>{if(this.$.isOriginal)return;this.ref["icon-el"].style.opacity=r?"1":"0";let o=this.ref["preview-el"];r?o.style.opacity="0":o.style.backgroundImage&&(o.style.opacity="1")}),this.sub("*networkProblems",r=>{if(!r){let i=this.proxyUrl(this._previewSrc()),o=this.ref["preview-el"];o.style.backgroundImage&&(o.style.backgroundImage="none",o.style.backgroundImage=`url(${i})`)}})}destroyCallback(){var n;super.destroyCallback(),null==(n=this._observer)||n.disconnect(),this._cancelPreload&&this._cancelPreload()}}return t.template='\n  <div class="before"></div>\n  <div class="preview" ref="preview-el"></div>\n  <lr-icon size="40" ref="icon-el" set="@name: icon; @size: iconSize;"></lr-icon>\n',t})();class iu extends tu{constructor(){super(...arguments),w(this,"_operation","")}initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e,this.$.title=this.l10n(e))}),this.sub("*editorTransformations",e=>{if(!this._operation)return;let{zero:n}=$i[this._operation],r=e[this._operation];this.$.active=void 0!==r&&r!==n})}}const L0=window.ResizeObserver;function Es(t,e,n){return Math.min(Math.max(t,e),n)}function Hi({width:t,height:e},n){let r=n/90%2!=0;return{width:r?e:t,height:r?t:e}}let ZM=(()=>{class t extends se{constructor(){super(),w(this,"init$",R(E({},this.ctxInit),{image:null,"*padding":20,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}})),this._commitDebounced=Oi(this._commit.bind(this),300),this._handleResizeDebounced=Oi(this._handleResize.bind(this),10)}_handleResize(){this._initCanvas(),this._alignImage(),this._alignCrop(),this._draw()}_syncTransformations(){let r=function qM(t,e){let n={};for(let r of e){let i=t[r];(t.hasOwnProperty(r)||void 0!==i)&&(n[r]=i)}return n}(this.$["*editorTransformations"],Object.keys(this.$["*operations"])),i=E(E({},this.$["*operations"]),r);this.$["*operations"]=i}_initCanvas(){let n=this.ref["canvas-el"],r=n.getContext("2d"),i=this.offsetWidth,o=this.offsetHeight,s=window.devicePixelRatio;n.style.width=`${i}px`,n.style.height=`${o}px`,n.width=i*s,n.height=o*s,r.scale(s,s),this._canvas=n,this._ctx=r}_alignImage(){if(!this._isActive||!this.$.image)return;let n=this.$.image,r=this.$["*padding"],i=this.$["*operations"],{rotate:o}=i,s_width=this.offsetWidth,s_height=this.offsetHeight,a=Hi({width:n.naturalWidth,height:n.naturalHeight},o);if(a.width>s_width-2*r||a.height>s_height-2*r){let l=a.width/a.height;if(l>s_width/s_height){let u=s_width-2*r,d=u/l;this.$["*imageBox"]={x:0+r,y:r+(s_height-2*r)/2-d/2,width:u,height:d}}else{let u=s_height-2*r,d=u*l;this.$["*imageBox"]={x:r+(s_width-2*r)/2-d/2,y:0+r,width:d,height:u}}}else{let{width:l,height:c}=a;this.$["*imageBox"]={x:r+(s_width-2*r)/2-l/2,y:r+(s_height-2*r)/2-c/2,width:l,height:c}}}_alignCrop(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,s=this.$["*editorTransformations"].crop;if(s){let{dimensions:[l,c],coords:[u,d]}=s,{width:f,x:h,y:p}=this.$["*imageBox"],{width:m}=Hi(this._imageSize,o),v=f/m;n={x:h+u*v,y:p+d*v,width:l*v,height:c*v}}else n={x:r.x,y:r.y,width:r.width,height:r.height};n=P0(n,[Math.min(r.width,82),Math.min(r.height,82)],"se"),n=N0(n,r),this.$["*cropBox"]=n}_drawImage(){let n=this.$.image,r=this.$["*imageBox"],i=this.$["*operations"],{mirror:o,flip:s,rotate:a}=i,l=this._ctx,c=Hi({width:r.width,height:r.height},a);l.save(),l.translate(r.x+r.width/2,r.y+r.height/2),l.rotate(a*Math.PI*-1/180),l.scale(o?-1:1,s?-1:1),l.drawImage(n,-c.width/2,-c.height/2,c.width,c.height),l.restore()}_draw(){if(!this._isActive||!this.$.image)return;let n=this._canvas;this._ctx.clearRect(0,0,n.width,n.height),this._drawImage()}_animateIn({fromViewer:n}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout(()=>{this.className=$e({active_from_viewer:n,active_from_editor:!n,inactive_to_editor:!1})}))}_calculateDimensions(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,{width:s,height:a}=r,{width:l,height:c}=Hi(this._imageSize,o),{width:u,height:d}=n,h=a/c;return[Es(Math.round(u/(s/l)),1,l),Es(Math.round(d/h),1,c)]}_calculateCrop(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,{width:s,height:a,x:l,y:c}=r,{width:u,height:d}=Hi(this._imageSize,o),{x:f,y:h}=n,p=s/u,m=a/d,v=this._calculateDimensions(),b={dimensions:v,coords:[Es(Math.round((f-l)/p),0,u-v[0]),Es(Math.round((h-c)/m),0,d-v[1])]};if(function WM(t){return!t||[({dimensions:n,coords:r})=>[...n,...r].every(i=>Number.isInteger(i)&&Number.isFinite(i)),({dimensions:n,coords:r})=>n.every(i=>i>0)&&r.every(i=>i>=0)].every(n=>n(t))}(b))return v[0]!==u||v[1]!==d?b:void 0;console.error("Cropper is trying to create invalid crop object",{payload:b})}_commit(){let n=this.$["*operations"],{rotate:r,mirror:i,flip:o}=n,s=this._calculateCrop(),l=R(E({},this.$["*editorTransformations"]),{crop:s,rotate:r,mirror:i,flip:o});this.$["*editorTransformations"]=l}setValue(n,r){console.log(`Apply cropper operation [${n}=${r}]`),this.$["*operations"]=R(E({},this.$["*operations"]),{[n]:r}),this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(n){return this.$["*operations"][n]}activate(n,{fromViewer:r}){var i=this;return ut(function*(){if(!i._isActive){i._isActive=!0,i._imageSize=n,i.removeEventListener("transitionend",i._reset),i._initCanvas();try{i.$.image=yield i._waitForImage(i.$["*originalUrl"],i.$["*editorTransformations"]),i._syncTransformations(),i._alignImage(),i._alignCrop(),i._draw(),i._animateIn({fromViewer:r})}catch(o){console.error("Failed to activate cropper",{error:o})}}})()}deactivate(){!this._isActive||(this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=$e({active_from_viewer:!1,active_from_editor:!1,inactive_to_editor:!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}))}_transitionToCrop(){let n=this._calculateDimensions(),r=Math.min(this.offsetWidth,n[0])/this.$["*cropBox"].width,i=Math.min(this.offsetHeight,n[1])/this.$["*cropBox"].height,o=Math.min(r,i),s=this.$["*cropBox"].x+this.$["*cropBox"].width/2,a=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${o}) translate(${(this.offsetWidth/2-s)/o}px, ${(this.offsetHeight/2-a)/o}px)`,this.style.transformOrigin=`${s}px ${a}px`}_transitionToImage(){let n=this.$["*cropBox"].x+this.$["*cropBox"].width/2,r=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${n}px ${r}px`}_reset(){this._isActive||(this.$.image=null)}_waitForImage(n,r){let i=this.offsetWidth;r=R(E({},r),{crop:void 0,rotate:void 0,flip:void 0,mirror:void 0});let o=this.proxyUrl(ws(n,i,r)),{promise:s,cancel:a,image:l}=_s(o),c=this._handleImageLoading(o);return l.addEventListener("load",c,{once:!0}),l.addEventListener("error",c,{once:!0}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=a,s.then(()=>l).catch(u=>(console.error("Failed to load image",{error:u}),this.$["*networkProblems"]=!0,Promise.resolve(l)))}_handleImageLoading(n){let r="crop",i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(n)||(i.set(r,i.get(r).set(n,!0)),this.$["*loadingOperations"]=i),()=>{var o;(null==(o=null==i?void 0:i.get(r))?void 0:o.has(n))&&(i.get(r).delete(n),this.$["*loadingOperations"]=i)}}initCallback(){super.initCallback(),this._observer=new L0(()=>{this._isActive&&this.$.image&&this._handleResizeDebounced()}),this._observer.observe(this),this.sub("*imageBox",()=>{this._draw()}),this.sub("*cropBox",n=>{this.$.image&&this._commitDebounced()}),setTimeout(()=>{this.sub("*networkProblems",n=>{n||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})})},0)}destroyCallback(){var n;super.destroyCallback(),null==(n=this._observer)||n.disconnect()}}return t.template="\n  <canvas class='canvas' ref='canvas-el'></canvas>\n  <lr-crop-frame ref='frame-el'></lr-crop-frame>\n",t})();function O0(t,e,n){let r=Array(n);for(let i=--n;i>=0;i--)r[i]=Math.ceil((i*e+(n-i)*t)/n);return r}function $0(t,e){let n=$i[t].keypointsNumber,{range:r,zero:i}=$i[t];return[...new Set([...O0(r[0],i,n+1),...O0(i,r[1],n+1),i,e])].sort((o,s)=>o-s)}class KM extends se{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=Oi(this._addKeypoint.bind(this),600),this.classList.add("inactive_to_cropper")}_handleImageLoading(e){let n=this._operation,r=this.$["*loadingOperations"];return r.get(n)||r.set(n,new Map),r.get(n).get(e)||(r.set(n,r.get(n).set(e,!0)),this.$["*loadingOperations"]=r),()=>{var i;(null==(i=null==r?void 0:r.get(n))?void 0:i.has(e))&&(r.get(n).delete(e),this.$["*loadingOperations"]=r)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(()=>{for(let e of this._keypoints){let{image:n}=e;n&&(n.style.opacity=e.opacity.toString(),n.style.zIndex=e.zIndex.toString())}})}_imageSrc({url:e=this._url,filter:n=this._filter,operation:r,value:i}={}){let o=E({},this._transformations);return r&&(o[r]=n?{name:n,amount:i}:i),this.proxyUrl(ws(e,this.offsetWidth,o))}_constructKeypoint(e,n){return{src:this._imageSrc({operation:e,value:n}),image:null,opacity:0,zIndex:0,value:n}}_isSame(e,n){return this._operation===e&&this._filter===n}_addKeypoint(e,n,r){let i=()=>!this._isSame(e,n)||this._value!==r||!!this._keypoints.find(l=>l.value===r);if(i())return;let o=this._constructKeypoint(e,r),s=new Image;s.src=o.src;let a=this._handleImageLoading(o.src);s.addEventListener("load",a,{once:!0}),s.addEventListener("error",a,{once:!0}),o.image=s,s.classList.add("fader-image"),s.addEventListener("load",()=>{if(i())return;let l=this._keypoints,c=l.findIndex(d=>d.value>r),u=c<l.length?l[c].image:null;!this._container||u&&!this._container.contains(u)||(l.splice(c,0,o),this._container.insertBefore(s,u),this._update(e,r))},{once:!0}),s.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}set(e){e="string"==typeof e?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,n){this._operation=e,this._value=n;let{zero:r}=$i[e],i=this._keypoints.map(a=>a.value),o=function XM(t,e,n){let r=function YM(t){return t.reduce((e,n,r)=>r<t.length-1?[...e,[n,t[r+1]]]:e,[])}(t).find(([i,o])=>i<=e&&e<=o);return t.map(i=>{let o=Math.abs(r[0]-r[1]),s=Math.abs(e-r[0])/o;return r[0]===i?e>n?1:1-s:r[1]===i?e>=n?s:1:0})}(i,n,r),s=function QM(t,e){return t.map((n,r)=>n<e?t.length-r:r)}(i,r);for(let[a,l]of Object.entries(this._keypoints))l.opacity=o[a],l.zIndex=s[a];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("fader-image","fader-image--preview"),e.style.opacity="0",e}_initNodes(){var e=this;return ut(function*(){let n=document.createDocumentFragment();e._previewImage=e._previewImage||e._createPreviewImage(),!e.contains(e._previewImage)&&n.appendChild(e._previewImage);let r=document.createElement("div");n.appendChild(r);let i=e._keypoints.map(u=>u.src),{images:o,promise:s,cancel:a}=Yc(i);o.forEach(u=>{let d=e._handleImageLoading(u.src);u.addEventListener("load",d),u.addEventListener("error",d)}),e._cancelLastImages=()=>{a(),e._cancelLastImages=void 0};let l=e._operation,c=e._filter;yield s,e._isActive&&e._isSame(l,c)&&(e._container&&e._container.remove(),e._container=r,e._keypoints.forEach((u,d)=>{let f=o[d];f.classList.add("fader-image"),u.image=f,e._container.appendChild(f)}),e.appendChild(n),e._flush())})()}setTransformations(e){if(this._transformations=e,this._previewImage){let n=this._imageSrc(),r=this._handleImageLoading(n);this._previewImage.src=n,this._previewImage.addEventListener("load",r,{once:!0}),this._previewImage.addEventListener("error",r,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}}preload({url:e,filter:n,operation:r,value:i}){this._cancelBatchPreload&&this._cancelBatchPreload();let s=$0(r,i).map(l=>this._imageSrc({url:e,filter:n,operation:r,value:l})),{cancel:a}=Yc(s);this._cancelBatchPreload=a}_setOriginalSrc(e){let n=this._previewImage||this._createPreviewImage();if(!this.contains(n)&&this.appendChild(n),this._previewImage=n,n.src===e)return n.style.opacity="1",n.style.transform="scale(1)",void(this.className=$e({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1}));n.style.opacity="0";let r=this._handleImageLoading(e);n.addEventListener("error",r,{once:!0}),n.src=e,n.addEventListener("load",()=>{r(),n&&(n.style.opacity="1",n.style.transform="scale(1)",this.className=$e({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1}))},{once:!0}),n.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}activate({url:e,operation:n,value:r,filter:i,fromViewer:o}){if(this._isActive=!0,this._hidden=!1,this._url=e,this._operation=n||"initial",this._value=r,this._filter=i,this._fromViewer=o,"number"!=typeof r&&!i){let a=this._imageSrc({operation:n,value:r});return this._setOriginalSrc(a),void(this._container&&this._container.remove())}this._keypoints=$0(n,r).map(a=>this._constructKeypoint(n,a)),this._update(n,r),this._initNodes()}deactivate({hide:e=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=$e({active_from_viewer:!1,active_from_cropper:!1,inactive_to_cropper:!0}),this.addEventListener("transitionend",()=>{this._container&&this._container.remove()},{once:!0})):this._container&&this._container.remove()}}let eA=(()=>{class t extends se{initCallback(){super.initCallback(),this.addEventListener("wheel",n=>{n.preventDefault();let{deltaY:r,deltaX:i}=n;Math.abs(i)>1?this.scrollLeft+=i:this.scrollLeft+=r})}}return t.template="\n<slot></slot>\n",t})();class V0 extends se{constructor(){super(),this.init$=R(E({},this.ctxInit),{"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*editorTransformations":{},"*currentFilter":Cn,"*currentOperation":null,showLoader:!1,tabId:"crop",filters:mM,colorOperations:gM,cropOperations:vM,"*operationTooltip":null,"l10n.cancel":this.l10n("cancel"),"l10n.apply":this.l10n("apply"),"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabContent.crop":!1,"presence.tabContent.sliders":!1,"presence.tabContent.filters":!1,"presence.subTopToolbarStyles":{hidden:"sub-toolbar--top-hidden",visible:"sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"sub-toolbar--bottom-hidden",visible:"sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"tab-content--hidden",visible:"tab-content--visible"},"on.cancel":e=>{this._cancelPreload&&this._cancelPreload(),this.$["*on.cancel"]()},"on.apply":e=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":e=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":e=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":e=>{let n=e.currentTarget.getAttribute("data-id");this._activateTab(n,{fromViewer:!1})}}),this._debouncedShowLoader=Oi(this._showLoader.bind(this),500)}get tabId(){return this.$.tabId}_onSliderClose(){this.$["*showSlider"]=!1,"sliders"===this.$.tabId&&(this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":!1,"filter-tooltip_hidden":!0}))}_createOperationControl(e){let n=iu.is&&new iu;return n.operation=e,n}_createFilterControl(e){let n=ru.is&&new ru;return n.filter=e,n}_createToggleControl(e){let n=nu.is&&new nu;return n.operation=e,n}_renderControlsList(e){let n=this.ref[`controls-list-${e}`],r=document.createDocumentFragment();"crop"===e?this.$.cropOperations.forEach(i=>{let o=this._createToggleControl(i);r.appendChild(o)}):"filters"===e?[Cn,...this.$.filters].forEach(i=>{let o=this._createFilterControl(i);r.appendChild(o)}):"sliders"===e&&this.$.colorOperations.forEach(i=>{let o=this._createOperationControl(i);r.appendChild(o)}),r.childNodes.forEach((i,o)=>{o===r.childNodes.length-1&&i.classList.add("controls-list_last-item")}),n.innerHTML="",n.appendChild(r)}_activateTab(e,{fromViewer:n}){this.$.tabId=e,"crop"===e?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:n})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:n}),this.$["*cropperEl"].deactivate());for(let r of Qc){let i=r===e;this.ref[`tab-toggle-${r}`].active=i,i?(this._renderControlsList(e),this._syncTabIndicator()):this._unmountTabControls(r),this.$[`presence.tabContent.${r}`]=i}}_unmountTabControls(e){let n=this.ref[`controls-list-${e}`];n&&(n.innerHTML="")}_syncTabIndicator(){this.ref["tabs-indicator"].style.transform=`translateX(${this.ref[`tab-toggle-${this.$.tabId}`].offsetLeft}px)`}_preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let n=this.proxyUrl(ws(this.$["*originalUrl"],this.$["*imgContainerEl"].offsetWidth,this.$["*editorTransformations"]));this._cancelPreload&&this._cancelPreload();let{cancel:r}=Yc([n]);this._cancelPreload=()=>{r(),this._cancelPreload=void 0}}}_showLoader(e){this.$.showLoader=e}initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",e=>{e&&setTimeout(()=>{this._activateTab(this.$.tabId,{fromViewer:!0})},0)}),this.sub("*currentFilter",e=>{this.$["*operationTooltip"]=this.l10n(e||Cn),this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":e,"filter-tooltip_hidden":!e})}),this.sub("*currentOperation",e=>{"sliders"===this.$.tabId&&(this.$["*operationTooltip"]=e,this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":e,"filter-tooltip_hidden":!e}))}),this.sub("*tabId",e=>{"filters"===e&&(this.$["*operationTooltip"]=this.$["*currentFilter"]),this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":"filters"===e,"filter-tooltip_hidden":"filters"!==e})}),this.sub("*originalUrl",e=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()}),this.sub("*editorTransformations",e=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(e)}),this.sub("*loadingOperations",e=>{let n=!1;for(let[,r]of e.entries()){if(n)break;for(let[,i]of r.entries())if(i){n=!0;break}}this._debouncedShowLoader(n)}),this.sub("*showSlider",e=>{this.$["presence.subToolbar"]=e,this.$["presence.mainToolbar"]=!e})}}V0.template=`\n<lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>\n<div class="filter-tooltip_container">\n  <div class="filter-tooltip_wrapper">\n    <div ref="tooltip-el" class="filter-tooltip filter-tooltip_visible">\n      {{*operationTooltip}}\n    </div>\n  </div>\n</div>\n<div class="toolbar-container">\n  <lr-presence-toggle class="sub-toolbar" set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles">\n      <div class="tab-content-row">\n      ${Qc.map(function nA(t){return`\n    <lr-presence-toggle class="tab-content" set="visible: presence.tabContent.${t}; styles: presence.tabContentStyles">\n        <lr-editor-scroller hidden-scrollbar>\n          <div class="controls-list_align">\n            <div class="controls-list_inner" ref="controls-list-${t}">\n            </div>\n          </div>\n        </lr-editor-scroller>\n    </lr-presence-toggle>\n  `}).join("")}\n      </div>\n      <div class="controls-row">\n        <lr-btn-ui theme="boring" icon="closeMax" set="onclick: on.cancel">\n        </lr-btn-ui>\n        <div class="tab-toggles">\n          <div ref="tabs-indicator" class="tab-toggles_indicator"></div>\n          ${Qc.map(function tA(t){return`\n    <lr-btn-ui theme="boring" ref="tab-toggle-${t}" data-id="${t}" icon="${t}" tabindex="0" set="onclick: on.clickTab;">\n    </lr-btn-ui>\n  `}).join("")}\n        </div>\n        <lr-btn-ui theme="primary" icon="done" set="onclick: on.apply">\n        </lr-btn-ui>\n      </div>\n  </lr-presence-toggle>\n  <lr-presence-toggle class="sub-toolbar" set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles">\n      <div class="slider">\n        <lr-editor-slider ref="slider-el"></lr-editor-slider>\n      </div>\n      <div class="controls-row">\n        <lr-btn-ui theme="boring" set="@text: l10n.cancel; onclick: on.cancelSlider;">\n        </lr-btn-ui>\n        <lr-btn-ui theme="primary" set="@text: l10n.apply; onclick: on.applySlider;">\n        </lr-btn-ui>\n      </div>\n  </lr-presence-toggle>\n</div>\n`;class ou extends se{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$=R(E({},this.ctxInit),{text:"",icon:"",iconCss:this._iconCss(),theme:null}),this.defineAccessor("active",e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})}_iconCss(){return $e("icon",{icon_left:!this._iconReversed,icon_right:this._iconReversed,icon_hidden:this._iconHidden,icon_single:this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()}),this.sub("theme",e=>{"custom"!==e&&(this.className=e)}),this.sub("text",e=>{this._iconSingle=!1}),this.setAttribute("role","button"),-1===this.tabIndex&&(this.tabIndex=0),this.hasAttribute("theme")||this.setAttribute("theme","default")}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}}ou.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"}),ou.template='\n<lr-icon size="20" set="className: iconCss; @name: icon;"></lr-icon>\n<div class="text">{{text}}</div>\n';let rA=(()=>{class t extends se{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let n=this.ref["line-el"];n.style.transition="initial",n.style.opacity="0",n.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",n=>{"boolean"==typeof n&&(n?this._start():this._stop())})}_start(){this._active=!0;let{width:n}=this.getBoundingClientRect(),r=this.ref["line-el"];r.style.transition="transform 1s",r.style.opacity="1",r.style.transform=`translateX(${n}px)`,r.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}return t.template='\n  <div class="inner">\n    <div class="line" ref="line-el"></div>\n  </div>\n',t})();let iA=(()=>{class t extends se{constructor(){super(),this._visible=!1,this._visibleStyle="visible",this._hiddenStyle="hidden",this._externalTransitions=!1,this.defineAccessor("styles",n=>{!n||(this._externalTransitions=!0,this._visibleStyle=n.visible,this._hiddenStyle=n.hidden)}),this.defineAccessor("visible",n=>{"boolean"==typeof n&&(this._visible=n,this._handleVisible())})}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",function uM(t,...e){let n=k0(...e);for(let r of Object.keys(n))t.classList.toggle(r,n[r])}(this,{transition:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.setAttribute("hidden",""),this._externalTransitions||this.classList.add("transition"),this._handleVisible(),setTimeout(()=>this.removeAttribute("hidden"),0)}}return t.template="\n<slot></slot>\n",t})(),oA=(()=>{class t extends se{constructor(){super(),w(this,"init$",R(E({},this.ctxInit),{disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let n=parseInt(this.ref["input-el"].value,10);this._updateValue(n),this.$.onInput&&this.$.onInput(n)},"on.sliderChange":()=>{let n=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(n)}})),this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",r=>{this.$.disabled=r}),this.defineAccessor("min",r=>{this.$.min=r}),this.defineAccessor("max",r=>{this.$.max=r}),this.defineAccessor("defaultValue",r=>{this.$.defaultValue=r,this.ref["input-el"].value=r,this._updateValue(r)}),this.defineAccessor("zero",r=>{this._zero=r}),this.defineAccessor("onInput",r=>{!r||(this.$.onInput=r)}),this.defineAccessor("onChange",r=>{!r||(this.$.onChange=r)}),this._updateSteps(),this._observer=new L0(()=>{this._updateSteps();let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)}),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout(()=>{let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)},0),this.sub("disabled",r=>{let i=this.ref["input-el"];r?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")});let n=this.ref["input-el"];n.addEventListener("focus",()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")}),n.addEventListener("blur",()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")})}_updateValue(n){this._updateZeroDot(n);let{width:r}=this.getBoundingClientRect(),s=100/(this.$.max-this.$.min)*(n-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this.ref["thumb-el"].style.transform=`translateX(${s}px)`})}_updateZeroDot(n){if(!this._zeroDotEl)return;this._zeroDotEl.style.opacity=n===this._zero?"0":"0.2";let{width:r}=this.getBoundingClientRect(),s=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this._zeroDotEl.style.transform=`translateX(${s}px)`})}_updateSteps(){let r=this.ref["steps-el"],{width:i}=r.getBoundingClientRect(),o=Math.ceil(i/2),s=Math.ceil(o/15)-2;if(this._stepsCount===s)return;let a=document.createDocumentFragment(),l=document.createElement("div"),c=document.createElement("div");l.className="minor-step",c.className="border-step",a.appendChild(c);for(let d=0;d<s;d++)a.appendChild(l.cloneNode());a.appendChild(c.cloneNode());for(let d=0;d<s;d++)a.appendChild(l.cloneNode());a.appendChild(c.cloneNode());let u=document.createElement("div");u.className="zero-dot",a.appendChild(u),this._zeroDotEl=u,r.innerHTML="",r.appendChild(a),this._stepsCount=s}destroyCallback(){var n;null==(n=this._observer)||n.disconnect()}}return t.template='\n  <div class="steps" ref="steps-el">\n  </div>\n  <div ref="thumb-el" class="thumb"></div>\n  <input class="input" type=\'range\' ref=\'input-el\' tabindex="0" set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;">\n',t})();function su(t){var e,n;for(let r in t){let i=[...r].reduce((o,s)=>(s.toUpperCase()===s&&(s="-"+s.toLowerCase()),o+s),"");i.startsWith("-")&&(i=i.replace("-","")),i.startsWith("lr-")||(i="lr-"+i),null==(n=(e=t[r]).reg)||n.call(e,i)}}const au="__lr-blocks__";function sA(t){return lu.apply(this,arguments)}function lu(){return lu=ut(function*(t){return new Promise((e,n)=>{if("object"!=typeof document)return void e(null);if("object"==typeof window&&(null==window?void 0:window[au]))return void e(window[au]);let r=document.createElement("script");r.type="module",r.src=t,r.onerror=()=>{n()},r.onload=()=>{let i=window[au];su(i),e(i)},document.head.appendChild(r)})}),lu.apply(this,arguments)}function aA(t,e){1&t&&$o(0,"img",5),2&t&&Vo("src","https://ucarecdn.com/",e.$implicit.uuid,"/-/preview/-/scale_crop/400x400/",Ea)}su(Lr);let lA=(()=>{class t{constructor(){this.files=[]}handleUploaderEvent(n){const{data:r}=n.detail;this.files=r}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$s({type:t,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"wrapper"],[1,"uploader-cfg","lr-wgt-common"],["use-event","",1,"uploader-cfg","lr-wgt-common",3,"lr-data-output"],[1,"output"],["width","200",3,"src",4,"ngFor","ngForOf"],["width","200",3,"src"]],template:function(n,r){1&n&&(_r(0,"div",0),$o(1,"lr-file-uploader-regular",1),_r(2,"lr-data-output",2),xl("lr-data-output",function(o){return r.handleUploaderEvent(o)}),pi(),_r(3,"div",3),function Th(t,e,n,r,i,o,s,a){const l=y(),c=j(),u=t+J,d=c.firstCreatePass?function U_(t,e,n,r,i,o,s,a,l){const c=e.consts,u=ir(e,t,4,s||null,un(c,a));tl(e,n,u,un(c,l)),so(e,u);const d=u.tViews=Fo(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];Rt(d,!1);const f=l[P].createComment("");Io(c,l,f,d),Me(f,l),Ro(l,l[u]=zf(f,l,f,d)),eo(d)&&Ja(c,l,d),null!=s&&el(l,d,a)}(4,aA,1,1,"img",4),pi()()),2&n&&(function yf(t){bf(j(),y(),Fe()+t,!1)}(4),_l("ngForOf",r.files))},directives:[Cm],styles:[':where(.lr-wgt-cfg,.lr-wgt-common),:host{--cfg-pubkey: "YOUR_PUBLIC_KEY";--cfg-multiple: 1;--cfg-multiple-min: 0;--cfg-multiple-max: 0;--cfg-confirm-upload: 1;--cfg-img-only: 0;--cfg-accept: "";--cfg-store: 1;--cfg-camera-mirror: 1;--cfg-source-list: "local, url, camera, dropbox, gdrive, facebook";--cfg-max-local-file-size-bytes: 0;--cfg-thumb-size: 76;--cfg-show-empty-list: 0;--cfg-use-local-image-editor: 0;--cfg-use-cloud-image-editor: 1;--cfg-modal-scroll-lock: 1;--cfg-modal-backdrop-strokes: 1;--cfg-source-list-wrap: 1;--cfg-init-activity: "start-from";--cfg-done-activity: "start-from";--cfg-data-output-console: 1;--cfg-data-output-fire-events: 1;--cfg-data-output-from: "*dataOutput";--cfg-data-output-form-value: 1;--cfg-remote-tab-session-key: "";--cfg-cdn-cname: "https://ucarecdn.com";--cfg-base-url: "https://upload.uploadcare.com";--cfg-secure-signature: "";--cfg-secure-expire: "";--cfg-secure-delivery-proxy: "";--cfg-retry-throttled-request-max-times: 1;--cfg-multipart-min-file-size: 26214400;--cfg-multipart-chunk-size: 5242880;--cfg-max-concurrent-requests: 4;--cfg-multipart-max-attempts: 3;--cfg-check-for-url-duplicates: 0;--cfg-save-url-for-recurrent-uploads: 0;--cfg-group-output: 0;--cfg-user-agent-integration: ""}:where(.lr-wgt-icons,.lr-wgt-common),:host{--icon-default: "m13 21.9506c5.0533-.5017 9-4.7653 9-9.9506 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.1853 3.94668 9.4489 9 9.9506v-11.5364l-2.79289 2.7929c-.39053.3906-1.02369.3906-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l5.20711-5.20708 5.2071 5.20708c.3905.3905.3905 1.0237 0 1.4142-.3905.3906-1.0237.3906-1.4142 0l-2.7929-2.7929z";--icon-file: "m13.3333 5.57143 4 3.85714h-4zm-6.66663-2.57143c-1.47266 0-2.66667 1.15121-2.66667 2.57143v12.85717c0 1.4202 1.19401 2.5714 2.66667 2.5714h10.66663c1.4727 0 2.6667-1.1512 2.6667-2.5714v-9.00003l-6.6667-6.42857z";--icon-close: "M17.6569 7.75734c.3905-.39053.3905-1.02369 0-1.41421-.3906-.39053-1.0237-.39053-1.4143 0L12 10.5858 7.75736 6.34313c-.39053-.39053-1.02369-.39053-1.41421 0-.39053.39052-.39053 1.02368 0 1.41421L10.5858 12l-4.24266 4.2426c-.39052.3905-.39052 1.0237 0 1.4142.39053.3906 1.02369.3906 1.41422 0L12 13.4142l4.2426 4.2426c.3906.3906 1.0237.3906 1.4143 0 .3905-.3905.3905-1.0237 0-1.4142L13.4142 12l4.2427-4.24266Z";--icon-info: "M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z";--icon-error: "M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";--icon-upload: "m13 21.9506c5.0533-.5017 9-4.7653 9-9.9506 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.1853 3.94668 9.4489 9 9.9506v-11.5364l-2.79289 2.7929c-.39053.3906-1.02369.3906-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l5.20711-5.20708 5.2071 5.20708c.3905.3905.3905 1.0237 0 1.4142-.3905.3906-1.0237.3906-1.4142 0l-2.7929-2.7929z";--icon-local: "M2 10.0928C2 7.7191 2 6.53224 2.55634 5.66549C2.84743 5.21197 3.23952 4.8286 3.70334 4.54398C4.58979 4 5.80363 4 8.23131 4C9.21033 4 9.69984 4 10.1402 4.15191C10.374 4.23254 10.5954 4.34395 10.7983 4.48306C11.1807 4.74515 11.4652 5.13463 12.0343 5.91358L12.9091 7.11111H15.4091C18.1796 7.11111 19.5649 7.11111 20.5298 7.81082C20.8171 8.01913 21.0713 8.26774 21.2844 8.54862C22 9.49207 22 10.8466 22 13.5556C22 16.2645 22 17.619 21.2844 18.5625C21.0713 18.8434 20.8171 19.092 20.5298 19.3003C19.5649 20 18.1797 20 15.4091 20H9.27273C5.84433 20 4.13013 20 3.06507 18.9586C2 17.9172 2 16.2411 2 12.8889V10.0928Z";--icon-url: "m15.069028 1.7437159c-1.839249 0-3.678387.7023305-5.0816705 2.105638l-1.0683184 1.0683191c-.5721674.572155-.5721674 1.5000856 0 2.0722529.5721673.5721673 1.4977379.5721673 2.0698679 0l1.070704-1.0683191c1.662305-1.6622801 4.356529-1.6622801 6.018834 0 1.662304 1.6622801 1.662304 4.3566512 0 6.0188332l-1.068319 1.070704c-.572131.572131-.572131 1.497737 0 2.069869.572131.57213 1.500121.57213 2.072253 0l1.068318-1.06832c2.806688-2.806565 2.806688-7.3567246 0-10.1633391-1.403282-1.4033075-3.24242-2.105638-5.081669-2.105638zm-.138309 5.8614473c-.37495 0-.751254.1431516-1.037319.4292353l-5.8590627 5.8590625c-.5721673.572253-.5721673 1.500123 0 2.072253.5721673.572131 1.5001344.572131 2.0722527 0l5.859063-5.859062c.572252-.5721679.572252-1.5000862 0-2.0722535-.286066-.2860837-.659984-.4292353-1.034934-.4292353zm-8.9757886.8847018c-.3749556 0-.7512351.1431516-1.0373187.4292353l-1.0683191 1.0683185c-2.8066147 2.8066882-2.8066148 7.3567742 0 10.1633392 2.8066147 2.806689 7.3567734 2.806689 10.1633404 0l1.068319-1.068319c.572251-.57213.572253-1.500121 0-2.072251-.572132-.572254-1.497739-.572254-2.069869 0l-1.070704 1.068318c-1.662305 1.662183-4.3565534 1.662183-6.0188335 0-1.6622801-1.662304-1.6622801-4.356529 0-6.018833l1.0683191-1.070704c.5721673-.572131.5721673-1.4977014 0-2.0698687-.2860836-.2860837-.6599786-.4292353-1.0349342-.4292353z";--icon-camera: "m11 3c-.9428 0-1.4141313.0000788-1.7070312.2929688-.2714001.2714099-.2915088.6968024-.2929688 1.5078124-3.45256.0000701-5.18871.0076507-6.34375.9941407-.16547.14133-.3196175.2954675-.4609375.4609375-.99524 1.16527-.9960937 2.9216069-.9960937 6.4355466 0 3.5139.0008537 5.2722.9960937 6.4375.14132.1654.2954675.319538.4609375.460938 1.16527.9952 2.9216169.99414 6.4355469.99414h5.8164061c3.5139 0 5.270247.00106 6.435547-.99414.1654-.1414.319637-.295538.460938-.460938.9952-1.1653.996093-2.9236.996093-6.4375 0-3.5139397-.000893-5.2702766-.996093-6.4355466-.1413-.16547-.295538-.3196075-.460938-.4609375-1.1551-.98649-2.89125-.9940706-6.34375-.9941407-.0015-.8110099-.021569-1.2364025-.292969-1.5078124-.2929-.29289-.764231-.2929688-1.707031-.2929688zm1 5.1230469c2.5235 0 4.568359 2.0448591 4.568359 4.5683591s-2.044859 4.570313-4.568359 4.570313-4.5683594-2.046813-4.5683594-4.570313 2.0448594-4.5683591 4.5683594-4.5683591zm6.646484 0c.4588 0 .830078.3712581.830078.8300781 0 .45883-.371278.8320312-.830078.8320312-.4589 0-.832031-.3732012-.832031-.8320312 0-.45882.373131-.8300781.832031-.8300781z";--icon-dots: "M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z";--icon-back: "M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z";--icon-remove: "m6.35673 9.71429c-.76333 0-1.35856.66121-1.27865 1.42031l1.01504 9.6429c.06888.6543.62067 1.1511 1.27865 1.1511h9.25643c.658 0 1.2098-.4968 1.2787-1.1511l1.015-9.6429c.0799-.7591-.5153-1.42031-1.2786-1.42031zm.50041-4.5v.32142h-2.57143c-.71008 0-1.28571.57564-1.28571 1.28572s.57563 1.28571 1.28571 1.28571h15.42859c.7101 0 1.2857-.57563 1.2857-1.28571s-.5756-1.28572-1.2857-1.28572h-2.5714v-.32142c0-1.77521-1.4391-3.21429-3.2143-3.21429h-3.8572c-1.77517 0-3.21426 1.43908-3.21426 3.21429zm7.07146-.64286c.355 0 .6428.28782.6428.64286v.32142h-5.14283v-.32142c0-.35504.28782-.64286.64283-.64286z";--icon-edit: "M3.96371 14.4792c-.15098.151-.25578.3419-.3021.5504L2.52752 20.133c-.17826.8021.53735 1.5177 1.33951 1.3395l5.10341-1.1341c.20844-.0463.39934-.1511.55032-.3021l8.05064-8.0507-5.557-5.55702-8.05069 8.05062ZM13.4286 5.01437l5.557 5.55703 2.0212-2.02111c.6576-.65765.6576-1.72393 0-2.38159l-3.1755-3.17546c-.6577-.65765-1.7239-.65765-2.3816 0l-2.0211 2.02113Z";--icon-detail: "M5,3C3.89,3 3,3.89 3,5V19C3,20.11 3.89,21 5,21H19C20.11,21 21,20.11 21,19V5C21,3.89 20.11,3 19,3H5M5,5H19V19H5V5M7,7V9H17V7H7M7,11V13H17V11H7M7,15V17H14V15H7Z";--icon-select: "M7,10L12,15L17,10H7Z";--icon-check: "m12 22c5.5228 0 10-4.4772 10-10 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.5228 4.47715 10 10 10zm4.7071-11.4929-5.9071 5.9071-3.50711-3.5071c-.39052-.3905-.39052-1.0237 0-1.4142.39053-.3906 1.02369-.3906 1.41422 0l2.09289 2.0929 4.4929-4.49294c.3905-.39052 1.0237-.39052 1.4142 0 .3905.39053.3905 1.02374 0 1.41424z";--icon-edit-file: "M3.96371 14.4792c-.15098.151-.25578.3419-.3021.5504L2.52752 20.133c-.17826.8021.53735 1.5177 1.33951 1.3395l5.10341-1.1341c.20844-.0463.39934-.1511.55032-.3021l8.05064-8.0507-5.557-5.55702-8.05069 8.05062ZM13.4286 5.01437l5.557 5.55703 2.0212-2.02111c.6576-.65765.6576-1.72393 0-2.38159l-3.1755-3.17546c-.6577-.65765-1.7239-.65765-2.3816 0l-2.0211 2.02113Z";--icon-remove-file: "m12 22c5.5228 0 10-4.4772 10-10 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.5228 4.47715 10 10 10zm3.7071-13.70711c.3905.39053.3905 1.02369 0 1.41422l-2.2929 2.29289 2.2929 2.2929c.3905.3905.3905 1.0237 0 1.4142s-1.0237.3905-1.4142 0l-2.2929-2.2929-2.29289 2.2929c-.39053.3905-1.02369.3905-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l2.29291-2.2929-2.2929-2.29289c-.39053-.39053-.39053-1.02369 0-1.41422.39052-.39052 1.02369-.39052 1.41421 0l2.29289 2.29291 2.2929-2.29291c.3905-.39052 1.0237-.39052 1.4142 0z";--icon-trash-file: var(--icon-remove);--icon-upload-error: var(--icon-error);--icon-fullscreen: "M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z";--icon-fullscreen-exit: "M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z";--icon-badge-success: "M10.5 18.2044L18.0992 10.0207C18.6629 9.41362 18.6277 8.46452 18.0207 7.90082C17.4136 7.33711 16.4645 7.37226 15.9008 7.97933L10.5 13.7956L8.0992 11.2101C7.53549 10.603 6.5864 10.5679 5.97933 11.1316C5.37226 11.6953 5.33711 12.6444 5.90082 13.2515L10.5 18.2044Z";--icon-badge-error: "m13.6 18.4c0 .8837-.7164 1.6-1.6 1.6-.8837 0-1.6-.7163-1.6-1.6s.7163-1.6 1.6-1.6c.8836 0 1.6.7163 1.6 1.6zm-1.6-13.9c.8284 0 1.5.67157 1.5 1.5v7c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5v-7c0-.82843.6716-1.5 1.5-1.5z";--icon-edit-rotate: "M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10L15.55,5.55Z";--icon-edit-flip-v: "M3 15V17H5V15M15 19V21H17V19M19 3H5C3.9 3 3 3.9 3 5V9H5V5H19V9H21V5C21 3.9 20.1 3 19 3M21 19H19V21C20.1 21 21 20.1 21 19M1 11V13H23V11M7 19V21H9V19M19 15V17H21V15M11 19V21H13V19M3 19C3 20.1 3.9 21 5 21V19Z";--icon-edit-flip-h: "M15 21H17V19H15M19 9H21V7H19M3 5V19C3 20.1 3.9 21 5 21H9V19H5V5H9V3H5C3.9 3 3 3.9 3 5M19 3V5H21C21 3.9 20.1 3 19 3M11 23H13V1H11M19 17H21V15H19M15 5H17V3H15M19 13H21V11H19M19 21C20.1 21 21 20.1 21 19H19Z";--icon-edit-brightness: "M12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,15.31L23.31,12L20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31Z";--icon-edit-contrast: "M12,20C9.79,20 7.79,19.1 6.34,17.66L17.66,6.34C19.1,7.79 20,9.79 20,12A8,8 0 0,1 12,20M6,8H8V6H9.5V8H11.5V9.5H9.5V11.5H8V9.5H6M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,16H17V14.5H12V16Z";--icon-edit-saturation: "M3,13A9,9 0 0,0 12,22C12,17 7.97,13 3,13M12,5.5A2.5,2.5 0 0,1 14.5,8A2.5,2.5 0 0,1 12,10.5A2.5,2.5 0 0,1 9.5,8A2.5,2.5 0 0,1 12,5.5M5.6,10.25A2.5,2.5 0 0,0 8.1,12.75C8.63,12.75 9.12,12.58 9.5,12.31C9.5,12.37 9.5,12.43 9.5,12.5A2.5,2.5 0 0,0 12,15A2.5,2.5 0 0,0 14.5,12.5C14.5,12.43 14.5,12.37 14.5,12.31C14.88,12.58 15.37,12.75 15.9,12.75C17.28,12.75 18.4,11.63 18.4,10.25C18.4,9.25 17.81,8.4 16.97,8C17.81,7.6 18.4,6.74 18.4,5.75C18.4,4.37 17.28,3.25 15.9,3.25C15.37,3.25 14.88,3.41 14.5,3.69C14.5,3.63 14.5,3.56 14.5,3.5A2.5,2.5 0 0,0 12,1A2.5,2.5 0 0,0 9.5,3.5C9.5,3.56 9.5,3.63 9.5,3.69C9.12,3.41 8.63,3.25 8.1,3.25A2.5,2.5 0 0,0 5.6,5.75C5.6,6.74 6.19,7.6 7.03,8C6.19,8.4 5.6,9.25 5.6,10.25M12,22A9,9 0 0,0 21,13C16,13 12,17 12,22Z";--icon-edit-crop: "M7,17V1H5V5H1V7H5V17A2,2 0 0,0 7,19H17V23H19V19H23V17M17,15H19V7C19,5.89 18.1,5 17,5H9V7H17V15Z";--icon-edit-text: "M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z";--icon-edit-draw: "m21.879394 2.1631238c-1.568367-1.62768627-4.136546-1.53831744-5.596267.1947479l-8.5642801 10.1674753c-1.4906533-.224626-3.061232.258204-4.2082427 1.448604-1.0665468 1.106968-1.0997707 2.464806-1.1203996 3.308068-.00142.05753-.00277.113001-.00439.16549-.02754.894146-.08585 1.463274-.5821351 2.069648l-.80575206.98457.88010766.913285c1.0539516 1.093903 2.6691689 1.587048 4.1744915 1.587048 1.5279113 0 3.2235468-.50598 4.4466094-1.775229 1.147079-1.190514 1.612375-2.820653 1.395772-4.367818l9.796763-8.8879697c1.669907-1.5149954 1.75609-4.1802333.187723-5.8079195zm-16.4593821 13.7924592c.8752943-.908358 2.2944227-.908358 3.1697054 0 .8752942.908358.8752942 2.381259 0 3.289617-.5909138.61325-1.5255389.954428-2.53719.954428-.5223687 0-.9935663-.09031-1.3832112-.232762.3631253-.915463.3952949-1.77626.4154309-2.429737.032192-1.045425.072224-1.308557.3352649-1.581546z";--icon-edit-guides: "M1.39,18.36L3.16,16.6L4.58,18L5.64,16.95L4.22,15.54L5.64,14.12L8.11,16.6L9.17,15.54L6.7,13.06L8.11,11.65L9.53,13.06L10.59,12L9.17,10.59L10.59,9.17L13.06,11.65L14.12,10.59L11.65,8.11L13.06,6.7L14.47,8.11L15.54,7.05L14.12,5.64L15.54,4.22L18,6.7L19.07,5.64L16.6,3.16L18.36,1.39L22.61,5.64L5.64,22.61L1.39,18.36Z";--icon-edit-color: "M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z";--icon-edit-resize: "M10.59,12L14.59,8H11V6H18V13H16V9.41L12,13.41V16H20V4H8V12H10.59M22,2V18H12V22H2V12H6V2H22M10,14H4V20H10V14Z";--icon-external-source-placeholder: "M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z";--icon-facebook: "M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z";--icon-dropbox: "m6.0344426 1.9570014-5.96360421 3.7989306 5.96360421 3.7989309 5.9636044-3.7989309zm5.9636044 3.7989306 5.963604 3.7989309 5.963605-3.7989309-5.963605-3.7989306zm5.963604 3.7989309-5.963604 3.7989311 5.963604 3.798929 5.963605-3.798929zm-5.963604 3.7989311-5.9636044-3.7989311-5.96360421 3.7989311 5.96360421 3.798929zm.0024 1.204188-5.9636041 3.80132 5.9636041 3.798931 5.963604-3.798931z";--icon-gdrive: "M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z";--icon-gphotos: "M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z";--icon-instagram: "m 16.6963,8.35462 c 0.5834,0 1.0564,-0.47293 1.0564,-1.05632 0,-0.58339 -0.473,-1.05632 -1.0564,-1.05632 -0.5833,0 -1.0563,0.47293 -1.0563,1.05632 0,0.58339 0.473,1.05632 1.0563,1.05632 z m -4.699,-0.87741 c -0.8941,0 -1.7681,0.26513 -2.51154,0.76187 -0.74341,0.49674 -1.32282,1.20277 -1.66495,2.02882 -0.34214,0.826 -0.43164,1.735 -0.25719,2.6119 0.17446,0.8769 0.60503,1.6824 1.23727,2.3146 0.63224,0.6322 1.43771,1.0627 2.31471,1.2371 0.8769,0.1743 1.7858,0.0848 2.6118,-0.2574 0.826,-0.3422 1.532,-0.9217 2.0287,-1.6651 0.4967,-0.7435 0.7618,-1.6175 0.7617,-2.5116 0,-0.5937 -0.1169,-1.1815 -0.344,-1.7299 C 15.9466,9.719 15.6136,9.22066 15.1938,8.80091 14.7741,8.38116 14.2757,8.04822 13.7272,7.82109 13.1787,7.59397 12.5909,7.47712 11.9973,7.47721 Z m 0,7.45429 c -0.5806,0 -1.148,-0.1721 -1.6307,-0.4946 C 9.88388,14.1143 9.50767,13.6559 9.28551,13.1196 9.06335,12.5833 9.00523,11.9931 9.11848,11.4237 9.23174,10.8543 9.51128,10.3313 9.92178,9.92085 10.3323,9.51036 10.8553,9.23081 11.4246,9.11756 11.994,9.0043 12.5842,9.06243 13.1205,9.28459 c 0.5363,0.22215 0.9948,0.59836 1.3173,1.08101 0.3225,0.4827 0.4946,1.0502 0.4946,1.6307 0,0.7785 -0.3092,1.5251 -0.8597,2.0755 -0.5504,0.5505 -1.297,0.8597 -2.0754,0.8597 z m 0,-10.15082 c 2.3506,0 2.6287,0.00909 3.5571,0.05137 0.8582,0.03913 1.3243,0.1824 1.6346,0.30295 0.3828,0.14096 0.7291,0.36604 1.0134,0.65867 0.2926,0.28423 0.5177,0.63052 0.6586,1.01334 0.1206,0.31029 0.2639,0.77642 0.303,1.63461 0.0423,0.92843 0.0514,1.20657 0.0514,3.55718 0,2.3506 -0.0091,2.6287 -0.0514,3.5572 -0.0391,0.8581 -0.1824,1.3243 -0.303,1.6346 -0.1466,0.3795 -0.3709,0.7242 -0.6586,1.0119 -0.2877,0.2877 -0.6324,0.5121 -1.012,0.6587 -0.3103,0.1205 -0.7764,0.2638 -1.6346,0.3029 -0.9281,0.0423 -1.2066,0.0514 -3.5571,0.0514 -2.35063,0 -2.62912,-0.0091 -3.5572,-0.0514 C 7.58331,19.125 7.11718,18.9817 6.80689,18.8612 6.42407,18.7202 6.07778,18.4951 5.79355,18.2025 5.50093,17.9183 5.27584,17.572 5.13488,17.1892 5.01433,16.8789 4.87107,16.4127 4.83193,15.5546 4.78965,14.6261 4.78056,14.348 4.78056,11.9974 4.78056,9.6468 4.78965,9.36865 4.83193,8.44023 4.87107,7.58203 5.01433,7.1159 5.13488,6.80561 5.27584,6.42279 5.50093,6.0765 5.79355,5.79227 6.07778,5.49965 6.42407,5.27456 6.80689,5.1336 7.11718,5.01305 7.58331,4.86979 8.4415,4.83065 9.36993,4.78837 9.64807,4.77928 11.9987,4.77928 Z m 0.0014,-1.58744 c -2.39081,0 -2.69062,0.01013 -3.62953,0.05311 C 7.43026,3.28933 6.79116,3.43923 6.23103,3.65693 5.64371,3.87792 5.11163,4.22433 4.67189,4.67201 4.22484,5.11192 3.87904,5.64398 3.65856,6.23115 3.43912,6.79128 3.29026,7.43108 3.24763,8.3679 3.205,9.30471 3.19452,9.60661 3.19452,11.9974 c 0,2.3908 0.01013,2.6906 0.05311,3.6295 0.04298,0.9389 0.19149,1.5766 0.40918,2.1367 0.22099,0.5874 0.5674,1.1194 1.01508,1.5592 0.43982,0.4476 0.97187,0.7941 1.55914,1.0154 0.55908,0.2173 1.19993,0.3662 2.13674,0.4092 0.93681,0.043 1.23872,0.0527 3.62953,0.0527 2.3907,0 2.6905,-0.0101 3.6295,-0.0527 0.9389,-0.0426 1.5766,-0.1919 2.1367,-0.4092 0.5847,-0.2262 1.1158,-0.5721 1.5591,-1.0154 0.4434,-0.4434 0.7892,-0.9744 1.0155,-1.5592 0.2173,-0.5591 0.3662,-1.1999 0.4091,-2.1367 C 20.7902,14.6901 20.8,14.3882 20.8,11.9974 20.8,9.60661 20.7899,9.3068 20.7472,8.3679 20.7046,7.42899 20.5554,6.79128 20.3381,6.23115 20.1168,5.64388 19.7703,5.11183 19.3226,4.67201 18.8827,4.22496 18.3507,3.87916 17.7635,3.65867 17.2034,3.43923 16.5636,3.29038 15.6268,3.24775 14.6899,3.20512 14.388,3.19464 11.9973,3.19464 Z";--icon-flickr: var(--icon-external-source-placeholder);--icon-vk: var(--icon-external-source-placeholder);--icon-evernote: var(--icon-external-source-placeholder);--icon-box: var(--icon-external-source-placeholder);--icon-onedrive: var(--icon-external-source-placeholder);--icon-huddle: var(--icon-external-source-placeholder)}:where(.lr-wgt-l10n_en-US,.lr-wgt-common),:host{--l10n-upload-file: "Upload file";--l10n-upload-files: "Upload files";--l10n-drop-files-here: "Drop files here";--l10n-select-file-source: "Select file source";--l10n-selected: "Selected";--l10n-upload: "Upload";--l10n-add-more: "Add more";--l10n-cancel: "Cancel";--l10n-clear: "Clear";--l10n-camera-shot: "Shot";--l10n-upload-url: "Import";--l10n-edit-image: "Edit image";--l10n-edit-detail: "Details";--l10n-back: "Back";--l10n-done: "Done";--l10n-ok: "Ok";--l10n-remove-from-list: "Remove";--l10n-no: "No";--l10n-yes: "Yes";--l10n-confirm-your-action: "Confirm your action";--l10n-are-you-sure: "Are you sure?";--l10n-selected-count: "Selected:";--l10n-upload-error: "Upload error";--l10n-validation-error: "Validation error";--l10n-no-files: "No files selected";--l10n-browse: "Browse";--l10n-not-uploaded-yet: "Not uploaded yet...";--l10n-src-type-local: "Local file";--l10n-src-type-from-url: "From URL";--l10n-src-type-camera: "Camera";--l10n-src-type-draw: "Draw";--l10n-src-type-facebook: "Facebook";--l10n-src-type-dropbox: "Dropbox";--l10n-src-type-gdrive: "Gdrive";--l10n-src-type-gphotos: "Gphotos";--l10n-src-type-instagram: "Instagram";--l10n-src-type-flickr: "Flickr";--l10n-src-type-vk: "VK";--l10n-src-type-evernote: "Evernote";--l10n-src-type-box: "Box";--l10n-src-type-onedrive: "Onedrive";--l10n-src-type-huddle: "Huddle";--l10n-src-type-other: "Other";--l10n-src-type: var(--l10n-src-type-local);--l10n-caption-from-url: "Import from external URL";--l10n-caption-camera: "Camera";--l10n-caption-draw: "Draw";--l10n-caption-edit-file: "Edit file";--l10n-file-no-name: "No name...";--l10n-toggle-fullscreen: "Toggle fullscreen";--l10n-toggle-guides: "Toggle guides";--l10n-rotate: "Rotate";--l10n-flip-vertical: "Flip vertical";--l10n-flip-horizontal: "Flip horizontal";--l10n-brightness: "Brightness";--l10n-contrast: "Contrast";--l10n-saturation: "Saturation";--l10n-resize: "Resize image";--l10n-crop: "Crop";--l10n-select-color: "Select color";--l10n-text: "Text";--l10n-draw: "Draw";--l10n-cancel-edit: "Cancel edit";--l10n-tab-view: "Preview";--l10n-tab-details: "Details";--l10n-file-name: "Name";--l10n-file-size: "Size";--l10n-cdn-url: "CDN URL";--l10n-file-size-unknown: "Unknown";--l10n-camera-permissions-denied: "Camera access denied";--l10n-camera-permissions-prompt: "Camera access prompted";--l10n-camera-permissions-request: "Request permissions";--l10n-files-count-limit-error-title: "Files count limit overflow";--l10n-files-count-limit-error-too-few: "You\\2019ve chosen {{total}}. At least {{min}} required.";--l10n-files-count-limit-error-too-many: "You\\2019ve chosen too many files. {{max}} is maximum.";--l10n-files-max-size-limit-error: "File is too big. Max file size is {{maxFileSize}} bytes.";--l10n-has-validation-errors: "File validation error ocurred. Please, check your files before upload."}:where(.lr-wgt-theme,.lr-wgt-common),:host{--darkmode: 0;--h-foreground: 208;--s-foreground: 4%;--l-foreground: calc(15% + 70% * var(--darkmode));--h-background: 208;--s-background: 4%;--l-background: calc(95% - 87% * var(--darkmode));--h-accent: 211;--s-accent: 100%;--l-accent: calc(50% - 5% * var(--darkmode));--h-confirm: 140;--s-confirm: 60%;--l-confirm: 60%;--h-error: 358;--s-error: 100%;--l-error: 66%;--shadows: 1;--h-shadow: 0;--s-shadow: 0%;--l-shadow: 0%;--opacity-normal: .5;--opacity-hover: .8;--opacity-active: 1;--ui-size: 36px;--gap-min: 2px;--gap-mid: 10px;--gap-max: 20px;--gap-table: 0px;--borders: 1;--border-radius-element: 7px;--border-radius-frame: 10px;--border-radius-thumb: 5px;--transition-duration: .2s;--modal-max-w: 800px;--modal-max-h: 600px;--darkmode-minus: calc(1 + var(--darkmode) * -2);--clr-background: hsl(var(--h-background), var(--s-background), var(--l-background));--clr-background-dark: hsl(var(--h-background), var(--s-background), calc(var(--l-background) - 3%));--clr-background-light: hsl(var(--h-background), var(--s-background), calc(var(--l-background) + 3%));--clr-generic-file-icon: hsl( var(--h-background), var(--s-background), calc(var(--l-background) + 4% * var(--darkmode-minus)) );--clr-accent: hsl(var(--h-accent), var(--s-accent), var(--l-accent));--clr-accent-light: hsla(var(--h-accent), var(--s-accent), var(--l-accent), 50%);--clr-accent-lightest: hsla(var(--h-accent), var(--s-accent), var(--l-accent), 10%);--clr-confirm: hsl(var(--h-confirm), var(--s-confirm), var(--l-confirm));--clr-error: hsl(var(--h-error), var(--s-error), var(--l-error));--clr-error-light: hsla(var(--h-error), var(--s-error), var(--l-error), 15%);--clr-error-lightest: hsla(var(--h-error), var(--s-error), var(--l-error), 5%);--clr-error-message-bgr: hsl(var(--h-error), var(--s-error), calc(var(--l-error) + 30% * var(--darkmode-minus)));--clr-txt: hsl(var(--h-foreground), var(--s-foreground), var(--l-foreground));--clr-txt-mid: hsl(var(--h-foreground), var(--s-foreground), calc(var(--l-foreground) + 15% * var(--darkmode-minus)));--clr-txt-light: hsl( var(--h-foreground), var(--s-foreground), calc(var(--l-foreground) + 30% * var(--darkmode-minus)) );--clr-txt-lightest: hsl( var(--h-foreground), var(--s-foreground), calc(var(--l-foreground) + 50% * var(--darkmode-minus)) );--clr-shade-lv1: hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), 5%);--clr-shade-lv2: hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), 8%);--clr-shade-lv3: hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), 12%);--border-light: 1px solid hsla( var(--h-foreground), var(--s-foreground), var(--l-foreground), calc((.1 - .05 * var(--darkmode)) * var(--borders)) );--border-mid: 1px solid hsla( var(--h-foreground), var(--s-foreground), var(--l-foreground), calc((.2 - .1 * var(--darkmode)) * var(--borders)) );--border-accent: 1px solid hsla(var(--h-accent), var(--s-accent), var(--l-accent), 1 * var(--borders));--border-dashed: 2px dashed hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), calc(.1 * var(--borders)));--clr-curtain: hsla(var(--h-background), var(--s-background), calc(var(--l-background) - 10%), 70%);--hsl-shadow: var(--h-shadow), var(--s-shadow), var(--l-shadow);--modal-shadow: 0px 0px 1px hsla(var(--hsl-shadow), calc((.35 + .65 * var(--darkmode)) * var(--shadows))), 0px 6px 40px hsla(var(--hsl-shadow), calc((.2 + .4 * var(--darkmode)) * var(--shadows)));--inset-shadow: inset 0px 2px 3px hsla(var(--hsl-shadow), calc(.09 + .1 * var(--darkmode)));--clr-btn-bgr-primary: var(--clr-accent);--clr-btn-bgr-primary-hover: hsl( var(--h-accent), var(--s-accent), calc(var(--l-accent) - 4% * var(--darkmode-minus)) );--clr-btn-bgr-primary-active: hsl( var(--h-accent), var(--s-accent), calc(var(--l-accent) - 8% * var(--darkmode-minus)) );--clr-btn-txt-primary: var(--clr-background-light);--shadow-btn-primary: 0px 1px 2px hsla(var(--hsl-shadow), calc(.26 * var(--shadows))), 0px 2px 8px hsla(var(--hsl-shadow), calc(.08 * var(--shadows))), inset 0px 0px 2px hsla(var(--hsl-shadow), calc(.2 * var(--shadows)));--clr-btn-bgr-secondary: hsl( var(--h-background), var(--s-background), calc(var(--l-background) + 3% + 3% * var(--darkmode)) );--clr-btn-bgr-secondary-hover: hsl( var(--h-background), var(--s-background), calc(var(--l-background) + 8% * var(--darkmode)) );--clr-btn-bgr-secondary-active: hsl( var(--h-background), var(--s-background), calc(var(--l-background) - 3% + 13% * var(--darkmode)) );--clr-btn-txt-secondary: var(--clr-txt);--shadow-btn-secondary: 0px 1px 1px hsla(var(--hsl-shadow), calc(.07 * var(--shadows))), 0px 2px 8px hsla(var(--hsl-shadow), calc(.06 * var(--shadows))), inset 0px 0px 1px hsla(var(--hsl-shadow), calc(.4 * var(--shadows)));--clr-btn-bgr-disabled: var(--clr-background);--clr-btn-txt-disabled: var(--clr-txt-lightest);--shadow-btn-disabled: inset 0px 0px 1px hsla(var(--hsl-shadow), calc(.4 * var(--shadows)))}@media only screen and (max-height: 600px){:where(.lr-wgt-theme,.lr-wgt-common),:host{--modal-max-h: 100%}}@media only screen and (max-width: 800px){:where(.lr-wgt-theme,.lr-wgt-common),:host{--modal-max-w: 100%;--modal-max-h: 100%}}:where(.lr-wgt-theme,.lr-wgt-common),:host{color:var(--clr-txt);font-size:15px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}:where(.lr-wgt-theme,.lr-wgt-common) *,:host *{box-sizing:border-box}:where(.lr-wgt-theme,.lr-wgt-common) [hidden],:host [hidden]{display:none!important}:where(.lr-wgt-theme,.lr-wgt-common) [activity]:not([active]),:host [activity]:not([active]){display:none}:where(.lr-wgt-theme,.lr-wgt-common) button,:host button{display:flex;align-items:center;justify-content:center;height:var(--ui-size);padding-right:1.4em;padding-left:1.4em;font-size:1em;font-family:inherit;white-space:nowrap;border:none;border-radius:var(--border-radius-element);cursor:pointer;-webkit-user-select:none;user-select:none}@media only screen and (max-width: 800px){:where(.lr-wgt-theme,.lr-wgt-common) button,:host button{padding-right:1em;padding-left:1em}}:where(.lr-wgt-theme,.lr-wgt-common) button.primary-btn,:host button.primary-btn{color:var(--clr-btn-txt-primary);background-color:var(--clr-btn-bgr-primary);box-shadow:var(--shadow-btn-primary);transition:background-color var(--transition-duration)}:where(.lr-wgt-theme,.lr-wgt-common) button.primary-btn:hover,:host button.primary-btn:hover{background-color:var(--clr-btn-bgr-primary-hover)}:where(.lr-wgt-theme,.lr-wgt-common) button.primary-btn:active,:host button.primary-btn:active{background-color:var(--clr-btn-bgr-primary-active)}:where(.lr-wgt-theme,.lr-wgt-common) button.secondary-btn,:host button.secondary-btn{color:var(--clr-btn-txt-secondary);background-color:var(--clr-btn-bgr-secondary);box-shadow:var(--shadow-btn-secondary);transition:background-color var(--transition-duration)}:where(.lr-wgt-theme,.lr-wgt-common) button.secondary-btn:hover,:host button.secondary-btn:hover{background-color:var(--clr-btn-bgr-secondary-hover)}:where(.lr-wgt-theme,.lr-wgt-common) button.secondary-btn:active,:host button.secondary-btn:active{background-color:var(--clr-btn-bgr-secondary-active)}:where(.lr-wgt-theme,.lr-wgt-common) :is(button[disabled],button.primary-btn[disabled],button.secondary-btn[disabled]),:host :is(button[disabled],button.primary-btn[disabled],button.secondary-btn[disabled]){color:var(--clr-btn-txt-disabled);background-color:var(--clr-btn-bgr-disabled);box-shadow:var(--shadow-btn-disabled);pointer-events:none}:where(.lr-wgt-theme,.lr-wgt-common) a,:host a{color:var(--clr-accent);text-decoration:none}:where(.lr-wgt-theme,.lr-wgt-common) a[disabled],:host a[disabled]{pointer-events:none}:where(.lr-wgt-theme,.lr-wgt-common) input[type=text],:host input[type=text]{display:flex;width:100%;height:var(--ui-size);padding-right:.6em;padding-left:.6em;color:var(--clr-txt);font-size:var(--font-size-ui);font-family:inherit;background-color:var(--clr-background-light);border:var(--border-mid);border-radius:var(--border-radius-element);box-shadow:var(--inset-shadow);transition:var(--transition-duration)}:where(.lr-wgt-theme,.lr-wgt-common) input[type=text]:hover,:host input[type=text]:hover{border-color:var(--clr-accent-light)}:where(.lr-wgt-theme,.lr-wgt-common) input[type=text]:focus,:host input[type=text]:focus{border-color:var(--clr-accent);outline:none}:where(.lr-wgt-theme,.lr-wgt-common) input[disabled],:host input[disabled]{opacity:.6;pointer-events:none}lr-icon{display:inline-flex;align-items:center;justify-content:center;width:var(--ui-size);height:var(--ui-size)}lr-icon svg{width:1.2em;height:1.2em}lr-icon:not([raw]) path{fill:currentColor}lr-tabs{display:grid;grid-template-rows:min-content minmax(var(--ui-size),auto);height:100%;overflow:hidden;color:var(--clr-txt-lightest)}lr-tabs>.tabs-row{display:flex;grid-template-columns:minmax();background-color:var(--clr-background-light)}lr-tabs>.tabs-context{overflow-y:auto}lr-tabs .tabs-row>.tab{display:flex;flex-grow:1;align-items:center;justify-content:center;height:var(--ui-size);border-bottom:var(--border-light);cursor:pointer;transition:var(--transition-duration)}lr-tabs .tabs-row>.tab[current]{color:var(--clr-txt);border-color:var(--clr-txt)}lr-range{position:relative;display:inline-flex;align-items:center;justify-content:center;height:var(--ui-size)}lr-range datalist{display:none}lr-range input{width:100%;height:100%;opacity:0}lr-range .track-wrapper{position:absolute;right:10px;left:10px;display:flex;align-items:center;justify-content:center;height:2px;-webkit-user-select:none;user-select:none;pointer-events:none}lr-range .track{position:absolute;right:0;left:0;display:flex;align-items:center;justify-content:center;height:2px;background-color:currentColor;border-radius:2px;opacity:.5}lr-range .slider{position:absolute;width:16px;height:16px;background-color:currentColor;border-radius:100%;transform:translate(-50%)}lr-range .bar{position:absolute;left:0;height:100%;background-color:currentColor;border-radius:2px}lr-range .caption{position:absolute;display:inline-flex;justify-content:center}lr-color{position:relative;display:inline-flex;align-items:center;justify-content:center;width:var(--ui-size);height:var(--ui-size);overflow:hidden;background-color:var(--clr-background);cursor:pointer}lr-color[current]{background-color:var(--clr-txt)}lr-color input[type=color]{position:absolute;display:block;width:100%;height:100%;opacity:0}lr-color .current-color{position:absolute;width:50%;height:50%;border:2px solid #fff;border-radius:100%;pointer-events:none}lr-simple-btn{display:inline-flex}lr-simple-btn button{padding-left:.2em!important;color:var(--clr-btn-txt-secondary);background-color:var(--clr-btn-bgr-secondary);box-shadow:var(--shadow-btn-secondary)}lr-simple-btn button:hover{background-color:var(--clr-btn-bgr-secondary-hover)}lr-simple-btn button:active{background-color:var(--clr-btn-bgr-secondary-active)}lr-simple-btn>lr-drop-area{display:contents}lr-simple-btn>lr-drop-area:after{content:""}lr-source-btn{display:flex;align-items:center;padding-right:1em;color:var(--clr-txt-mid);border-radius:var(--border-radius-element);cursor:pointer;transition-duration:var(--transition-duration);transition-property:background-color,color;-webkit-user-select:none;user-select:none}lr-source-btn:hover{color:var(--clr-txt);background-color:var(--clr-shade-lv1)}lr-source-btn:active{color:var(--clr-txt);background-color:var(--clr-shade-lv2)}lr-source-btn lr-icon{display:inline-flex;flex-grow:1;justify-content:center;min-width:var(--ui-size)}lr-source-btn[type=local]>.txt:after{content:var(--l10n-local-files)}lr-source-btn[type=camera]>.txt:after{content:var(--l10n-camera)}lr-source-btn[type=url]>.txt:after{content:var(--l10n-from-url)}lr-source-btn[type=other]>.txt:after{content:var(--l10n-other)}lr-source-btn .txt{display:flex;align-items:center;box-sizing:border-box;width:100%;height:var(--ui-size);padding:0;white-space:nowrap;border:none}lr-drop-area{display:flex;align-items:center;justify-content:center;padding:var(--gap-min);border:var(--border-dashed);border-radius:var(--border-radius-frame);transition:border-color var(--transition-duration) ease,background-color var(--transition-duration) ease,opacity var(--transition-duration) ease}lr-drop-area:after{color:var(--clr-txt-light);content:var(--l10n-drop-files-here)}lr-drop-area[ghost][drag-state=inactive]{opacity:0}lr-drop-area[drag-state=inactive]{background-color:var(--clr-shade-lv1)}lr-drop-area[drag-state=active]{background-color:var(--clr-accent-lightest);opacity:1}lr-drop-area[drag-state=near]{opacity:1}lr-drop-area[drag-state=near],lr-drop-area:hover{background-color:var(--clr-accent-lightest);border-color:var(--clr-accent-light)}lr-drop-area[drag-state=over]{background-color:var(--clr-accent-lightest);border-color:var(--clr-accent);opacity:1}lr-modal{--modal-max-content-height: calc(100vh - 4 * var(--gap-mid) - var(--ui-size));--modal-content-height-fill: 100vh;position:fixed;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center;padding:var(--gap-mid);color:var(--clr-txt);background-color:var(--clr-curtain);transition:opacity .4s}lr-modal:not([active]){visibility:hidden;opacity:0}lr-modal button.close-btn{display:inline-flex;align-items:center;justify-content:center;width:var(--ui-size);height:var(--ui-size);padding:0;color:var(--clr-txt-light);background-color:transparent;border:none;cursor:pointer;opacity:var(--opacity-normal);transition:opacity var(--transition-duration) ease}lr-modal button.close-btn:hover{opacity:var(--opacity-hover)}lr-modal button.close-btn:active{opacity:var(--opacity-active)}lr-modal>.dialog{display:flex;flex-direction:column;width:100%;max-width:var(--modal-max-w);min-height:var(--ui-size);max-height:var(--modal-max-h);overflow:hidden;background-color:var(--clr-background);border-radius:var(--border-radius-frame);box-shadow:var(--modal-shadow);transition:transform .4s}@media only screen and (max-width: 600px),only screen and (max-height: 800px){lr-modal>.dialog>.content{height:var(--modal-max-content-height)}}lr-modal:not([active])>.dialog{transform:translateY(20px)}lr-modal>.dialog>.content{display:contents}lr-modal .heading{display:grid;grid-template-columns:min-content 1fr min-content;padding:var(--gap-mid);color:var(--clr-txt-light);font-weight:500;font-size:1.1em;line-height:var(--ui-size);background-color:var(--clr-background-light);border-bottom:var(--border-light)}lr-url-source{display:grid;grid-gap:var(--gap-mid);grid-template-columns:1fr min-content min-content;padding:var(--gap-mid)}lr-url-source .url-input{display:flex}lr-url-source .url-upload-btn:after{content:var(--l10n-upload-url)}lr-camera-source{position:relative;display:flex;align-items:center;justify-content:center;height:var(--modal-content-height-fill, 100%);max-height:var(--modal-max-content-height);padding-bottom:calc(2 * var(--gap-mid) + var(--ui-size))}lr-camera-source video{display:block;max-width:100%;max-height:100%;object-fit:contain;object-position:center center;background-color:var(--clr-background)}lr-camera-source .toolbar{position:absolute;bottom:0;display:flex;justify-content:space-between;width:100%;padding:var(--gap-mid);background-color:var(--clr-background)}lr-camera-source .content{display:flex;justify-content:center;height:100%}lr-camera-source .message-box{--padding: calc(var(--gap-max) * 2);display:flex;flex-direction:column;grid-gap:var(--gap-max);align-items:center;justify-content:center;padding:var(--padding) var(--padding) 0 var(--padding)}lr-camera-source .message-box button{color:var(--clr-btn-txt-primary);background-color:var(--clr-btn-bgr-primary)}lr-external-source{position:relative;display:grid;grid-template-rows:auto min-content;height:var(--modal-content-height-fill, 100%);max-height:var(--modal-max-content-height)}lr-external-source iframe{display:block;width:100%;height:100%;border:none}lr-external-source .toolbar{display:grid;grid-gap:var(--gap-mid);grid-template-columns:max-content 1fr max-content max-content;align-items:center;width:100%;padding:var(--gap-mid);border-top:var(--border-light)}lr-external-source .back-btn{padding-left:0}lr-external-source .back-btn:after{content:var(--l10n-back)}lr-external-source .selected-counter{display:flex;grid-gap:var(--gap-mid);align-items:center;justify-content:space-between;padding:var(--gap-mid)}lr-upload-list{display:grid;grid-template-rows:1fr min-content;max-height:100%;overflow:hidden;background-color:var(--clr-background-light);transition:opacity var(--transition-duration)}lr-upload-list .no-files{height:var(--file-item-height);padding:var(--gap-max)}lr-upload-list .files{display:block;overflow:auto}lr-upload-list .toolbar{display:flex;gap:var(--gap-mid);justify-content:space-between;padding:var(--gap-mid);background-color:var(--clr-background);border-top:var(--border-light)}lr-upload-list .toolbar-spacer{flex:1}lr-start-from{display:grid;grid-template-columns:min-content auto;grid-gap:var(--gap-mid);gap:var(--gap-mid);padding:var(--gap-mid);overflow-y:auto}lr-file-item{position:relative;display:grid;grid-template-columns:min-content auto min-content min-content;padding:var(--gap-mid);background-color:transparent;border-bottom:var(--border-light);transition:var(--transition-duration)}lr-file-item:last-of-type{border-bottom:none}lr-file-item:hover{background-color:var(--clr-background)}lr-file-item[focused]{background-color:transparent}lr-file-item[uploading] .edit-btn{display:none}lr-file-item[error]{background-color:var(--clr-error-lightest)}lr-file-item .thumb{position:relative;display:inline-flex;width:var(--ui-size);height:var(--ui-size);background-color:var(--clr-shade-lv1);background-position:center center;background-size:cover;border-radius:var(--border-radius-thumb)}lr-file-item .file-name-wrapper{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;max-width:100%;padding-right:var(--gap-mid);padding-left:var(--gap-mid);overflow:hidden;color:var(--clr-txt)}lr-file-item .file-name{max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}lr-file-item button{width:var(--ui-size);height:var(--ui-size);padding:0;color:var(--clr-txt-lightest);background-color:transparent;cursor:pointer;opacity:var(--opacity-normal);transition:opacity var(--transition-duration)}lr-file-item .upload-btn{display:none}lr-file-item button:hover{opacity:var(--opacity-hover)}lr-file-item .badge{position:absolute;top:calc(var(--ui-size) * -.15);right:calc(var(--ui-size) * -.15);display:none;width:calc(var(--ui-size) * .42);height:calc(var(--ui-size) * .42);color:var(--clr-background-light);background-color:var(--clr-txt);border-radius:50%}lr-file-item[error] .badge,lr-file-item[loaded] .badge{display:block}lr-file-item[loaded] .badge{background-color:var(--clr-confirm)}lr-file-item[error] .badge{background-color:var(--clr-error)}lr-file-item .badge lr-icon,lr-file-item .badge lr-icon svg{width:100%;height:100%}lr-file-item .progress-bar{top:calc(100% - 2px);height:2px}lr-upload-details{position:relative;display:grid;grid-template-rows:auto min-content;height:var(--modal-content-height-fill, 100%);max-height:var(--modal-max-content-height);overflow:hidden}lr-upload-details lr-tabs .tabs-context{position:relative}lr-upload-details .toolbar{display:grid;grid-template-columns:min-content min-content 1fr min-content;grid-gap:var(--gap-mid);gap:var(--gap-mid);padding:var(--gap-mid);border-top:var(--border-light)}lr-upload-details .toolbar[edit-disabled]{display:flex;justify-content:space-between}lr-upload-details .remove-btn{padding-left:.5em}lr-upload-details .detail-btn{padding-left:0;color:var(--clr-txt);background-color:var(--clr-background)}lr-upload-details .edit-btn{padding-left:.5em}lr-upload-details .details{padding:var(--gap-max)}lr-upload-details .info-block{padding-top:var(--gap-max);padding-bottom:calc(var(--gap-max) + var(--gap-table));color:var(--clr-txt);border-bottom:var(--border-light)}lr-upload-details .info-block:first-of-type{padding-top:0}lr-upload-details .info-block:last-of-type{border-bottom:none}lr-upload-details .info-block>.info-block_name{margin-bottom:.4em;color:var(--clr-txt-light);font-size:.8em}lr-upload-details .cdn-link[disabled]{pointer-events:none}lr-upload-details .cdn-link[disabled]:before{filter:grayscale(1);content:var(--l10n-not-uploaded-yet)}lr-editable-canvas{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}lr-editable-canvas>.img-view{position:absolute;inset:0;width:100%;max-width:100%;height:100%;max-height:100%;object-fit:scale-down}lr-editable-canvas-toolbar{position:absolute;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center;overflow:hidden;pointer-events:none}lr-editable-canvas-toolbar .btns{position:absolute;left:var(--gap-mid);display:grid;pointer-events:all}lr-editable-canvas-toolbar .btns>button{display:inline-flex;width:var(--ui-size);height:var(--ui-size);color:var(--clr-txt);background-color:var(--clr-background);border-radius:0}lr-editable-canvas-toolbar .btns>button:first-of-type{border-top-left-radius:var(--border-radius-element);border-top-right-radius:var(--border-radius-element)}lr-editable-canvas-toolbar .btns>button:last-of-type{border-bottom-right-radius:var(--border-radius-element);border-bottom-left-radius:var(--border-radius-element)}lr-editable-canvas-toolbar .btns>button[current]{color:var(--clr-txt);background-color:var(--clr-background)}lr-editable-canvas-toolbar>lr-range{position:absolute!important;bottom:0;width:100%;transition:.2s;pointer-events:all}lr-editable-canvas-toolbar>lr-range:not([visible]){transform:translateY(60px)}lr-message-box{position:fixed;right:var(--gap-mid);bottom:var(--gap-mid);left:var(--gap-mid);z-index:100000;display:grid;grid-template-rows:min-content auto;color:var(--clr-txt);font-size:.9em;background:var(--clr-background);border-radius:var(--border-radius-frame);box-shadow:var(--modal-shadow);transition:calc(var(--transition-duration) * 2)}lr-message-box[inline]{position:static}lr-message-box:not([active]){transform:translateY(10px);visibility:hidden;opacity:0}lr-message-box[error]{color:var(--clr-error);background-color:var(--clr-error-message-bgr)}lr-message-box .heading{display:grid;grid-template-columns:min-content auto min-content;padding:var(--gap-mid)}lr-message-box .caption{display:flex;align-items:center;word-break:break-word}lr-message-box .heading button{width:var(--ui-size);padding:0;color:currentColor;background-color:transparent;opacity:var(--opacity-normal)}lr-message-box .heading button:hover{opacity:var(--opacity-hover)}lr-message-box .heading button:active{opacity:var(--opacity-active)}lr-message-box .msg{padding:var(--gap-max);padding-top:0}lr-confirmation-dialog{display:block;padding:var(--gap-mid);padding-top:var(--gap-max)}lr-confirmation-dialog .message{display:flex;justify-content:center;padding:var(--gap-mid);padding-bottom:var(--gap-max);font-weight:500;font-size:1.1em}lr-confirmation-dialog .toolbar{display:grid;grid-template-columns:1fr 1fr;grid-gap:var(--gap-mid);gap:var(--gap-mid);margin-top:var(--gap-mid)}lr-progress-bar-common{position:absolute;right:0;bottom:0;left:0;z-index:10000;display:block;height:var(--gap-mid);background-color:var(--clr-background);transition:opacity .3s}lr-progress-bar-common:not([active]){opacity:0}lr-progress-bar{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}lr-progress-bar .progress{width:calc(var(--l-width) * 1%);height:100%;background-color:var(--clr-accent-light);transform:translate(0);opacity:1;transition:width .6s,opacity .3s}lr-progress-bar .progress--unknown{width:100%;transform-origin:0% 50%;animation:lr-indeterminateAnimation 1s infinite linear}lr-progress-bar .progress--hidden{opacity:0}@keyframes lr-indeterminateAnimation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}lr-activity-caption{color:var(--clr-txt);font-size:1em}lr-activity-icon{height:var(--ui-size)}:where(.lr-cldtr-common) lr-icon{display:flex;align-items:center;justify-content:center;width:100%;height:100%}:where(.lr-cldtr-common) lr-icon svg{width:unset;height:unset}:where(.lr-cldtr-common) lr-icon:not([raw]) path{stroke-linejoin:round;fill:none;stroke:currentColor;stroke-width:1.2}:where(.lr-cldtr-icons,.lr-cldtr-common),:host{--icon-rotate: "M13.5.399902L12 1.9999l1.5 1.6M12.0234 2H14.4C16.3882 2 18 3.61178 18 5.6V8M4 17h9c.5523 0 1-.4477 1-1V7c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44771-1 1v9c0 .5523.44771 1 1 1z";--icon-mirror: "M5.00042.399902l-1.5 1.599998 1.5 1.6M15.0004.399902l1.5 1.599998-1.5 1.6M3.51995 2H16.477M8.50042 16.7V6.04604c0-.30141-.39466-.41459-.5544-.159L1.28729 16.541c-.12488.1998.01877.459.2544.459h6.65873c.16568 0 .3-.1343.3-.3zm2.99998 0V6.04604c0-.30141.3947-.41459.5544-.159L18.7135 16.541c.1249.1998-.0187.459-.2544.459h-6.6587c-.1657 0-.3-.1343-.3-.3z";--icon-flip: "M19.6001 4.99993l-1.6-1.5-1.6 1.5m3.2 9.99997l-1.6 1.5-1.6-1.5M18 3.52337V16.4765M3.3 8.49993h10.654c.3014 0 .4146-.39466.159-.5544L3.459 1.2868C3.25919 1.16192 3 1.30557 3 1.5412v6.65873c0 .16568.13432.3.3.3zm0 2.99997h10.654c.3014 0 .4146.3947.159.5544L3.459 18.7131c-.19981.1248-.459-.0188-.459-.2544v-6.6588c0-.1657.13432-.3.3-.3z";--icon-sad: "M2 17c4.41828-4 11.5817-4 16 0M16.5 5c0 .55228-.4477 1-1 1s-1-.44772-1-1 .4477-1 1-1 1 .44772 1 1zm-11 0c0 .55228-.44772 1-1 1s-1-.44772-1-1 .44772-1 1-1 1 .44772 1 1z";--icon-closeMax: "M3 3l14 14m0-14L3 17";--icon-crop: "M20 14H7.00513C6.45001 14 6 13.55 6 12.9949V0M0 6h13.0667c.5154 0 .9333.41787.9333.93333V20M14.5.399902L13 1.9999l1.5 1.6M13 2h2c1.6569 0 3 1.34315 3 3v2M5.5 19.5999l1.5-1.6-1.5-1.6M7 18H5c-1.65685 0-3-1.3431-3-3v-2";--icon-sliders: "M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4M12 4.5a1.5 1.5 0 103 0 1.5 1.5 0 10-3 0M5 10a1.5 1.5 0 103 0 1.5 1.5 0 10-3 0M12 15.5a1.5 1.5 0 103 0 1.5 1.5 0 10-3 0";--icon-filters: "M4.5 6.5a5.5 5.5 0 1011 0 5.5 5.5 0 10-11 0m-3.5 6a5.5 5.5 0 1011 0 5.5 5.5 0 10-11 0m7 0a5.5 5.5 0 1011 0 5.5 5.5 0 10-11 0";--icon-done: "M1 10.6316l5.68421 5.6842L19 4";--icon-original: "M0 40L40-.00000133";--icon-slider: "M0 10h11m0 0c0 1.1046.8954 2 2 2s2-.8954 2-2m-4 0c0-1.10457.8954-2 2-2s2 .89543 2 2m0 0h5";--icon-exposure: "M10 20v-3M2.92946 2.92897l2.12132 2.12132M0 10h3m-.07054 7.071l2.12132-2.1213M10 0v3m7.0705 14.071l-2.1213-2.1213M20 10h-3m.0705-7.07103l-2.1213 2.12132M5 10a5 5 0 1010 0 5 5 0 10-10 0";--icon-contrast: "M2 10a8 8 0 1016 0 8 8 0 10-16 0m8-8v16m8-8h-8m7.5977 2.5H10m6.24 2.5H10m7.6-7.5H10M16.2422 5H10";--icon-brightness: "M15 10c0 2.7614-2.2386 5-5 5m5-5c0-2.76142-2.2386-5-5-5m5 5h-5m0 5c-2.76142 0-5-2.2386-5-5 0-2.76142 2.23858-5 5-5m0 10V5m0 15v-3M2.92946 2.92897l2.12132 2.12132M0 10h3m-.07054 7.071l2.12132-2.1213M10 0v3m7.0705 14.071l-2.1213-2.1213M20 10h-3m.0705-7.07103l-2.1213 2.12132M14.3242 7.5H10m4.3242 5H10";--icon-gamma: "M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1";--icon-enhance: "M19 13h-2m0 0c-2.2091 0-4-1.7909-4-4m4 4c-2.2091 0-4 1.7909-4 4m0-8V7m0 2c0 2.2091-1.7909 4-4 4m-2 0h2m0 0c2.2091 0 4 1.7909 4 4m0 0v2M8 8.5H6.5m0 0c-1.10457 0-2-.89543-2-2m2 2c-1.10457 0-2 .89543-2 2m0-4V5m0 1.5c0 1.10457-.89543 2-2 2M1 8.5h1.5m0 0c1.10457 0 2 .89543 2 2m0 0V12M12 3h-1m0 0c-.5523 0-1-.44772-1-1m1 1c-.5523 0-1 .44772-1 1m0-2V1m0 1c0 .55228-.44772 1-1 1M8 3h1m0 0c.55228 0 1 .44772 1 1m0 0v1";--icon-saturation: \'    <circle cx="10.0006" cy="10.0001" r="9" transform="rotate(90 10.0006 10.0001)" fill="url(#paint0_linear)"/>     <defs>       <linearGradient id="paint0_linear" x1="10.0006" y1="1.00009" x2="10.0006" y2="19.0001" gradientUnits="userSpaceOnUse">         <stop stop-color="#DE15FF"/>         <stop offset=".203125" stop-color="#0029FF"/>         <stop offset=".479167" stop-color="#2AE4F0"/>         <stop offset=".604167" stop-color="#15EF11"/>         <stop offset=".75" stop-color="#FAE528"/>         <stop offset="1" stop-color="#EB2A2A"/>       </linearGradient>     </defs>  \';--icon-warmth: \'    <path d="M7.5 13.0505l.42854.4199.17146-.1749v-.245h-.6zm5 0h-.6v.245l.1715.1749.4285-.4199zM8.1 3.5c0-1.04934.85066-1.9 1.9-1.9V.4C8.28792.4 6.9 1.78792 6.9 3.5h1.2zm0 9.5505V3.5H6.9v9.5505h1.2zM7.1 15.5c0-.7904.31539-1.5059.82854-2.0296l-.85708-.8398C6.34742 13.3694 5.9 14.3831 5.9 15.5h1.2zm2.9 2.9c-1.60163 0-2.9-1.2984-2.9-2.9H5.9c0 2.2644 1.83563 4.1 4.1 4.1v-1.2zm2.9-2.9c0 1.6016-1.2984 2.9-2.9 2.9v1.2c2.2644 0 4.1-1.8356 4.1-4.1h-1.2zm-.8285-2.0296c.5131.5237.8285 1.2392.8285 2.0296h1.2c0-1.1169-.4474-2.1306-1.1715-2.8694l-.857.8398zM11.9 3.5v9.5505h1.2V3.5h-1.2zM10 1.6c1.0493 0 1.9.85066 1.9 1.9h1.2c0-1.71208-1.3879-3.1-3.1-3.1v1.2z" fill="currentColor"/>    <path d="M10 14V8" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>    <path d="M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 102 0 1 1 0 10-2 0" stroke="currentColor" stroke-width="1.2"/>  \';--icon-vibrance: \'  <path d="M2.125 5.6407c-.71643 1.29152-1.12439 2.77782-1.12439 4.3594 0 1.5816.40796 3.0679 1.12439 4.3594V5.6407z" fill="url(#paint0_linear)"/>  <path d="M2.875 15.4986V4.5016c.50222-.64987 1.09136-1.22915 1.75-1.72041V17.219c-.65864-.4912-1.24778-1.0705-1.75-1.7204z" fill="url(#paint1_linear)"/>  <path d="M5.375 17.722c.54811.3291 1.13415.6014 1.75.8089V1.46929c-.61585.20751-1.20189.47984-1.75.80888V17.722z" fill="url(#paint2_linear)"/>  <path d="M7.875 1.25258V18.7476c.56442.1367 1.14962.2202 1.75.2448V1.0078c-.60038.02465-1.18558.10811-1.75.24478z" fill="url(#paint3_linear)"/>  <path d="M10.375 1.00775V18.9925c.6004-.0246 1.1856-.108 1.75-.2446V1.25228c-.5644-.13658-1.1496-.21996-1.75-.24453z" fill="url(#paint4_linear)"/>  <path d="M12.875 1.46887V18.5313c.6158-.2074 1.2019-.4796 1.75-.8085V2.27744c-.5481-.32893-1.1342-.60115-1.75-.80857z" fill="url(#paint5_linear)"/>  <path d="M15.375 2.78028V17.2199c.6586-.491 1.2477-1.0701 1.75-1.7197V4.50002c-.5023-.64963-1.0914-1.22868-1.75-1.71974z" fill="url(#paint6_linear)"/>  <path d="M17.875 5.6385v8.7232c.7172-1.292 1.1256-2.7791 1.1256-4.3616 0-1.58248-.4084-3.06956-1.1256-4.3616z" fill="url(#paint7_linear)"/>  <defs>    <linearGradient id="paint0_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint1_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint2_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint3_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint4_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint5_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint6_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint7_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>  </defs>  \'}:where(.lr-cldtr-l10n_en-US,.lr-cldtr-common),:host{--l10n-cancel: "Cancel";--l10n-apply: "Apply";--l10n-brightness: "Brightness";--l10n-exposure: "Exposure";--l10n-gamma: "Gamma";--l10n-contrast: "Contrast";--l10n-saturation: "Saturation";--l10n-vibrance: "Vibrance";--l10n-warmth: "Warmth";--l10n-enhance: "Enhance";--l10n-original: "Original"}:where(.lr-cldtr-common),:host{--rgb-primary-accent: 6, 2, 196;--rgb-text-base: 0, 0, 0;--rgb-text-accent-contrast: 255, 255, 255;--rgb-fill-contrast: 255, 255, 255;--rgb-fill-shaded: 245, 245, 245;--rgb-shadow: 0, 0, 0;--rgb-error: 209, 81, 81;--opacity-shade-mid: .2;--color-primary-accent: rgb(var(--rgb-primary-accent));--color-text-base: rgb(var(--rgb-text-base));--color-text-accent-contrast: rgb(var(--rgb-text-accent-contrast));--color-text-soft: rgb(var(--rgb-fill-contrast));--color-text-error: rgb(var(--rgb-error));--color-fill-contrast: rgb(var(--rgb-fill-contrast));--color-modal-backdrop: rgba(var(--rgb-fill-shaded), .95);--color-image-background: rgba(var(--rgb-fill-shaded));--color-outline: rgba(var(--rgb-text-base), var(--opacity-shade-mid));--color-underline: rgba(var(--rgb-text-base), .08);--color-shade: rgba(var(--rgb-text-base), .02);--color-focus-ring: var(--color-primary-accent);--color-input-placeholder: rgba(var(--rgb-text-base), .32);--color-error: rgb(var(--rgb-error));--font-size-ui: 16px;--font-size-title: 18px;--font-weight-title: 500;--font-size-soft: 14px;--size-touch-area: 40px;--size-panel-heading: 66px;--size-ui-min-width: 130px;--size-line-width: 1px;--size-modal-width: 650px;--border-radius-connect: 2px;--border-radius-editor: 3px;--border-radius-thumb: 4px;--border-radius-ui: 5px;--border-radius-base: 6px;--gap-min: 5px;--gap-mid-1: 10px;--gap-mid-2: 15px;--gap-max: 20px;--opacity-min: var(--opacity-shade-mid);--opacity-mid: .1;--opacity-max: .05;--transition-duration-2: var(--transition-duration-all, .2s);--transition-duration-3: var(--transition-duration-all, .3s);--transition-duration-4: var(--transition-duration-all, .4s);--transition-duration-5: var(--transition-duration-all, .5s);--shadow-base: 0px 5px 15px rgba(var(--rgb-shadow), .1), 0px 1px 4px rgba(var(--rgb-shadow), .15)}:where(.lr-cldtr-common) :is([can-handle-paste]:hover,[can-handle-paste]:focus),:host :is([can-handle-paste]:hover,[can-handle-paste]:focus){--can-handle-paste: "true"}:where(.lr-cldtr-common) :is([tabindex][focus-visible],[tabindex]:hover,[with-effects][focus-visible],[with-effects]:hover),:host :is([tabindex][focus-visible],[tabindex]:hover,[with-effects][focus-visible],[with-effects]:hover){--filter-effect: var(--hover-filter) !important;--opacity-effect: var(--hover-opacity) !important;--color-effect: var(--hover-color-rgb) !important}:where(.lr-cldtr-common) :is([tabindex]:active,[with-effects]:active),:host :is([tabindex]:active,[with-effects]:active){--filter-effect: var(--down-filter) !important;--opacity-effect: var(--down-opacity) !important;--color-effect: var(--down-color-rgb) !important}:where(.lr-cldtr-common) :is([tabindex][active],[with-effects][active]),:host :is([tabindex][active],[with-effects][active]){--filter-effect: var(--active-filter) !important;--opacity-effect: var(--active-opacity) !important;--color-effect: var(--active-color-rgb) !important}:where(.lr-cldtr-common) [hidden-scrollbar]::-webkit-scrollbar,:host [hidden-scrollbar]::-webkit-scrollbar{display:none}:where(.lr-cldtr-common) [hidden-scrollbar],:host [hidden-scrollbar]{-ms-overflow-style:none;scrollbar-width:none}lr-cloud-editor{display:block;width:100%;height:100%;max-height:100%;--modal-header-opacity: 1;--modal-header-height: var(--size-panel-heading);--modal-toolbar-height: var(--size-panel-heading);--transparent-pixel: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=)}lr-cloud-editor.editor_ON{--modal-header-opacity: 0;--modal-header-height: 0px;--modal-toolbar-height: calc(var(--size-panel-heading) * 2)}lr-cloud-editor.editor_OFF{--modal-header-opacity: 1;--modal-header-height: var(--size-panel-heading);--modal-toolbar-height: var(--size-panel-heading)}lr-cloud-editor>.wrapper{position:relative;display:grid;grid-template-rows:minmax(var(--l-min-img-height),var(--l-max-img-height)) minmax(var(--modal-toolbar-height),auto);height:100%;overflow:hidden;overflow-y:auto;transition:.3s;--l-min-img-height: var(--modal-toolbar-height);--l-max-img-height: 100%;--l-edit-button-width: 120px;--l-toolbar-horizontal-padding: var(--gap-mid-1)}@media only screen and (max-width: 800px){lr-cloud-editor>.wrapper{--l-edit-button-width: 70px;--l-toolbar-horizontal-padding: var(--gap-min)}}lr-cloud-editor>.wrapper>.viewport{display:flex;align-items:center;justify-content:center;overflow:hidden}lr-cloud-editor>.wrapper>.viewport>.image_container>.image{--viewer-image-opacity: 1;position:absolute;top:0;left:0;z-index:10;display:block;box-sizing:border-box;width:100%;height:100%;object-fit:scale-down;background-color:var(--color-image-background);transform:scale(1);opacity:var(--viewer-image-opacity);-webkit-user-select:none;user-select:none;pointer-events:auto}lr-cloud-editor>.wrapper>.viewport>.image_container>.image.image_visible_viewer{transition:opacity var(--transition-duration-3) ease-in-out,transform var(--transition-duration-4)}lr-cloud-editor>.wrapper>.viewport>.image_container>.image.image_hidden_to_cropper{background-image:var(--transparent-pixel);transform:scale(1);transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-end);pointer-events:none;--viewer-image-opacity: 0}lr-cloud-editor>.wrapper>.viewport>.image_container>.image.image_hidden_effects{transform:scale(1);transition:opacity var(--transition-duration-3) cubic-bezier(.5,0,1,1),transform var(--transition-duration-4);pointer-events:none;--viewer-image-opacity: 0}lr-cloud-editor>.wrapper>.viewport>.image_container{position:relative;display:block;width:100%;height:100%;background-color:var(--color-image-background);transition:var(--transition-duration-3)}lr-cloud-editor>.wrapper>.toolbar{position:relative;transition:.3s}lr-cloud-editor>.wrapper>.toolbar>.toolbar_content{position:absolute;bottom:0;left:0;box-sizing:border-box;width:100%;height:var(--modal-toolbar-height);min-height:var(--size-panel-heading);background-color:var(--color-fill-contrast)}lr-cloud-editor>.wrapper>.toolbar>.toolbar_content.toolbar_content__viewer{display:flex;align-items:center;justify-content:space-between;height:var(--size-panel-heading);padding-right:var(--l-toolbar-horizontal-padding);padding-left:var(--l-toolbar-horizontal-padding)}lr-cloud-editor>.wrapper>.toolbar>.toolbar_content.toolbar_content__editor{display:flex}lr-cloud-editor>.wrapper>.viewport>.info_pan{position:absolute;-webkit-user-select:none;user-select:none}lr-cloud-editor>.wrapper>.viewport>.file_type_outer{position:absolute;z-index:2;display:flex;max-width:120px;transform:translate(-40px);-webkit-user-select:none;user-select:none}lr-cloud-editor>.wrapper>.viewport>.file_type_outer>.file_type{padding:4px .8em}lr-cloud-editor>.wrapper>.network_problems_splash{position:absolute;z-index:4;display:flex;flex-direction:column;width:100%;height:100%;background-color:var(--color-fill-contrast)}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_content{display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_content>.network_problems_icon{display:flex;align-items:center;justify-content:center;width:40px;height:40px;color:rgba(var(--rgb-text-base),.6);background-color:rgba(var(--rgb-fill-shaded));border-radius:50%}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_content>.network_problems_text{margin-top:var(--gap-max);font-size:var(--font-size-ui)}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_footer{display:flex;align-items:center;justify-content:center;height:var(--size-panel-heading)}lr-crop-frame>.svg{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;border-top-left-radius:var(--border-radius-base);border-top-right-radius:var(--border-radius-base);opacity:inherit;transition:var(--transition-duration-3)}lr-crop-frame>.thumb{--idle-color-rgb: var(--color-text-base);--hover-color-rgb: var(--color-primary-accent);--focus-color-rgb: var(--color-primary-accent);--down-color-rgb: var(--color-primary-accent);--color-effect: var(--idle-color-rgb);color:var(--color-effect);transition:color var(--transition-duration-3),opacity var(--transition-duration-3)}lr-crop-frame>.thumb--visible{opacity:1;pointer-events:auto}lr-crop-frame>.thumb--hidden{opacity:0;pointer-events:none}lr-crop-frame>.guides{transition:var(--transition-duration-3)}lr-crop-frame>.guides--hidden{opacity:0}lr-crop-frame>.guides--semi-hidden{opacity:.2}lr-crop-frame>.guides--visible{opacity:1}lr-editor-button-control,lr-editor-crop-button-control,lr-editor-filter-control,lr-editor-operation-control{--l-base-min-width: 40px;--l-base-height: var(--l-base-min-width);--opacity-effect: var(--idle-opacity);--color-effect: var(--idle-color-rgb);--filter-effect: var(--idle-filter);--idle-color-rgb: var(--rgb-text-base);--idle-opacity: .05;--idle-filter: 1;--hover-color-rgb: var(--idle-color-rgb);--hover-opacity: .08;--hover-filter: .8;--down-color-rgb: var(--hover-color-rgb);--down-opacity: .12;--down-filter: .6;position:relative;display:grid;grid-template-columns:var(--l-base-min-width) auto;align-items:center;height:var(--l-base-height);color:rgba(var(--idle-color-rgb));outline:none;cursor:pointer;transition:var(--l-width-transition)}lr-editor-button-control>.active,lr-editor-operation-control>.active,lr-editor-crop-button-control>.active,lr-editor-filter-control>.active{--idle-color-rgb: var(--rgb-primary-accent)}lr-editor-button-control>.not_active,lr-editor-operation-control>.not_active,lr-editor-crop-button-control>.not_active,lr-editor-filter-control>.not_active{--idle-color-rgb: var(--rgb-text-base)}lr-editor-button-control>.before,lr-editor-operation-control>.before,lr-editor-crop-button-control>.before,lr-editor-filter-control>.before{position:absolute;right:0;left:0;z-index:-1;width:100%;height:100%;background-color:rgba(var(--color-effect),var(--opacity-effect));border-radius:var(--border-radius-editor);transition:var(--transition-duration-3)}lr-editor-button-control>.title,lr-editor-operation-control>.title,lr-editor-crop-button-control>.title,lr-editor-filter-control>.title{padding-right:var(--gap-mid-1);font-size:.7em;letter-spacing:1.004px;text-transform:uppercase}lr-editor-filter-control>.preview{position:absolute;right:0;left:0;z-index:1;width:100%;height:var(--l-base-height);background-repeat:no-repeat;background-size:contain;border-radius:var(--border-radius-editor);opacity:0;filter:brightness(var(--filter-effect));transition:var(--transition-duration-3)}lr-editor-filter-control>.original-icon{color:var(--color-text-base);opacity:.3}lr-editor-image-cropper{position:absolute;top:0;left:0;z-index:10;display:block;width:100%;height:100%;opacity:0;pointer-events:none;touch-action:none}lr-editor-image-cropper.active_from_editor{transform:scale(1) translate(0);opacity:1;transition:transform var(--transition-duration-4) cubic-bezier(.37,0,.63,1) .4s,opacity var(--transition-duration-3);pointer-events:auto}lr-editor-image-cropper.active_from_viewer{transform:scale(1) translate(0);opacity:1;transition:transform var(--transition-duration-4) cubic-bezier(.37,0,.63,1) .4s,opacity var(--transition-duration-3);pointer-events:auto}lr-editor-image-cropper.inactive_to_editor{opacity:0;transition:transform var(--transition-duration-4) cubic-bezier(.37,0,.63,1),opacity var(--transition-duration-3) calc(var(--transition-duration-3) + .05s);pointer-events:none}lr-editor-image-cropper>.canvas{position:absolute;top:0;left:0;z-index:1;display:block;width:100%;height:100%}lr-editor-image-fader{position:absolute;top:0;left:0;display:block;width:100%;height:100%}lr-editor-image-fader.active_from_viewer{z-index:3;transform:scale(1);opacity:1;transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-start);pointer-events:auto}lr-editor-image-fader.active_from_cropper{z-index:3;transform:scale(1);opacity:1;transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-end);pointer-events:auto}lr-editor-image-fader.inactive_to_cropper{z-index:3;transform:scale(1);opacity:0;transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-end);pointer-events:none}lr-editor-image-fader .fader-image{position:absolute;top:0;left:0;display:block;width:100%;height:100%;object-fit:scale-down;transform:scale(1);-webkit-user-select:none;user-select:none;content-visibility:auto}lr-editor-image-fader .fader-image--preview{background-color:var(--color-image-background);border-top-left-radius:var(--border-radius-base);border-top-right-radius:var(--border-radius-base);transform:scale(1);opacity:0;transition:var(--transition-duration-3)}lr-editor-scroller{display:flex;align-items:center;width:100%;height:100%;overflow-x:scroll}lr-editor-slider{display:flex;align-items:center;justify-content:center;width:100%;height:66px}lr-editor-toolbar{position:relative;width:100%;height:100%}@media only screen and (max-width: 600px){lr-editor-toolbar{--l-tab-gap: var(--gap-mid-1);--l-slider-padding: var(--gap-min);--l-controls-padding: var(--gap-min)}}@media only screen and (min-width: 601px){lr-editor-toolbar{--l-tab-gap: calc(var(--gap-mid-1) + var(--gap-max));--l-slider-padding: var(--gap-mid-1);--l-controls-padding: var(--gap-mid-1)}}lr-editor-toolbar>.toolbar-container{position:relative;width:100%;height:100%;overflow:hidden}lr-editor-toolbar>.toolbar-container>.sub-toolbar{position:absolute;display:grid;grid-template-rows:1fr 1fr;width:100%;height:100%;background-color:var(--color-fill-contrast);transition:opacity var(--transition-duration-3) ease-in-out,transform var(--transition-duration-3) ease-in-out,visibility var(--transition-duration-3) ease-in-out}lr-editor-toolbar>.toolbar-container>.sub-toolbar.sub-toolbar--visible{transform:translateY(0);opacity:1;pointer-events:auto}lr-editor-toolbar>.toolbar-container>.sub-toolbar.sub-toolbar--top-hidden{transform:translateY(100%);opacity:0;pointer-events:none}lr-editor-toolbar>.toolbar-container>.sub-toolbar.sub-toolbar--bottom-hidden{transform:translateY(-100%);opacity:0;pointer-events:none}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.controls-row{display:flex;align-items:center;justify-content:space-between;padding-right:var(--l-controls-padding);padding-left:var(--l-controls-padding)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.controls-row>.tab-toggles{position:relative;display:grid;grid-auto-flow:column;grid-gap:0px var(--l-tab-gap);align-items:center;height:100%}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.controls-row>.tab-toggles>.tab-toggles_indicator{position:absolute;bottom:0;left:0;width:var(--size-touch-area);height:2px;background-color:var(--color-primary-accent);transform:translate(0);transition:transform var(--transition-duration-3)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row{position:relative}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content{position:absolute;top:0;left:0;display:flex;width:100%;height:100%;overflow:hidden;opacity:0;content-visibility:auto}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content.tab-content--visible{opacity:1;pointer-events:auto}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content.tab-content--hidden{opacity:0;pointer-events:none}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content .controls-list_align{display:grid;grid-template-areas:". inner .";grid-template-columns:1fr auto 1fr;box-sizing:border-box;min-width:100%;padding-left:var(--gap-max)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content .controls-list_inner{display:grid;grid-area:inner;grid-auto-flow:column;grid-gap:calc((var(--gap-min) - 1px) * 3)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content .controls-list_inner:last-child{padding-right:var(--gap-max)}lr-editor-toolbar .controls-list_last-item{margin-right:var(--gap-max)}lr-editor-toolbar .filter-tooltip_container{position:absolute;display:flex;align-items:flex-start;justify-content:center;width:100%;height:100%}lr-editor-toolbar .filter-tooltip_wrapper{position:absolute;top:calc(-100% - var(--gap-mid-2));display:flex;flex-direction:column;justify-content:flex-end;height:100%;pointer-events:none}lr-editor-toolbar .filter-tooltip{z-index:3;padding-top:calc(var(--gap-min) / 2);padding-right:var(--gap-min);padding-bottom:calc(var(--gap-min) / 2);padding-left:var(--gap-min);color:var(--color-text-base);font-size:.7em;letter-spacing:1px;text-transform:uppercase;background-color:var(--color-text-accent-contrast);border-radius:var(--border-radius-editor);opacity:0;transition:var(--transition-duration-3)}lr-editor-toolbar .filter-tooltip_visible{transform:translateY(0);opacity:1}lr-editor-toolbar .filter-tooltip_hidden{transform:translateY(100%);opacity:0}lr-editor-toolbar .slider{padding-right:var(--l-slider-padding);padding-left:var(--l-slider-padding)}lr-btn-ui{--filter-effect: var(--idle-brightness);--opacity-effect: var(--idle-opacity);--color-effect: var(--idle-color-rgb);--l-transition-effect: var(--css-transition, color var(--transition-duration-2), filter var(--transition-duration-2));display:inline-flex;align-items:center;box-sizing:var(--css-box-sizing, border-box);height:var(--css-height, var(--size-touch-area));padding-right:var(--css-padding-right, var(--gap-mid-1));padding-left:var(--css-padding-left, var(--gap-mid-1));color:rgba(var(--color-effect),var(--opacity-effect));outline:none;cursor:pointer;filter:brightness(var(--filter-effect));transition:var(--l-transition-effect);-webkit-user-select:none;user-select:none}lr-btn-ui .text{white-space:nowrap}lr-btn-ui .icon{display:flex;align-items:center;justify-content:center;color:rgba(var(--color-effect),var(--opacity-effect));filter:brightness(var(--filter-effect));transition:var(--l-transition-effect)}lr-btn-ui .icon_left{margin-right:var(--gap-mid-1);margin-left:0}lr-btn-ui .icon_right{margin-right:0;margin-left:var(--gap-mid-1)}lr-btn-ui .icon_single{margin-right:0;margin-left:0}lr-btn-ui .icon_hidden{display:none;margin:0}lr-btn-ui.primary{--idle-color-rgb: var(--rgb-primary-accent);--idle-brightness: 1;--idle-opacity: .6;--hover-color-rgb: var(--idle-color-rgb);--hover-brightness: 1;--hover-opacity: 1;--down-color-rgb: var(--hover-color-rgb);--down-brightness: .75;--down-opacity: 1;--active-color-rgb: var(--rgb-primary-accent);--active-brightness: 1;--active-opacity: 1}lr-btn-ui.boring{--idle-color-rgb: var(--rgb-text-base);--idle-brightness: 1;--idle-opacity: .6;--hover-color-rgb: var(--rgb-text-base);--hover-brightness: 1;--hover-opacity: 1;--down-color-rgb: var(--hover-color-rgb);--down-brightness: 1;--down-opacity: 1;--active-color-rgb: var(--rgb-primary-accent);--active-brightness: 1;--active-opacity: 1}lr-btn-ui.default{--idle-color-rgb: var(--rgb-text-base);--idle-brightness: 1;--idle-opacity: .6;--hover-color-rgb: var(--rgb-primary-accent);--hover-brightness: 1;--hover-opacity: 1;--down-color-rgb: var(--hover-color-rgb);--down-brightness: .75;--down-opacity: 1;--active-color-rgb: var(--rgb-primary-accent);--active-brightness: 1;--active-opacity: 1}lr-line-loader-ui{position:absolute;top:0;left:0;z-index:9999;width:100%;height:2px;opacity:.5}lr-line-loader-ui .inner{width:25%;max-width:200px;height:100%}lr-line-loader-ui .line{width:100%;height:100%;background-color:var(--color-primary-accent);transform:translate(-101%);transition:transform 1s}lr-slider-ui{--l-thumb-size: 24px;--l-zero-dot-size: 5px;--l-zero-dot-offset: 2px;--idle-color-rgb: var(--rgb-text-base);--hover-color-rgb: var(--rgb-primary-accent);--down-color-rgb: var(--rgb-primary-accent);--color-effect: var(--idle-color-rgb);--l-color: rgb(var(--color-effect));position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:calc(var(--l-thumb-size) + (var(--l-zero-dot-size) + var(--l-zero-dot-offset)) * 2)}lr-slider-ui .thumb{position:absolute;left:0;width:var(--l-thumb-size);height:var(--l-thumb-size);background-color:var(--l-color);border-radius:50%;transform:translate(0);opacity:1;transition:opacity var(--transition-duration-2)}lr-slider-ui .steps{position:absolute;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;width:100%;height:100%;padding-right:calc(var(--l-thumb-size) / 2);padding-left:calc(var(--l-thumb-size) / 2)}lr-slider-ui .border-step{width:0px;height:10px;border-right:1px solid var(--l-color);opacity:.6;transition:var(--transition-duration-2)}lr-slider-ui .minor-step{width:0px;height:4px;border-right:1px solid var(--l-color);opacity:.2;transition:var(--transition-duration-2)}lr-slider-ui .zero-dot{position:absolute;top:calc(100% - var(--l-zero-dot-offset) * 2);left:calc(var(--l-thumb-size) / 2 - var(--l-zero-dot-size) / 2);width:var(--l-zero-dot-size);height:var(--l-zero-dot-size);background-color:var(--color-primary-accent);border-radius:50%;opacity:0;transition:var(--transition-duration-3)}lr-slider-ui .input{position:absolute;width:calc(100% - 10px);height:100%;margin:0;cursor:pointer;opacity:0}lr-presence-toggle.transition{transition:opacity var(--transition-duration-3),visibility var(--transition-duration-3)}lr-presence-toggle.visible{opacity:1;pointer-events:inherit}lr-presence-toggle.hidden{opacity:0;pointer-events:none}ctx-provider{--color-text-base: black;--color-primary-accent: blue;display:flex;align-items:center;justify-content:center;width:190px;height:40px;padding-right:10px;padding-left:10px;background-color:#f5f5f5;border-radius:3px}lr-cloud-image-editor{position:relative;display:flex;width:100%;height:var(--modal-content-height-fill, 100%);overflow:hidden}lr-select{display:inline-flex}lr-select>button{position:relative;display:inline-flex;align-items:center;padding-right:0;color:var(--clr-btn-txt-secondary);background-color:var(--clr-btn-bgr-secondary);box-shadow:var(--shadow-btn-secondary)}lr-select>button>select{position:absolute;display:block;width:100%;height:100%;opacity:0}.wrapper{display:flex;flex-direction:column;grid-gap:32px;padding:32px}.output{display:grid;grid-gap:8px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));width:100%;max-width:1000px}.uploader-cfg{--ctx-name: "uploader";--cfg-pubkey: "demopublickey";--cfg-multiple: 1;--cfg-confirm-upload: 1;--cfg-img-only: 0;--cfg-accept: "";--cfg-store: 1;--cfg-camera-mirror: 0;--cfg-source-list: "local, url, camera, dropbox, gdrive";--cfg-max-files: 10}\n'],encapsulation:3}),t})(),cA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Br({type:t,bootstrap:[lA]}),t.\u0275inj=$n({providers:[],imports:[[iT]]}),t})();(function zE(){nm=!1})(),nT().bootstrapModule(cA).catch(t=>console.error(t))}},Se=>{Se(Se.s=315)}]);