"use strict";var pM=Object.defineProperty,gM=Object.defineProperties,mM=Object.getOwnPropertyDescriptors,Z0=Object.getOwnPropertySymbols,vM=Object.prototype.hasOwnProperty,yM=Object.prototype.propertyIsEnumerable,vu=(Se,ye,Ee)=>ye in Se?pM(Se,ye,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):Se[ye]=Ee,E=(Se,ye)=>{for(var Ee in ye||(ye={}))vM.call(ye,Ee)&&vu(Se,Ee,ye[Ee]);if(Z0)for(var Ee of Z0(ye))yM.call(ye,Ee)&&vu(Se,Ee,ye[Ee]);return Se},F=(Se,ye)=>gM(Se,mM(ye)),_=(Se,ye,Ee)=>(vu(Se,"symbol"!=typeof ye?ye+"":ye,Ee),Ee);(self.webpackChunkangular_uploader=self.webpackChunkangular_uploader||[]).push([[179],{762:(Se,ye,Ee)=>{var Y0,$r={};function As(t){return"function"==typeof t}Ee.r($r),Ee.d($r,{ActivityBlock:()=>H,ActivityCaption:()=>kA,ActivityIcon:()=>FA,BaseComponent:()=>ys,Block:()=>ie,CameraSource:()=>uA,CloudEditor:()=>nu,CloudImageEditor:()=>CA,ConfirmationDialog:()=>aA,CropFrame:()=>qA,Data:()=>te,DataOutput:()=>SA,DropArea:()=>JI,EditorCropButtonControl:()=>su,EditorFilterControl:()=>au,EditorImageCropper:()=>KA,EditorImageFader:()=>nM,EditorOperationControl:()=>lu,EditorScroller:()=>iM,EditorSlider:()=>ZA,EditorToolbar:()=>W0,ExternalSource:()=>MA,FileItem:()=>$n,FilePreview:()=>P0,FileUploaderInline:()=>OA,FileUploaderMinimal:()=>LA,FileUploaderRegular:()=>PA,Icon:()=>E0,Img:()=>zI,LineLoaderUi:()=>aM,LrBtnUi:()=>cu,MessageBox:()=>rA,Modal:()=>sA,PresenceToggle:()=>lM,ProgressBar:()=>pA,ProgressBarCommon:()=>hA,Select:()=>NA,ShadowWrapper:()=>B0,SimpleBtn:()=>GI,SliderUi:()=>cM,SourceBtn:()=>k0,SourceList:()=>tA,StartFrom:()=>qI,Tabs:()=>ru,UploadCtxProvider:()=>dA,UploadDetails:()=>fA,UploadList:()=>lA,UploaderBlock:()=>ue,UrlSource:()=>cA,Video:()=>V0,connectBlocksFrom:()=>uM,registerBlocks:()=>uu});let Ms=!1;const mt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else Ms&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ms=t},get useDeprecatedSynchronousErrorHandling(){return Ms}};function Bn(t){setTimeout(()=>{throw t},0)}const Gi={closed:!0,next(t){},error(t){if(mt.useDeprecatedSynchronousErrorHandling)throw t;Bn(t)},complete(){}},X0=Array.isArray||(t=>t&&"number"==typeof t.length);function yu(t){return null!==t&&"object"==typeof t}const qi=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class de{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof de)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(As(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){e=s instanceof qi?bu(s.errors):[s]}}if(X0(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(yu(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof qi?e=e.concat(bu(c.errors)):e.push(c)}}}if(e)throw new qi(e)}add(e){let n=e;if(!e)return de.EMPTY;switch(typeof e){case"function":n=new de(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof de)){const o=n;n=new de,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof de){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function bu(t){return t.reduce((e,n)=>e.concat(n instanceof qi?n.errors:n),[])}de.EMPTY=((t=new de).closed=!0,t);const Wi="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class We extends de{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Gi;break;case 1:if(!e){this.destination=Gi;break}if("object"==typeof e){e instanceof We?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new _u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new _u(this,e,n,r)}}[Wi](){return this}static create(e,n,r){const i=new We(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class _u extends We{constructor(e,n,r,i){super(),this._parentSubscriber=e;let o,s=this;As(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Gi&&(s=Object.create(n),As(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;mt.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=mt;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):Bn(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Bn(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);mt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),mt.useDeprecatedSynchronousErrorHandling)throw r;Bn(r)}}__tryOrSetError(e,n,r){if(!mt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return mt.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Bn(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const Vr="function"==typeof Symbol&&Symbol.observable||"@@observable";function wu(t){return t}let Be=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function K0(t,e,n){if(t){if(t instanceof We)return t;if(t[Wi])return t[Wi]()}return t||e||n?new We(t,e,n):new We(Gi)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||mt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),mt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){mt.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function Q0(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof We?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=Cu(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[Vr](){return this}pipe(...n){return 0===n.length?this:function Du(t){return 0===t.length?wu:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Cu(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Cu(t){if(t||(t=mt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Br=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class J0 extends de{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class Eu extends We{constructor(e){super(e),this.destination=e}}let Ss=(()=>{class t extends Be{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Wi](){return new Eu(this)}lift(n){const r=new xu(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Br;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new Br;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new Br;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Br;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Br;return this.hasError?(n.error(this.thrownError),de.EMPTY):this.isStopped?(n.complete(),de.EMPTY):(this.observers.push(n),new J0(this,n))}asObservable(){const n=new Be;return n.source=this,n}}return t.create=(e,n)=>new xu(e,n),t})();class xu extends Ss{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):de.EMPTY}}class n1{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new r1(e,this.project,this.thisArg))}}class r1 extends We{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const Tu=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},Yi=function o1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Iu=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Au(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const Mu=t=>{if(t&&"function"==typeof t[Vr])return(t=>e=>{const n=t[Vr]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(Iu(t))return Tu(t);if(Au(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bn),e))(t);if(t&&"function"==typeof t[Yi])return(t=>e=>{const n=t[Yi]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${yu(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function Su(t,e){return new Be(n=>{const r=new de;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}class g1 extends We{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class m1 extends We{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function ku(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(ku((i,o)=>function p1(t,e){return e?function h1(t,e){if(null!=t){if(function d1(t){return t&&"function"==typeof t[Vr]}(t))return function l1(t,e){return new Be(n=>{const r=new de;return r.add(e.schedule(()=>{const i=t[Vr]();r.add(i.subscribe({next(o){r.add(e.schedule(()=>n.next(o)))},error(o){r.add(e.schedule(()=>n.error(o)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Au(t))return function c1(t,e){return new Be(n=>{const r=new de;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(Iu(t))return Su(t,e);if(function f1(t){return t&&"function"==typeof t[Yi]}(t)||"string"==typeof t)return function u1(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{const r=new de;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[Yi](),r.add(e.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Be?t:new Be(Mu(t))}(t(i,o)).pipe(function t1(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new n1(t,e))}}((s,a)=>e(i,s,o,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new y1(t,n)))}class y1{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new b1(e,this.project,this.concurrent))}}class b1 extends m1{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new g1(this),r=this.destination;r.add(n);const i=function v1(t,e){if(e.closed)return;if(t instanceof Be)return t.subscribe(e);let n;try{n=Mu(t)(e)}catch(r){e.error(r)}return n}(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Fu(){return function(e){return e.lift(new C1(e))}}class C1{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new E1(e,r),o=n.subscribe(i);return i.closed||(i.connection=r.connect()),o}}class E1 extends We{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class x1 extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new de,e.add(this.source.subscribe(new I1(this.getSubject(),this))),e.closed&&(this._connection=null,e=de.EMPTY)),e}refCount(){return Fu()(this)}}const T1=(()=>{const t=x1.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class I1 extends Eu{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}class S1{constructor(e,n){this.subjectFactory=e,this.selector=n}call(e,n){const{selector:r}=this,i=this.subjectFactory(),o=r(i).subscribe(e);return o.add(n.subscribe(i)),o}}function k1(){return new Ss}function Y(t){for(let e in t)if(t[e]===Y)return e;throw Error("Could not find renamed property on target object.")}function G(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(G).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Fs(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const N1=Y({__forward_ref__:Y});function Ns(t){return t.__forward_ref__=Ns,t.toString=function(){return G(this())},t}function R(t){return function Nu(t){return"function"==typeof t&&t.hasOwnProperty(N1)&&t.__forward_ref__===Ns}(t)?t():t}class j extends Error{constructor(e,n){super(function Rs(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function M(t){return"string"==typeof t?t:null==t?"":String(t)}function xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():M(t)}function Zi(t,e){const n=e?` in ${e}`:"";throw new j(-201,`No provider for ${xe(t)} found${n}`)}function Ze(t,e){null==t&&function Z(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ps(t){return Ru(t,Xi)||Ru(t,Lu)}function Ru(t,e){return t.hasOwnProperty(e)?t[e]:null}function Pu(t){return t&&(t.hasOwnProperty(Ls)||t.hasOwnProperty(B1))?t[Ls]:null}const Xi=Y({\u0275prov:Y}),Ls=Y({\u0275inj:Y}),Lu=Y({ngInjectableDef:Y}),B1=Y({ngInjectorDef:Y});var N=(()=>((N=N||{})[N.Default=0]="Default",N[N.Host=1]="Host",N[N.Self=2]="Self",N[N.SkipSelf=4]="SkipSelf",N[N.Optional=8]="Optional",N))();let Os;function ln(t){const e=Os;return Os=t,e}function Ou(t,e,n){const r=Ps(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&N.Optional?null:void 0!==e?e:void Zi(G(t),"Injector")}function cn(t){return{toString:t}.toString()}var vt=(()=>((vt=vt||{})[vt.OnPush=0]="OnPush",vt[vt.Default=1]="Default",vt))(),Nt=(()=>(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(Nt||(Nt={})),Nt))();const U1="undefined"!=typeof globalThis&&globalThis,j1="undefined"!=typeof window&&window,z1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,W=U1||"undefined"!=typeof global&&global||j1||z1,Un={},X=[],Qi=Y({\u0275cmp:Y}),$s=Y({\u0275dir:Y}),Vs=Y({\u0275pipe:Y}),$u=Y({\u0275mod:Y}),Zt=Y({\u0275fac:Y}),Hr=Y({__NG_ELEMENT_ID__:Y});let G1=0;function Bs(t){return cn(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||X,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Nt.Emulated,id:"c",styles:t.styles||X,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,o=t.features,s=t.pipes;return r.id+=G1++,r.inputs=Uu(t.inputs,n),r.outputs=Uu(t.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(Vu):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Bu):null,r})}function Vu(t){return Te(t)||function un(t){return t[$s]||null}(t)}function Bu(t){return function An(t){return t[Vs]||null}(t)}const Hu={};function Ur(t){return cn(()=>{const e={type:t.type,bootstrap:t.bootstrap||X,declarations:t.declarations||X,imports:t.imports||X,exports:t.exports||X,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Hu[t.id]=t.type),e})}function Uu(t,e){if(null==t)return Un;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const nt=Bs;function Te(t){return t[Qi]||null}function rt(t,e){const n=t[$u]||null;if(!n&&!0===e)throw new Error(`Type ${G(t)} does not have '\u0275mod' property.`);return n}const P=11,J=20;function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function bt(t){return Array.isArray(t)&&!0===t[1]}function js(t){return 0!=(8&t.flags)}function to(t){return 2==(2&t.flags)}function no(t){return 1==(1&t.flags)}function _t(t){return null!==t.template}function Q1(t){return 0!=(512&t[2])}function Fn(t,e){return t.hasOwnProperty(Zt)?t[Zt]:null}class ev{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function zu(t){return t.type.prototype.ngOnChanges&&(t.setInput=nv),tv}function tv(){const t=qu(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Un)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nv(t,e,n,r){const i=qu(t)||function rv(t,e){return t[Gu]=e}(t,{previous:Un,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new ev(l&&l.currentValue,e,s===Un),t[r]=e}const Gu="__ngSimpleChanges__";function qu(t){return t[Gu]||null}let Ys;function ae(t){return!!t.listen}const Wu={createRenderer:(t,e)=>function Zs(){return void 0!==Ys?Ys:"undefined"!=typeof document?document:void 0}()};function pe(t){for(;Array.isArray(t);)t=t[0];return t}function st(t,e){return pe(e[t.index])}function Xs(t,e){return t.data[e]}function Qe(t,e){const n=e[t];return Rt(n)?n:n[0]}function Qs(t){return 128==(128&t[2])}function dn(t,e){return null==e?null:t[e]}function Zu(t){t[18]=0}function Ks(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const S={lFrame:id(null),bindingsEnabled:!0};function Qu(){return S.bindingsEnabled}function y(){return S.lFrame.lView}function U(){return S.lFrame.tView}function be(){let t=Ku();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ku(){return S.lFrame.currentTNode}function Pt(t,e){const n=S.lFrame;n.currentTNode=t,n.isParent=e}function Js(){return S.lFrame.isParent}function Yn(){return S.lFrame.bindingIndex++}function wv(t,e){const n=S.lFrame;n.bindingIndex=n.bindingRootIndex=t,ta(e)}function ta(t){S.lFrame.currentDirectiveIndex=t}function ra(t){S.lFrame.currentQueryIndex=t}function Cv(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function nd(t,e,n){if(n&N.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&N.Host||(i=Cv(o),null===i||(o=o[15],10&i.type))););if(null===i)return!1;e=i,t=o}const r=S.lFrame=rd();return r.currentTNode=e,r.lView=t,!0}function so(t){const e=rd(),n=t[1];S.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function rd(){const t=S.lFrame,e=null===t?null:t.child;return null===e?id(t):e}function id(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function od(){const t=S.lFrame;return S.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sd=od;function ao(){const t=od();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Fe(){return S.lFrame.selectedIndex}function fn(t){S.lFrame.selectedIndex=t}function le(){const t=S.lFrame;return Xs(t.tView,t.selectedIndex)}function lo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks||(t.contentHooks=[])).push(-n,s),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function co(t,e,n){ad(t,e,3,n)}function uo(t,e,n,r){(3&t[2])===n&&ad(t,e,n,r)}function ia(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ad(t,e,n,r){const o=null!=r?r:-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<o||-1==o)&&(Fv(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function Fv(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Wr{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function fo(t,e,n){const r=ae(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];sa(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ld(t){return 3===t||4===t||6===t}function sa(t){return 64===t.charCodeAt(0)}function ho(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||cd(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function cd(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ud(t){return-1!==t}function Zn(t){return 32767&t}function Xn(t,e){let n=function Ov(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let aa=!0;function po(t){const e=aa;return aa=t,e}let $v=0;function Zr(t,e){const n=ca(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,la(r.data,t),la(e,null),la(r.blueprint,null));const i=go(t,e),o=t.injectorIndex;if(ud(i)){const s=Zn(i),a=Xn(i,e),l=a[1].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function la(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ca(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function go(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const o=i[1],s=o.type;if(r=2===s?o.declTNode:1===s?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function mo(t,e,n){!function Vv(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hr)&&(r=n[Hr]),null==r&&(r=n[Hr]=$v++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function hd(t,e,n){if(n&N.Optional)return t;Zi(e,"NodeInjector")}function pd(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=ln(void 0);try{return i?i.get(e,r,n&N.Optional):Ou(e,r,n&N.Optional)}finally{ln(o)}}return hd(r,e,n)}function gd(t,e,n,r=N.Default,i){if(null!==t){const o=function jv(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hr)?t[Hr]:void 0;return"number"==typeof e?e>=0?255&e:Hv:e}(n);if("function"==typeof o){if(!nd(e,t,r))return r&N.Host?hd(i,n,r):pd(e,n,r,i);try{const s=o(r);if(null!=s||r&N.Optional)return s;Zi(n)}finally{sd()}}else if("number"==typeof o){let s=null,a=ca(t,e),l=-1,c=r&N.Host?e[16][6]:null;for((-1===a||r&N.SkipSelf)&&(l=-1===a?go(t,e):e[a+8],-1!==l&&yd(r,!1)?(s=e[1],a=Zn(l),e=Xn(l,e)):a=-1);-1!==a;){const u=e[1];if(vd(o,a,u.data)){const d=Uv(a,e,n,s,r,c);if(d!==md)return d}l=e[a+8],-1!==l&&yd(r,e[1].data[a+8]===c)&&vd(o,a,e)?(s=u,a=Zn(l),e=Xn(l,e)):a=-1}}}return pd(e,n,r,i)}const md={};function Hv(){return new Qn(be(),y())}function Uv(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function vo(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&_t(h)&&h.type===n)return l}return null}(a,s,n,null==r?to(a)&&aa:r!=s&&0!=(3&a.type),i&N.Host&&o===a);return null!==u?Xr(e,s,u,a):md}function Xr(t,e,n,r){let i=t[n];const o=e.data;if(function Nv(t){return t instanceof Wr}(i)){const s=i;s.resolving&&function R1(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,`Circular dependency in DI detected for ${t}${n}`)}(xe(o[n]));const a=po(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?ln(s.injectImpl):null;nd(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function kv(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=zu(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&ln(l),po(a),s.resolving=!1,sd()}}return i}function vd(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function yd(t,e){return!(t&N.Self||t&N.Host&&e)}class Qn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gd(this._tNode,this._lView,e,r,n)}}const Jn="__parameters__";function tr(t,e,n){return cn(()=>{const r=function fa(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Jn)?l[Jn]:Object.defineProperty(l,Jn,{value:[]})[Jn];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class q{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Lt(t,e){t.forEach(n=>Array.isArray(n)?Lt(n,e):e(n))}function _d(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yo(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const ei={},ma="__NG_DI_FLAG__",_o="ngTempTokenPath",ty=/\n/gm,xd="__source",ry=Y({provide:String,useValue:Y});let ti;function Td(t){const e=ti;return ti=t,e}function iy(t,e=N.Default){if(void 0===ti)throw new j(203,"");return null===ti?Ou(t,void 0,e):ti.get(t,e&N.Optional?null:void 0,e)}function Q(t,e=N.Default){return(function H1(){return Os}()||iy)(R(t),e)}const oy=Q;function va(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new j(900,"");let i,o=N.Default;for(let s=0;s<r.length;s++){const a=r[s],l=sy(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(Q(i,o))}else e.push(Q(r))}return e}function ni(t,e){return t[ma]=e,t.prototype[ma]=e,t}function sy(t){return t[ma]}const wo=ni(tr("Optional"),8),Do=ni(tr("SkipSelf"),4);class Pd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Ay=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,My=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ge=(()=>((ge=ge||{})[ge.NONE=0]="NONE",ge[ge.HTML=1]="HTML",ge[ge.STYLE=2]="STYLE",ge[ge.SCRIPT=3]="SCRIPT",ge[ge.URL=4]="URL",ge[ge.RESOURCE_URL=5]="RESOURCE_URL",ge))();function Ta(t){const e=function si(){const t=y();return t&&t[12]}();return e?e.sanitize(ge.URL,t)||"":function ii(t,e){const n=function Ey(t){return t instanceof Pd&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?function pn(t){return t instanceof Pd?t.changingThisBreaksApplicationSecurity:t}(t):function To(t){return(t=String(t)).match(Ay)||t.match(My)?t:"unsafe:"+t}(M(t))}const Gd="__ngContext__";function Ae(t,e){t[Gd]=e}function Aa(t){const e=function ai(t){return t[Gd]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Sa(t){return t.ngOriginalError}function Ky(t,...e){t.error(...e)}class li{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function Qy(t){return t&&t.ngErrorLogger||Ky}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sa(e);for(;n&&Sa(n);)n=Sa(n);return n||null}}const lb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W))();function $t(t){return t instanceof Function?t():t}var Je=(()=>((Je=Je||{})[Je.Important=1]="Important",Je[Je.DashCase=2]="DashCase",Je))();function Fa(t,e){return undefined(t,e)}function ci(t){const e=t[3];return bt(e)?e[3]:e}function Na(t){return ef(t[13])}function Ra(t){return ef(t[4])}function ef(t){for(;null!==t&&!bt(t);)t=t[4];return t}function sr(t,e,n,r,i){if(null!=r){let o,s=!1;bt(r)?o=r:Rt(r)&&(s=!0,r=r[0]);const a=pe(r);0===t&&null!==n?null==i?af(e,n,a):Nn(e,n,a,i||null,!0):1===t&&null!==n?Nn(e,n,a,i||null,!0):2===t?function pf(t,e,n){const r=Ao(t,e);r&&function Db(t,e,n,r){ae(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function xb(t,e,n,r,i){const o=n[7];o!==pe(n)&&sr(e,t,r,o,i);for(let a=10;a<n.length;a++){const l=n[a];ui(l[1],l,t,e,r,o)}}(e,t,o,n,i)}}function La(t,e,n){if(ae(t))return t.createElement(e,n);{const r=null!==n?function av(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function nf(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ks(i,-1)),n.splice(r,1)}function Oa(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&nf(i,r),e>0&&(t[n-1][4]=r[4]);const o=yo(t,10+e);!function pb(t,e){ui(t,e,e[P],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function rf(t,e){if(!(256&e[2])){const n=e[P];ae(n)&&n.destroyNode&&ui(t,e,n,3,null,null),function vb(t){let e=t[13];if(!e)return $a(t[1],t);for(;e;){let n=null;if(Rt(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Rt(e)&&$a(e[1],e),e=e[3];null===e&&(e=t),Rt(e)&&$a(e[1],e),n=e&&e[4]}e=n}}(e)}}function $a(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function wb(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Wr)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(i)}finally{}}}}(t,e),function _b(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+1],a="function"==typeof s?s(e):pe(e[s]),l=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)r[o]();e[7]=null}}(t,e),1===e[1].type&&ae(e[P])&&e[P].destroy();const n=e[17];if(null!==n&&bt(e[3])){n!==e[3]&&nf(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function of(t,e,n){return function sf(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Nt.None||i===Nt.Emulated)return null}return st(r,n)}(t,e.parent,n)}function Nn(t,e,n,r,i){ae(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function af(t,e,n){ae(t)?t.appendChild(e,n):e.appendChild(n)}function lf(t,e,n,r,i){null!==r?Nn(t,e,n,r,i):af(t,e,n)}function Ao(t,e){return ae(t)?t.parentNode(e):e.parentNode}let df=function uf(t,e,n){return 40&t.type?st(t,n):null};function Mo(t,e,n,r){const i=of(t,r,e),o=e[P],a=function cf(t,e,n){return df(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)lf(o,i,n[l],a,!1);else lf(o,i,n,a,!1)}function So(t,e){if(null!==e){const n=e.type;if(3&n)return st(e,t);if(4&n)return Ba(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return So(t,r);{const i=t[e.index];return bt(i)?Ba(-1,i):pe(i)}}if(32&n)return Fa(e,t)()||pe(t[e.index]);{const r=hf(t,e);return null!==r?Array.isArray(r)?r[0]:So(ci(t[16]),r):So(t,e.next)}}return null}function hf(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ba(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return So(r,i)}return e[7]}function Ha(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&Ae(pe(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Ha(t,e,n.child,r,i,o,!1),sr(e,t,i,a,o);else if(32&l){const c=Fa(n,r);let u;for(;u=c();)sr(e,t,i,u,o);sr(e,t,i,a,o)}else 16&l?gf(t,e,r,n,i,o):sr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ui(t,e,n,r,i,o){Ha(n,r,t.firstChild,e,i,o,!1)}function gf(t,e,n,r,i,o){const s=n[16],l=s[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)sr(e,t,i,l[c],o);else Ha(t,e,l,s[3],i,o,!0)}function mf(t,e,n){ae(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ua(t,e,n){ae(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function vf(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}const yf="ng-template";function Ib(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==vf(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function bf(t){return 4===t.type&&t.value!==yf}function Ab(t,e,n){return e===(4!==t.type||n?t.value:yf)}function Mb(t,e,n){let r=4;const i=t.attrs||[],o=function Fb(t){for(let e=0;e<t.length;e++)if(ld(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Ab(t,l,n)||""===l&&1===e.length){if(wt(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Ib(t.attrs,c,n)){if(wt(r))return!1;s=!0}continue}const d=Sb(8&r?"class":l,i,bf(t),n);if(-1===d){if(wt(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==vf(h,c,0)||2&r&&c!==f){if(wt(r))return!1;s=!0}}}}else{if(!s&&!wt(r)&&!wt(l))return!1;if(s&&wt(l))continue;s=!1,r=l|1&r}}return wt(r)||s}function wt(t){return 0==(1&t)}function Sb(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function Nb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function _f(t,e,n=!1){for(let r=0;r<e.length;r++)if(Mb(t,e[r],n))return!0;return!1}function wf(t,e){return t?":not("+e.trim()+")":e}function Pb(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!wt(s)&&(e+=wf(o,i),i=""),r=s,o=o||!wt(r);n++}return""!==i&&(e+=wf(o,i)),e}const k={};function Cf(t,e,n,r){if(!r)if(3==(3&e[2])){const o=t.preOrderCheckHooks;null!==o&&co(e,o,n)}else{const o=t.preOrderHooks;null!==o&&uo(e,o,0,n)}fn(n)}function Rf(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const s=t.data[o];ra(i),s.contentQueries(2,e[o],o)}}}function di(t,e,n,r,i,o,s,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Zu(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[P]=a||t&&t[P],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function ar(t,e,n,r,i){let o=t.data[e];if(null===o)o=function el(t,e,n,r,i){const o=Ku(),s=Js(),l=t.data[e]=function Jb(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(t,e,n,r,i),function _v(){return S.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function qr(){const t=S.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pt(o,!0),o}function lr(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fi(t,e,n){so(e);try{const r=t.viewQuery;null!==r&&cl(1,r,n);const i=t.template;null!==i&&Pf(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rf(t,e),t.staticViewQueries&&cl(2,t.viewQuery,n);const o=t.components;null!==o&&function Xb(t,e){for(let n=0;n<e.length;n++)v_(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,ao()}}function cr(t,e,n,r){const i=e[2];if(256!=(256&i)){so(e);try{Zu(e),function Ju(t){return S.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Pf(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&co(e,c,null)}else{const c=t.preOrderHooks;null!==c&&uo(e,c,0,null),ia(e,0)}if(function g_(t){for(let e=Na(t);null!==e;e=Ra(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],o=i[3];0==(1024&i[2])&&Ks(o,1),i[2]|=1024}}}(e),function p_(t){for(let e=Na(t);null!==e;e=Ra(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Qs(r)&&cr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Rf(t,e),s){const c=t.contentCheckHooks;null!==c&&co(e,c)}else{const c=t.contentHooks;null!==c&&uo(e,c,1),ia(e,1)}!function Yb(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)fn(~i);else{const o=i,s=n[++r],a=n[++r];wv(s,o),a(2,e[o])}}}finally{fn(-1)}}(t,e);const a=t.components;null!==a&&function Zb(t,e){for(let n=0;n<e.length;n++)m_(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&cl(2,l,r),s){const c=t.viewCheckHooks;null!==c&&co(e,c)}else{const c=t.viewHooks;null!==c&&uo(e,c,2),ia(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Ks(e[3],-1))}finally{ao()}}}function Qb(t,e,n,r){const i=e[10],s=function Yu(t){return 4==(4&t[2])}(e);try{!s&&i.begin&&i.begin(),s&&fi(t,e,r),cr(t,e,n,r)}finally{!s&&i.end&&i.end()}}function Pf(t,e,n,r,i){const o=Fe(),s=2&r;try{fn(-1),s&&e.length>J&&Cf(t,e,J,!1),n(r,i)}finally{fn(o)}}function tl(t,e,n){!Qu()||(function s_(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Zr(n,e),Ae(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=_t(l);c&&d_(e,n,l);const u=Xr(e,t,a,n);Ae(u,e),null!==s&&f_(0,a-i,u,l,0,s),c&&(Qe(n.index,e)[8]=u)}}(t,e,n,st(n,e)),128==(128&n.flags)&&function a_(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,a=function Dv(){return S.lFrame.currentDirectiveIndex}();try{fn(s);for(let l=r;l<i;l++){const c=t.data[l],u=e[l];ta(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&zf(c,u)}}finally{fn(-1),ta(a)}}(t,e,n))}function nl(t,e,n=st){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Of(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ro(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ro(t,e,n,r,i,o,s,a,l,c){const u=J+r,d=u+i,f=function Kb(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:k);return n}(u,d),h="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:h,incompleteFirstPass:!1}}function Hf(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function et(t,e,n,r,i,o,s,a){const l=st(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(eh(t,n,u,r,i),to(e)&&function n_(t,e){const n=Qe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function t_(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,ae(o)?o.setProperty(l,r,i):sa(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function rl(t,e,n,r){let i=!1;if(Qu()){const o=function l_(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];_f(n,s.selectors,!1)&&(i||(i=[]),mo(Zr(n,e),t,s.type),_t(s)?(Gf(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,qf(n,t.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=lr(t,e,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];n.mergedAttrs=ho(n.mergedAttrs,d.hostAttrs),Wf(t,n,e,c,d),u_(c,d,s),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const f=d.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),c++}!function e_(t,e){const r=e.directiveEnd,i=t.data,o=e.attrs,s=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,f=null===o||bf(e)?null:h_(d,o);s.push(f),a=Hf(d,c,a),l=Hf(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=a,e.outputs=l}(t,n)}s&&function c_(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new j(-301,!1);r.push(e[i],o)}}}(n,r,s)}return n.mergedAttrs=ho(n.mergedAttrs,n.attrs),i}function jf(t,e,n,r,i,o){const s=o.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function o_(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,s)}}function zf(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Gf(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function u_(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_t(e)&&(n[""]=t)}}function qf(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wf(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=Fn(i.type)),s=new Wr(o,_t(i),null);t.blueprint[r]=s,n[r]=s,jf(t,e,0,r,lr(t,n,i.hostVars,k),i)}function d_(t,e,n){const r=st(e,t),i=Of(n),o=t[10],s=Po(t,di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function f_(t,e,n,r,i,o){const s=o[e];if(null!==s){const a=r.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function h_(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Yf(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function m_(t,e){const n=Qe(e,t);if(Qs(n)){const r=n[1];80&n[2]?cr(r,n,r.template,n[8]):n[5]>0&&ol(n)}}function ol(t){for(let r=Na(t);null!==r;r=Ra(r))for(let i=10;i<r.length;i++){const o=r[i];if(1024&o[2]){const s=o[1];cr(s,o,s.template,o[8])}else o[5]>0&&ol(o)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Qe(n[r],t);Qs(i)&&i[5]>0&&ol(i)}}function v_(t,e){const n=Qe(e,t),r=n[1];(function y_(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),fi(r,n,n[8])}function Po(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function sl(t){for(;t;){t[2]|=64;const e=ci(t);if(Q1(t)&&!e)return t;t=e}return null}function Zf(t){!function al(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Aa(n),i=r[1];Qb(i,r,i.template,n)}}(t[8])}function cl(t,e,n){ra(0),e(t,n)}const __=(()=>Promise.resolve(null))();function Xf(t){return t[7]||(t[7]=[])}function Qf(t){return t.cleanup||(t.cleanup=[])}function Jf(t,e){const n=t[9],r=n?n.get(li,null):null;r&&r.handleError(e)}function eh(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],c=t.data[s];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Lo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=Fs(i,a):2==o&&(r=Fs(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ul=new q("INJECTOR",-1);class th{get(e,n=ei){if(n===ei){const r=new Error(`NullInjectorError: No provider for ${G(e)}!`);throw r.name="NullInjectorError",r}return n}}const dl=new q("Set Injector scope."),hi={},C_={};let fl;function nh(){return void 0===fl&&(fl=new th),fl}function rh(t,e=null,n=null,r){const i=ih(t,e,n,r);return i._resolveInjectorDefTypes(),i}function ih(t,e=null,n=null,r){return new E_(t,n,e||nh(),r)}class E_{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];n&&Lt(n,a=>this.processProvider(a,e,n)),Lt([e],a=>this.processInjectorType(a,[],o)),this.records.set(ul,ur(void 0,this));const s=this.records.get(dl);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof e?null:G(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=ei,r=N.Default){this.assertNotDestroyed();const i=Td(this),o=ln(void 0);try{if(!(r&N.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function F_(t){return"function"==typeof t||"object"==typeof t&&t instanceof q}(e)&&Ps(e);a=l&&this.injectableDefInScope(l)?ur(hl(e),hi):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&N.Self?nh():this.parent).get(e,n=r&N.Optional&&n===ei?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[_o]=s[_o]||[]).unshift(G(e)),i)throw s;return function ay(t,e,n,r){const i=t[_o];throw e[xd]&&i.unshift(e[xd]),t.message=function ly(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=G(e);if(Array.isArray(e))i=e.map(G).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):G(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ty,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[_o]=null,t}(s,e,"R3InjectorError",this.source)}throw s}finally{ln(o),Td(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(G(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processInjectorType(e,n,r){if(!(e=R(e)))return!1;let i=Pu(e);const o=null==i&&e.ngModule||void 0,s=void 0===o?e:o,a=-1!==r.indexOf(s);if(void 0!==o&&(i=Pu(o)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(s);try{Lt(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:f,providers:h}=u[d];Lt(h,p=>this.processProvider(p,f,h||X))}}this.injectorDefTypes.add(s);const l=Fn(s)||(()=>new s);this.records.set(s,ur(l,hi));const c=i.providers;if(null!=c&&!a){const u=e;Lt(c,d=>this.processProvider(d,u,c))}return void 0!==o&&void 0!==e.providers}processProvider(e,n,r){let i=dr(e=R(e))?e:R(e&&e.provide);const o=function T_(t,e,n){return sh(t)?ur(void 0,t.useValue):ur(function oh(t,e,n){let r;if(dr(t)){const i=R(t);return Fn(i)||hl(i)}if(sh(t))r=()=>R(t.useValue);else if(function A_(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...va(t.deps||[]));else if(function I_(t){return!(!t||!t.useExisting)}(t))r=()=>Q(R(t.useExisting));else{const i=R(t&&(t.useClass||t.provide));if(!function S_(t){return!!t.deps}(t))return Fn(i)||hl(i);r=()=>new i(...va(t.deps))}return r}(t),hi)}(e);if(dr(e)||!0!==e.multi)this.records.get(i);else{let s=this.records.get(i);s||(s=ur(void 0,hi,!0),s.factory=()=>va(s.multi),this.records.set(i,s)),i=e,s.multi.push(e)}this.records.set(i,o)}hydrate(e,n){return n.value===hi&&(n.value=C_,n.value=n.factory()),"object"==typeof n.value&&n.value&&function k_(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=R(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function hl(t){const e=Ps(t),n=null!==e?e.factory:Fn(t);if(null!==n)return n;if(t instanceof q)throw new j(204,!1);if(t instanceof Function)return function x_(t){const e=t.length;if(e>0)throw function Jr(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new j(204,!1);const n=function $1(t){const e=t&&(t[Xi]||t[Lu]);if(e){const n=function V1(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new j(204,!1)}function ur(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function sh(t){return null!==t&&"object"==typeof t&&ry in t}function dr(t){return"function"==typeof t}let Bt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return rh({name:""},r,n,"");{const o=null!==(i=n.name)&&void 0!==i?i:"";return rh({name:o},n.parent,n.providers,o)}}}return t.THROW_IF_NOT_FOUND=ei,t.NULL=new th,t.\u0275prov=oe({token:t,providedIn:"any",factory:()=>Q(ul)}),t.__NG_ELEMENT_ID__=-1,t})();function B_(t,e){lo(Aa(t)[1],be())}let Oo=null;function fr(){if(!Oo){const t=W.Symbol;if(t&&t.iterator)Oo=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Oo=r)}}}return Oo}function pi(t){return!!function vl(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&fr()in t)}function Me(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function V(t,e=N.Default){const n=y();return null===n?Q(t,e):gd(be(),n,R(t),e)}function Dl(t,e,n){const r=y();return Me(r,Yn(),e)&&et(U(),le(),r,t,e,r[P],n,!1),Dl}function Cl(t,e,n,r,i){const s=i?"class":"style";eh(t,n,e.inputs[s],s,r)}function Cr(t,e,n,r){const i=y(),o=U(),s=J+t,a=i[P],l=i[s]=La(a,e,function Sv(){return S.lFrame.currentNamespace}()),c=o.firstCreatePass?function _w(t,e,n,r,i,o,s){const a=e.consts,c=ar(e,t,2,i,dn(a,o));return rl(e,n,c,dn(a,s)),null!==c.attrs&&Lo(c,c.attrs,!1),null!==c.mergedAttrs&&Lo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,n,r):o.data[s];Pt(c,!0);const u=c.mergedAttrs;null!==u&&fo(a,l,u);const d=c.classes;null!==d&&Ua(a,l,d);const f=c.styles;return null!==f&&mf(a,l,f),64!=(64&c.flags)&&Mo(o,i,l,c),0===function hv(){return S.lFrame.elementDepthCount}()&&Ae(l,i),function pv(){S.lFrame.elementDepthCount++}(),no(c)&&(tl(o,i,c),function Lf(t,e,n){if(js(e)){const i=e.directiveEnd;for(let o=e.directiveStart;o<i;o++){const s=t.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}(o,c,i)),null!==r&&nl(i,c),Cr}function mi(){let t=be();Js()?function ea(){S.lFrame.isParent=!1}():(t=t.parent,Pt(t,!1));const e=t;!function gv(){S.lFrame.elementDepthCount--}();const n=U();return n.firstCreatePass&&(lo(n,t),js(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function Pv(t){return 0!=(16&t.flags)}(e)&&Cl(n,e,y(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Lv(t){return 0!=(32&t.flags)}(e)&&Cl(n,e,y(),e.stylesWithoutHost,!1),mi}function Bo(t,e,n,r){return Cr(t,e,n,r),mi(),Bo}function Tl(t){return!!t&&"function"==typeof t.then}const Cw=function Uh(t){return!!t&&"function"==typeof t.subscribe};function Il(t,e,n,r){const i=y(),o=U(),s=be();return function zh(t,e,n,r,i,o,s,a){const l=no(r),u=t.firstCreatePass&&Qf(t),d=e[8],f=Xf(e);let h=!0;if(3&r.type||a){const v=st(r,e),b=a?a(v):v,g=f.length,w=a?I=>a(pe(I[r.index])):r.index;if(ae(n)){let I=null;if(!a&&l&&(I=function Ew(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[7],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,h=!1;else{o=Al(r,e,d,o,!1);const A=n.listen(b,i,o);f.push(o,A),u&&u.push(i,w,g,g+1)}}else o=Al(r,e,d,o,!0),b.addEventListener(i,o,s),f.push(o),u&&u.push(i,w,g,s)}else o=Al(r,e,d,o,!1);const p=r.outputs;let m;if(h&&null!==p&&(m=p[i])){const v=m.length;if(v)for(let b=0;b<v;b+=2){const ne=e[m[b]][m[b+1]].subscribe(o),z=f.length;f.push(o,ne),u&&u.push(i,r.index,z,-(z+1))}}}(o,i,i[P],s,t,e,!!n,r),Il}function Gh(t,e,n,r){try{return!1!==n(r)}catch(i){return Jf(t,i),!1}}function Al(t,e,n,r,i){return function o(s){if(s===Function)return r;const a=2&t.flags?Qe(t.index,e):e;0==(32&e[2])&&sl(a);let l=Gh(e,0,r,s),c=o.__ngNextListenerFn__;for(;c;)l=Gh(e,0,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Ho(t,e,n,r,i){const o=y(),s=function pr(t,e,n,r){return Me(t,Yn(),n)?e+M(n)+r:k}(o,e,n,r);return s!==k&&et(U(),le(),o,t,s,o[P],i,!1),Ho}const jo="en-US";let $p=jo;class cg{}class mC{resolveComponentFactory(e){throw function gC(t){const e=Error(`No component factory found for ${G(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Yo=(()=>{class t{}return t.NULL=new mC,t})();function vC(){return Ir(be(),y())}function Ir(t,e){return new Ar(st(t,e))}let Ar=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=vC,t})();class dg{}let wC=(()=>{class t{}return t.\u0275prov=oe({token:t,providedIn:"root",factory:()=>null}),t})();class Ol{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DC=new Ol("13.3.11"),$l={};function Zo(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(pe(o)),bt(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Zo(l[1],l,c,r)}const s=n.type;if(8&s)Zo(t,e,n.child,r);else if(32&s){const a=Fa(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=hf(e,n);if(Array.isArray(a))r.push(...a);else{const l=ci(e[16]);Zo(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Di{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Zo(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(bt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Oa(e,r),yo(n,r))}this._attachedToViewContainer=!1}rf(this._lView[1],this._lView)}onDestroy(e){!function Bf(t,e,n,r){const i=Xf(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Qf(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){sl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function ll(t,e,n){const r=e[10];r.begin&&r.begin();try{cr(t,e,t.template,n)}catch(i){throw Jf(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mb(t,e){ui(t,e,e[P],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,"");this._appRef=e}}class CC extends Di{constructor(e){super(e),this._view=e}detectChanges(){Zf(this._view)}checkNoChanges(){}get context(){return null}}class hg extends Yo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Te(e);return new Vl(n,this.ngModule)}}function pg(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Vl extends cg{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Lb(t){return t.map(Pb).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return pg(this.componentDef.inputs)}get outputs(){return pg(this.componentDef.outputs)}create(e,n,r,i){const o=(i=i||this.ngModule)?function xC(t,e){return{get:(n,r,i)=>{const o=t.get(n,$l,i);return o!==$l||r===$l?o:e.get(n,r,i)}}}(e,i.injector):e,s=o.get(dg,Wu),a=o.get(wC,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function Vf(t,e,n){if(ae(t))return t.selectRootElement(e,n===Nt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):La(s.createRenderer(null,this.componentDef),c,function EC(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,f=function vh(t,e){return{components:[],scheduler:t||lb,clean:__,playerHandler:e||null,flags:0}}(),h=Ro(0,null,null,1,0,null,null,null,null,null),p=di(null,h,f,d,null,null,s,l,a,o);let m,v;so(p);try{const b=function gh(t,e,n,r,i,o){const s=n[1];n[20]=t;const l=ar(s,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(Lo(l,c,!0),null!==t&&(fo(i,t,c),null!==l.classes&&Ua(i,t,l.classes),null!==l.styles&&mf(i,t,l.styles)));const u=r.createRenderer(t,e),d=di(n,Of(e),null,e.onPush?64:16,n[20],l,r,u,o||null,null);return s.firstCreatePass&&(mo(Zr(l,n),s,e.type),Gf(s,l),qf(l,n.length,1)),Po(n,d),n[20]=d}(u,this.componentDef,p,s,l);if(u)if(r)fo(l,u,["ng-version",DC.full]);else{const{attrs:g,classes:w}=function Ob(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!wt(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);g&&fo(l,u,g),w&&w.length>0&&Ua(l,u,w.join(" "))}if(v=Xs(h,J),void 0!==n){const g=v.projection=[];for(let w=0;w<this.ngContentSelectors.length;w++){const I=n[w];g.push(null!=I?Array.from(I):null)}}m=function mh(t,e,n,r,i){const o=n[1],s=function i_(t,e,n){const r=be();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wf(t,r,e,lr(t,e,1,null),n));const i=Xr(e,t,r.directiveStart,r);Ae(i,e);const o=st(r,e);return o&&Ae(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(l=>l(s,e)),e.contentQueries){const l=be();e.contentQueries(1,s,l.directiveStart)}const a=be();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fn(a.index),jf(n[1],a,0,a.directiveStart,a.directiveEnd,e),zf(e,s)),s}(b,this.componentDef,p,f,[B_]),fi(h,p,null)}finally{ao()}return new IC(this.componentType,m,Ir(v,p),p,v)}}class IC extends class pC{}{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new CC(i),this.componentType=e}get injector(){return new Qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Mr{}const Sr=new Map;class vg extends Mr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hg(this);const r=rt(e);this._bootstrapComponents=$t(r.bootstrap),this._r3Injector=ih(e,n,[{provide:Mr,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],G(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Bt.THROW_IF_NOT_FOUND,r=N.Default){return e===Bt||e===Mr||e===ul?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Bl extends class MC{}{constructor(e){super(),this.moduleType=e,null!==rt(e)&&function SC(t){const e=new Set;!function n(r){const i=rt(r,!0),o=i.id;null!==o&&(function gg(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${G(e)} vs ${G(e.name)}`)}(o,Sr.get(o),r),Sr.set(o,r));const s=$t(i.imports);for(const a of s)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new vg(this.moduleType,e)}}function Hl(t){return e=>{setTimeout(t,void 0,e)}}const en=class YC extends Ss{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,o,s;let a=e,l=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=Hl(l),a&&(a=Hl(a)),c&&(c=Hl(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof de&&e.add(u),u}};Symbol;let tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=KC,t})();const XC=tn,QC=class extends XC{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=di(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(n)),fi(n,r,e),new Di(r)}};function KC(){return function Xo(t,e){return 4&t.type?new QC(e,t,Ir(t,e)):null}(be(),y())}let zt=(()=>{class t{}return t.__NG_ELEMENT_ID__=JC,t})();function JC(){return function xg(t,e){let n;const r=e[t.index];if(bt(r))n=r;else{let i;if(8&t.type)i=pe(r);else{const o=e[P];i=o.createComment("");const s=st(t,e);Nn(o,Ao(o,s),i,function Cb(t,e){return ae(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=Yf(r,e,i,t),Po(e,n)}return new Cg(n,t,e)}(be(),y())}const eE=zt,Cg=class extends eE{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ir(this._hostTNode,this._hostLView)}get injector(){return new Qn(this._hostTNode,this._hostLView)}get parentInjector(){const e=go(this._hostTNode,this._hostLView);if(ud(e)){const n=Xn(e,this._hostLView),r=Zn(e);return new Qn(n[1].data[r+8],n)}return new Qn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Eg(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,o){const s=e&&!function Kr(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,o=d.ngModuleRef}const l=s?e:new Vl(Te(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?c:this.parentInjector).get(Mr,null);f&&(o=f)}const u=l.create(c,i,void 0,o);return this.insert(u.hostView,a),u}insert(e,n){const r=e._lView,i=r[1];if(function fv(t){return bt(t[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],f=new Cg(d,d[6],d[3]);f.detach(f.indexOf(e))}}const o=this._adjustIndex(n),s=this._lContainer;!function yb(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],_d(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function bb(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,s,o);const a=Ba(o,s),l=r[P],c=Ao(l,s[7]);return null!==c&&function gb(t,e,n,r,i,o){r[0]=i,r[6]=e,ui(t,r,n,1,i,o)}(i,s[6],l,r,c,a),e.attachToViewContainerRef(),_d(jl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Eg(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Oa(this._lContainer,n);r&&(yo(jl(this._lContainer),n),rf(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Oa(this._lContainer,n);return r&&null!=yo(jl(this._lContainer),n)?new Di(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function Eg(t){return t[8]}function jl(t){return t[8]||(t[8]=[])}function Jo(...t){}const Wg=new q("Application Initializer");let ec=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Jo,this.reject=Jo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Tl(o))n.push(o);else if(Cw(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Q(Wg,8))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ti=new q("AppId",{providedIn:"root",factory:function Yg(){return`${tc()}${tc()}${tc()}`}});function tc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zg=new q("Platform Initializer"),Xg=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SE=new q("appBootstrapListener"),vn=new q("LocaleId",{providedIn:"root",factory:()=>oy(vn,N.Optional|N.SkipSelf)||function kE(){return"undefined"!=typeof $localize&&$localize.locale||jo}()}),PE=(()=>Promise.resolve(0))();function nc(t){"undefined"==typeof Zone?PE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class je{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function LE(){let t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function VE(t){const e=()=>{!function $E(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ic(t),t.isCheckStableRunning=!0,rc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ic(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Qg(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Kg(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return Qg(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Kg(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,ic(t),rc(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!je.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(je.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,OE,Jo,Jo);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const OE={};function rc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ic(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Qg(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Kg(t){t._nesting--,rc(t)}class BE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let oc=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{je.assertNotInAngularZone(),nc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nc(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Q(je))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),HE=(()=>{class t{constructor(){this._applications=new Map,sc.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return sc.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class UE{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let sc=new UE,Ln=null;const Jg=new q("AllowMultipleToken"),em=new q("PlatformOnDestroy");function tm(t,e,n=[]){const r=`Platform: ${e}`,i=new q(r);return(o=[])=>{let s=ac();if(!s||s.injector.get(Jg,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function qE(t){if(Ln&&!Ln.get(Jg,!1))throw new j(400,"");Ln=t;const e=t.get(nm),n=t.get(Zg,null);n&&n.forEach(r=>r())}(function YE(t=[],e){return Bt.create({name:e,providers:[{provide:dl,useValue:"platform"},{provide:em,useValue:()=>Ln=null},...t]})}(a,r))}return function WE(t){const e=ac();if(!e)throw new j(401,"");return e}()}}function ac(){var t;return null!==(t=null==Ln?void 0:Ln.get(nm))&&void 0!==t?t:null}let nm=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function ZE(t,e){let n;return n="noop"===t?new BE:("zone.js"===t?void 0:t)||new je({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:je,useValue:a}];return a.run(()=>{const c=Bt.create({providers:l,parent:this.injector,name:n.moduleType.name}),u=n.create(c),d=u.injector.get(li,null);if(!d)throw new j(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:h=>{d.handleError(h)}});u.onDestroy(()=>{lc(this._modules,u),f.unsubscribe()})}),function XE(t,e,n){try{const r=n();return Tl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const f=u.injector.get(ec);return f.runInitializers(),f.donePromise.then(()=>(function yD(t){Ze(t,"Expected localeId to be defined"),"string"==typeof t&&($p=t.toLowerCase().replace(/_/g,"-"))}(u.injector.get(vn,jo)||jo),this._moduleDoBootstrap(u),u))})})}bootstrapModule(n,r=[]){const i=rm({},r);return function zE(t,e,n){const r=new Bl(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(im);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new j(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(em,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Q(Bt))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function rm(t,e){return Array.isArray(e)?e.reduce(rm,t):Object.assign(Object.assign({},t),e)}let im=(()=>{class t{constructor(n,r,i,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Be(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Be(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),nc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function D1(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return function e1(t){return t&&"function"==typeof t.schedule}(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Be?t[0]:function _1(t=Number.POSITIVE_INFINITY){return ku(wu,t)}(e)(function w1(t,e){return e?Su(t,e):new Be(Tu(t))}(t,n))}(s,a.pipe(function F1(){return t=>Fu()(function M1(t,e){return function(r){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new S1(i,e));const o=Object.create(r,T1);return o.source=r,o.subjectFactory=i,o}}(k1)(t))}()))}bootstrap(n,r){if(!this._initStatus.done)throw new j(405,"");let i;i=n instanceof cg?n:this._injector.get(Yo).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const o=function GE(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Mr),a=i.create(Bt.NULL,[],r||i.selector,o),l=a.location.nativeElement,c=a.injector.get(oc,null),u=c&&a.injector.get(HE);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),lc(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new j(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;lc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(SE,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(Q(je),Q(Bt),Q(li),Q(ec))},t.\u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function lc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let sm=!0;class dm{constructor(){}supports(e){return pi(e)}create(e){return new a2(e)}}const s2=(t,e)=>e;class a2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||s2}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<hm(r,i,o)?n:r,a=hm(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!pi(e))throw new j(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function X_(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[fr()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new l2(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new fm),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fm),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class l2{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class c2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class fm{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new c2,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hm(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function gm(){return new ns([new dm])}let ns=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||gm()),deps:[[t,new Do,new wo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new j(901,"")}}return t.\u0275prov=oe({token:t,providedIn:"root",factory:gm}),t})();const p2=tm(null,"core",[]);let g2=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Q(im))},t.\u0275mod=Ur({type:t}),t.\u0275inj=Hn({}),t})(),rs=null;function Ai(){return rs}const Gt=new q("DocumentToken");class ax{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Im=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ax(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Am(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Am(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(V(zt),V(tn),V(ns))},t.\u0275dir=nt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Am(t,e){t.context.$implicit=e.item}let Lx=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ur({type:t}),t.\u0275inj=Hn({}),t})();class Tc extends class Ux extends class y2{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function v2(t){rs||(rs=t)}(new Tc)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function jx(){return ki=ki||document.querySelector("base"),ki?ki.getAttribute("href"):null}();return null==n?null:function zx(t){hs=hs||document.createElement("a"),hs.setAttribute("href",t);const e=hs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ix(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let hs,ki=null;const Rm=new q("TRANSITION_ID"),qx=[{provide:Wg,useFactory:function Gx(t,e,n){return()=>{n.get(ec).donePromise.then(()=>{const r=Ai(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Rm,Gt,Bt],multi:!0}];class Ic{static init(){!function jE(t){sc=t}(new Ic)}addToWindow(e){W.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},W.getAllAngularTestabilities=()=>e.getAllTestabilities(),W.getAllAngularRootElements=()=>e.getAllRootElements(),W.frameworkStabilizers||(W.frameworkStabilizers=[]),W.frameworkStabilizers.push(r=>{const i=W.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Ai().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let Wx=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const ps=new q("EventManagerPlugins");let gs=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Q(ps),Q(je))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class Pm{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ai().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Lm=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})(),Fi=(()=>{class t extends Lm{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,i.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Om),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Om))}}return t.\u0275fac=function(n){return new(n||t)(Q(Gt))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();function Om(t){Ai().remove(t)}const Ac={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mc=/%COMP%/g;function ms(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ms(t,i,n):(i=i.replace(Mc,t),n.push(i))}return n}function Bm(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Sc=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new kc(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Nt.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Jx(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Nt.ShadowDom:return new eT(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ms(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Q(gs),Q(Fi),Q(Ti))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();class kc{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Ac[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=Ac[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Ac[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Je.DashCase|Je.Important)?e.style.setProperty(n,r,i&Je.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Je.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Bm(r)):this.eventManager.addEventListener(e,n,Bm(r))}}class Jx extends kc{constructor(e,n,r,i){super(e),this.component=r;const o=ms(i+"-"+r.id,r.styles,[]);n.addStyles(o),this.contentAttr=function Xx(t){return"_ngcontent-%COMP%".replace(Mc,t)}(i+"-"+r.id),this.hostAttr=function Qx(t){return"_nghost-%COMP%".replace(Mc,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class eT extends kc{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ms(i.id,i.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let tT=(()=>{class t extends Pm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Q(Gt))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const Um=["alt","control","meta","shift"],rT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},iT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let oT=(()=>{class t extends Pm{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ai().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="";if(Um.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const a={};return a.domEventName=i,a.fullKey=s,a}static getEventFullKey(n){let r="",i=function sT(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&jm.hasOwnProperty(e)&&(e=jm[e]))}return rT[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Um.forEach(o=>{o!=i&&iT[o](n)&&(r+=o+".")}),r+=i,r}static eventCallback(n,r,i){return o=>{t.getEventFullKey(o)===n&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Q(Gt))},t.\u0275prov=oe({token:t,factory:t.\u0275fac}),t})();const uT=tm(p2,"browser",[{provide:Xg,useValue:"browser"},{provide:Zg,useValue:function aT(){Tc.makeCurrent(),Ic.init()},multi:!0},{provide:Gt,useFactory:function cT(){return function lv(t){Ys=t}(document),document},deps:[]}]),dT=[{provide:dl,useValue:"root"},{provide:li,useFactory:function lT(){return new li},deps:[]},{provide:ps,useClass:tT,multi:!0,deps:[Gt,je,Xg]},{provide:ps,useClass:oT,multi:!0,deps:[Gt]},{provide:Sc,useClass:Sc,deps:[gs,Fi,Ti]},{provide:dg,useExisting:Sc},{provide:Lm,useExisting:Fi},{provide:Fi,useClass:Fi,deps:[Gt]},{provide:oc,useClass:oc,deps:[je]},{provide:gs,useClass:gs,deps:[ps,je]},{provide:class Hx{},useClass:Wx,deps:[]}];let fT=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ti,useValue:n.appId},{provide:Rm,useExisting:Ti},qx]}}}return t.\u0275fac=function(n){return new(n||t)(Q(t,12))},t.\u0275mod=Ur({type:t}),t.\u0275inj=Hn({providers:dT,imports:[Lx,g2]}),t})();function qm(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function Ge(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){qm(o,r,i,s,a,"next",l)}function a(l){qm(o,r,i,s,a,"throw",l)}s(void 0)})}}"undefined"!=typeof window&&window;var CT=Object.defineProperty,Nc=(t,e,n)=>(((t,e,n)=>{e in t?CT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n),te=class{constructor(t){t.constructor===Object?this.store=function xT(t){let e=n=>{var r;for(let i in n)(null==(r=n[i])?void 0:r.constructor)===Object&&(n[i]=e(n[i]));return E({},n)};return e(t)}(t):(this._storeIsProxy=!0,this.store=t),this.callbackMap=Object.create(null)}static warn(t,e){console.warn(`Symbiote Data: cannot ${t}. Prop name: `+e)}read(t){return this._storeIsProxy||this.store.hasOwnProperty(t)?this.store[t]:(te.warn("read",t),null)}has(t){return this._storeIsProxy?void 0!==this.store[t]:this.store.hasOwnProperty(t)}add(t,e,n=!1){!n&&Object.keys(this.store).includes(t)||(this.store[t]=e,this.notify(t))}pub(t,e){this._storeIsProxy||this.store.hasOwnProperty(t)?(this.store[t]=e,this.notify(t)):te.warn("publish",t)}multiPub(t){for(let e in t)this.pub(e,t[e])}notify(t){this.callbackMap[t]&&this.callbackMap[t].forEach(e=>{e(this.store[t])})}sub(t,e,n=!0){return this._storeIsProxy||this.store.hasOwnProperty(t)?(this.callbackMap[t]||(this.callbackMap[t]=new Set),this.callbackMap[t].add(e),n&&e(this.store[t]),{remove:()=>{this.callbackMap[t].delete(e),this.callbackMap[t].size||delete this.callbackMap[t]},callback:e}):(te.warn("subscribe",t),null)}static registerCtx(t,e=Symbol()){let n=te.globalStore.get(e);return n?console.warn('State: context UID "'+e+'" already in use'):(n=new te(t),te.globalStore.set(e,n)),n}static deleteCtx(t){te.globalStore.delete(t)}static getCtx(t,e=!0){return te.globalStore.get(t)||(e&&console.warn('State: wrong context UID - "'+t+'"'),null)}};te.globalStore=new Map;var O=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CTX_OWNER_ATTR:"ctx-owner",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym",REPEAT_ATTR:"repeat",REPEAT_ITEM_TAG_ATTR:"repeat-item-tag",SET_LATER_KEY:"__toSetLater__",USE_TPL:"use-template",ROOT_STYLE_ATTR_NAME:"sym-component"}),Wm="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",TT=Wm.length-1,Rc=class{static generate(t="XXXXXXXXX-XXX"){let e="";for(let n=0;n<t.length;n++)e+="-"===t[n]?t[n]:Wm.charAt(Math.random()*TT);return e}};function Ym(t,e,n){let i,r=!0,o=e.split(".");return o.forEach((s,a)=>{a<o.length-1?t=t[s]:i=s}),t?t[i]=n:r=!1,r}var Ni="}}",PT=[function AT(t,e){[...t.querySelectorAll(`[${O.REPEAT_ATTR}]`)].forEach(n=>{let i,r=n.getAttribute(O.REPEAT_ITEM_TAG_ATTR);for(r&&(i=window.customElements.get(r)),i||(i=class extends e.BaseComponent{constructor(){super(),r||(this.style.display="contents")}},i.template=n.innerHTML,i.reg(r));n.firstChild;)n.firstChild.remove();let o=n.getAttribute(O.REPEAT_ATTR);e.sub(o,s=>{if(!s){for(;n.firstChild;)n.firstChild.remove();return}let l,a=[...n.children],c=u=>{u.forEach((f,h)=>{if(a[h])if(a[h].set$)setTimeout(()=>{a[h].set$(f)});else for(let p in f)a[h][p]=f[p];else{l||(l=new DocumentFragment);let p=new i;Object.assign(p.init$,f),l.appendChild(p)}}),l&&n.appendChild(l);let d=a.slice(u.length,a.length);for(let f of d)f.remove()};if(s.constructor===Array)c(s);else if(s.constructor===Object){let u=[];for(let d in s){let f=s[d];Object.defineProperty(f,"_KEY_",{value:d,enumerable:!0}),u.push(f)}c(u)}else console.warn("Symbiote repeat data type error:"),console.log(s)}),n.removeAttribute(O.REPEAT_ATTR),n.removeAttribute(O.REPEAT_ITEM_TAG_ATTR)})},function MT(t,e){if(e.shadowRoot)return;let n=[...t.querySelectorAll("slot")];if(e.initChildren.length&&n.length){let r={};n.forEach(i=>{let o=i.getAttribute("name");o?r[o]={slot:i,fr:document.createDocumentFragment()}:r.__default__={slot:i,fr:document.createDocumentFragment()}}),e.initChildren.forEach(i=>{var o;let s=null==(o=i.getAttribute)?void 0:o.call(i,"slot");s?(i.removeAttribute("slot"),r[s].fr.appendChild(i)):r.__default__&&r.__default__.fr.appendChild(i)}),Object.values(r).forEach(i=>{i.slot.parentNode.insertBefore(i.fr,i.slot),i.slot.remove()})}},function ST(t,e){[...t.querySelectorAll(`[${O.EL_REF_ATTR}]`)].forEach(n=>{let r=n.getAttribute(O.EL_REF_ATTR);e.ref[r]=n,n.removeAttribute(O.EL_REF_ATTR)})},function kT(t,e){[...t.querySelectorAll(`[${O.BIND_ATTR}]`)].forEach(n=>{let i=n.getAttribute(O.BIND_ATTR).split(";");[...n.attributes].forEach(o=>{if(o.name.startsWith("-")&&o.value){let s=function IT(t){return t.split("-").map((e,n)=>e&&n?e[0].toUpperCase()+e.slice(1):e).join("").split("_").map((e,n)=>e&&n?e.toUpperCase():e).join("")}(o.name.replace("-",""));i.push(s+":"+o.value),n.removeAttribute(o.name)}}),i.forEach(o=>{if(!o)return;let l,s=o.split(":").map(u=>u.trim()),a=s[0];0===a.indexOf(O.ATTR_BIND_PRFX)&&(l=!0,a=a.replace(O.ATTR_BIND_PRFX,""));let c=s[1].split(",").map(u=>u.trim());for(let u of c){let d;u.startsWith("!!")?(d="double",u=u.replace("!!","")):u.startsWith("!")&&(d="single",u=u.replace("!","")),e.sub(u,f=>{"double"===d?f=!!f:"single"===d&&(f=!f),l?(null==f?void 0:f.constructor)===Boolean?f?n.setAttribute(a,""):n.removeAttribute(a):n.setAttribute(a,f):Ym(n,a,f)||(n[O.SET_LATER_KEY]||(n[O.SET_LATER_KEY]=Object.create(null)),n[O.SET_LATER_KEY][a]=f)})}}),n.removeAttribute(O.BIND_ATTR)})},function(t,e){(function NT(t){let e,n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_TEXT,{acceptNode:i=>{var o;return!(null==(o=i.parentElement)?void 0:o.hasAttribute("skip-text"))&&i.textContent.includes("{{")&&i.textContent.includes(Ni)&&1}});for(;e=r.nextNode();)n.push(e);return n})(t).forEach(r=>{let o,i=[];for(;r.textContent.includes(Ni);)r.textContent.startsWith("{{")?(o=r.textContent.indexOf(Ni)+Ni.length,r.splitText(o),i.push(r)):(o=r.textContent.indexOf("{{"),r.splitText(o)),r=r.nextSibling;i.forEach(s=>{let a=s.textContent.replace("{{","").replace(Ni,"");s.textContent="",e.sub(a,l=>{s.textContent=l})})})}],Zm=0,Fr=null,rn=null,bn=class extends HTMLElement{constructor(){super(),Nc(this,"updateCssData",()=>{var t;this.dropCssDataCache(),null==(t=this.__boundCssProps)||t.forEach(e=>{let n=this.getCssData(this.__extractCssName(e),!0);null!==n&&this.$[e]!==n&&(this.$[e]=n)})}),this.init$=Object.create(null),this.cssInit$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1,this.allowCustomTemplate=!1,this.ctxOwner=!1}get BaseComponent(){return bn}initCallback(){}__initCallback(){var t;this.__initialized||(this.__initialized=!0,null==(t=this.initCallback)||t.call(this))}render(t,e=this.renderShadow){let n;if((e||this.constructor.__shadowStylesUrl)&&!this.shadowRoot&&this.attachShadow({mode:"open"}),this.allowCustomTemplate){let i=this.getAttribute(O.USE_TPL);if(i){let o=this.getRootNode(),s=(null==o?void 0:o.querySelector(i))||document.querySelector(i);s?t=s.content.cloneNode(!0):console.warn(`Symbiote template "${i}" is not found...`)}}if(this.processInnerHtml)for(let i of this.tplProcessors)i(this,this);if(t||this.constructor.template){if(this.constructor.template&&!this.constructor.__tpl&&(this.constructor.__tpl=document.createElement("template"),this.constructor.__tpl.innerHTML=this.constructor.template),(null==t?void 0:t.constructor)===DocumentFragment)n=t;else if((null==t?void 0:t.constructor)===String){let i=document.createElement("template");i.innerHTML=t,n=i.content.cloneNode(!0)}else this.constructor.__tpl&&(n=this.constructor.__tpl.content.cloneNode(!0));for(let i of this.tplProcessors)i(n,this)}let r=()=>{n&&(e&&this.shadowRoot.appendChild(n)||this.appendChild(n)),this.__initCallback()};if(this.constructor.__shadowStylesUrl){e=!0;let i=document.createElement("link");i.rel="stylesheet",i.href=this.constructor.__shadowStylesUrl,i.onload=r,this.shadowRoot.prepend(i)}else r()}addTemplateProcessor(t){this.tplProcessors.add(t)}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=Rc.generate(),this.style.setProperty(O.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(O.CSS_CTX_PROP,!0)}get ctxName(){var t;let e=(null==(t=this.getAttribute(O.CTX_NAME_ATTR))?void 0:t.trim())||this.cssCtxName||this.__cachedCtxName||this.autoCtxName;return this.__cachedCtxName=e,e}get localCtx(){return this.__localCtx||(this.__localCtx=te.registerCtx({},this)),this.__localCtx}get nodeCtx(){return te.getCtx(this.ctxName,!1)||te.registerCtx({},this.ctxName)}static __parseProp(t,e){let n,r;if(t.startsWith(O.EXT_DATA_CTX_PRFX))n=e.nodeCtx,r=t.replace(O.EXT_DATA_CTX_PRFX,"");else if(t.includes(O.NAMED_DATA_CTX_SPLTR)){let i=t.split(O.NAMED_DATA_CTX_SPLTR);n=te.getCtx(i[0]),r=i[1]}else n=e.localCtx,r=t;return{ctx:n,name:r}}sub(t,e,n=!0){let r=o=>{!this.isConnected||e(o)},i=bn.__parseProp(t,this);i.ctx.has(t)?this.allSubs.add(i.ctx.sub(i.name,r,n)):window.setTimeout(()=>{this.allSubs.add(i.ctx.sub(i.name,r,n))})}notify(t){let e=bn.__parseProp(t,this);e.ctx.notify(e.name)}has(t){let e=bn.__parseProp(t,this);return e.ctx.has(e.name)}add(t,e,n=!1){let r=bn.__parseProp(t,this);r.ctx.add(r.name,e,n)}add$(t,e=!1){for(let n in t)this.add(n,t[n],e)}get $(){return this.__stateProxy||(this.__stateProxy=new Proxy(Object.create(null),{set:(e,n,r)=>{let i=bn.__parseProp(n,this);return i.ctx.pub(i.name,r),!0},get:(e,n)=>{let r=bn.__parseProp(n,this);return r.ctx.read(r.name)}})),this.__stateProxy}set$(t,e=!1){for(let n in t){let r=t[n];(e||![String,Number,Boolean].includes(null==r?void 0:r.constructor)||this.$[n]!==r)&&(this.$[n]=r)}}get __ctxOwner(){return this.ctxOwner||this.hasAttribute(O.CTX_OWNER_ATTR)&&"false"!==this.getAttribute(O.CTX_OWNER_ATTR)}__initDataCtx(){let t=this.constructor.__attrDesc;if(t)for(let e of Object.values(t))Object.keys(this.init$).includes(e)||(this.init$[e]="");for(let e in this.init$)if(e.startsWith(O.EXT_DATA_CTX_PRFX))this.nodeCtx.add(e.replace(O.EXT_DATA_CTX_PRFX,""),this.init$[e],this.__ctxOwner);else if(e.includes(O.NAMED_DATA_CTX_SPLTR)){let n=e.split(O.NAMED_DATA_CTX_SPLTR),r=n[0].trim(),i=n[1].trim();if(r&&i){let o=te.getCtx(r,!1);o||(o=te.registerCtx({},r)),o.add(i,this.init$[e])}}else this.localCtx.add(e,this.init$[e]);for(let e in this.cssInit$)this.bindCssData(e,this.cssInit$[e]);this.__dataCtxInitialized=!0}connectedCallback(){var t;if(this.isConnected){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=null==(t=this.getAttribute(O.CTX_NAME_ATTR))?void 0:t.trim();if(e&&this.style.setProperty(O.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this[O.SET_LATER_KEY]){for(let n in this[O.SET_LATER_KEY])Ym(this,n,this[O.SET_LATER_KEY][n]);delete this[O.SET_LATER_KEY]}this.initChildren=[...this.childNodes];for(let n of PT)this.addTemplateProcessor(n);if(this.pauseRender)this.__initCallback();else if(this.constructor.__rootStylesLink){let n=this.getRootNode();if(!n)return;if(null==n?void 0:n.querySelector(`link[${O.ROOT_STYLE_ATTR_NAME}="${this.constructor.is}"]`))return void this.render();let i=this.constructor.__rootStylesLink.cloneNode(!0);i.setAttribute(O.ROOT_STYLE_ATTR_NAME,this.constructor.is),i.onload=()=>{this.render()},n.nodeType===Node.DOCUMENT_NODE?n.head.appendChild(i):n.prepend(i)}else this.render()}this.connectedOnce=!0}}destroyCallback(){}disconnectedCallback(){!this.connectedOnce||(this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout(()=>{this.destroyCallback();for(let t of this.allSubs)t.remove(),this.allSubs.delete(t);for(let t of this.tplProcessors)this.tplProcessors.delete(t);null==rn||rn.delete(this.updateCssData),(null==rn?void 0:rn.size)||(null==Fr||Fr.disconnect(),Fr=null,rn=null)},100)))}static reg(t,e=!1){t||(Zm++,t=`${O.AUTO_TAG_PRFX}-${Zm}`),this.__tag=t,window.customElements.get(t)?console.warn(`${t} - is already in "customElements" registry`):window.customElements.define(t,e?class extends(this){}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(t){this.observedAttributes=Object.keys(t),this.__attrDesc=t}attributeChangedCallback(t,e,n){var r;if(e===n)return;let i=null==(r=this.constructor.__attrDesc)?void 0:r[t];i?this.__dataCtxInitialized?this.$[i]=n:this.init$[i]=n:this[t]=n}getCssData(t,e=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(t)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let n=this.__computedStyle.getPropertyValue(t).trim();n.startsWith("'")&&n.endsWith("'")&&(n=n.replace(/\'/g,'"'));try{this.__cssDataCache[t]=JSON.parse(n)}catch(r){!e&&console.warn(`CSS Data error: ${t}`),this.__cssDataCache[t]=null}}return this.__cssDataCache[t]}__extractCssName(t){return t.split("--").map((e,n)=>0===n?"":e).join("--")}__initStyleAttrObserver(){rn||(rn=new Set),rn.add(this.updateCssData),Fr||(Fr=new MutationObserver(t=>{"attributes"===t[0].type&&rn.forEach(e=>{e()})}),Fr.observe(document,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style"]}))}bindCssData(t,e=""){this.__boundCssProps||(this.__boundCssProps=new Set),this.__boundCssProps.add(t);let n=this.getCssData(this.__extractCssName(t),!0);null===n&&(n=e),this.add(t,n),this.__initStyleAttrObserver()}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(t,e,n){let r="__"+t;this[r]=this[t],Object.defineProperty(this,t,{set:i=>{this[r]=i,n?window.setTimeout(()=>{null==e||e(i)}):null==e||e(i)},get:()=>this[r]}),this[t]=this[r]}static set shadowStyles(t){let e=new Blob([t],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(e)}static set rootStyles(t){if(!this.__rootStylesLink){let e=new Blob([t],{type:"text/css"}),n=URL.createObjectURL(e),r=document.createElement("link");r.href=n,r.rel="stylesheet",this.__rootStylesLink=r}}},ys=bn;Nc(ys,"template");var Pc=class{static _print(t){console.warn(t)}static setDefaultTitle(t){this.defaultTitle=t}static setRoutingMap(t){Object.assign(this.appMap,t);for(let e in this.appMap)this.defaultRoute||!0!==this.appMap[e].default?!this.errorRoute&&!0===this.appMap[e].error&&(this.errorRoute=e):this.defaultRoute=e}static set routingEventName(t){this.__routingEventName=t}static get routingEventName(){return this.__routingEventName||"sym-on-route"}static readAddressBar(){let t={route:null,options:{}};return window.location.search.split(this.separator).forEach(n=>{if(n.includes("?"))t.route=n.replace("?","");else if(n.includes("=")){let r=n.split("=");t.options[r[0]]=decodeURI(r[1])}else t.options[n]=!0}),t}static notify(){let t=this.readAddressBar(),e=this.appMap[t.route];if(e&&e.title&&(document.title=e.title),null===t.route&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!e&&this.errorRoute)return void this.applyRoute(this.errorRoute);if(!e&&this.defaultRoute)return void this.applyRoute(this.defaultRoute);if(!e)return void this._print(`Route "${t.route}" not found...`);let n=new CustomEvent(Pc.routingEventName,{detail:{route:t.route,options:Object.assign(e||{},t.options)}});window.dispatchEvent(n)}static reflect(t,e={}){let n=this.appMap[t];if(!n)return void this._print("Wrong route: "+t);let r="?"+t;for(let o in e)r+=!0===e[o]?this.separator+o:this.separator+o+`=${e[o]}`;let i=n.title||this.defaultTitle||"";window.history.pushState(null,i,r),document.title=i}static applyRoute(t,e={}){this.reflect(t,e),this.notify()}static setSeparator(t){this._separator=t}static get separator(){return this._separator||"&"}static createRouterData(t,e){this.setRoutingMap(e);let n=te.registerCtx({route:null,options:null,title:null},t);return window.addEventListener(this.routingEventName,r=>{var i;n.multiPub({route:r.detail.route,options:r.detail.options,title:(null==(i=r.detail.options)?void 0:i.title)||this.defaultTitle||""})}),Pc.notify(),this.initPopstateListener(),n}static initPopstateListener(){this.__onPopstate||(this.__onPopstate=()=>{this.notify()},window.addEventListener("popstate",this.__onPopstate))}static removePopstateListener(){window.removeEventListener("popstate",this.__onPopstate),this.__onPopstate=null}};function Lc(t={tag:"div"}){let e=document.createElement(t.tag);if(t.attributes&&function OT(t,e){for(let n in e)e[n].constructor===Boolean?e[n]?t.setAttribute(n,""):t.removeAttribute(n):t.setAttribute(n,e[n])}(e,t.attributes),t.styles&&function LT(t,e){for(let n in e)n.includes("-")?t.style.setProperty(n,e[n]):t.style[n]=e[n]}(e,t.styles),t.properties)for(let n in t.properties)e[n]=t.properties[n];return t.processors&&t.processors.forEach(n=>{n(e)}),t.children&&t.children.forEach(n=>{let r=Lc(n);e.appendChild(r)}),e}Pc.appMap=Object.create(null);var Xm="idb-store-ready",Qm=class{static get readyEventName(){return Xm}static open(t="symbiote-db",e="store"){let n=t+"/"+e;return this._reg[n]||(this._reg[n]=new class{_notifyWhenReady(t=null){window.dispatchEvent(new CustomEvent(Xm,{detail:{dbName:this.name,storeName:this.storeName,event:t}}))}get _updEventName(){return"symbiote-idb-update_"+this.name}_getUpdateEvent(t){return new CustomEvent(this._updEventName,{detail:{key:this.name,newValue:t}})}_notifySubscribers(t){window.localStorage.removeItem(this.name),window.localStorage.setItem(this.name,t),window.dispatchEvent(this._getUpdateEvent(t))}constructor(t,e){var n=this;this.name=t,this.storeName=e,this.version=1,this.request=window.indexedDB.open(this.name,this.version),this.request.onupgradeneeded=r=>{this.db=r.target.result,this.objStore=this.db.createObjectStore(e,{keyPath:"_key"}),this.objStore.transaction.oncomplete=i=>{this._notifyWhenReady(i)}},this.request.onsuccess=r=>{this.db=r.target.result,this._notifyWhenReady(r)},this.request.onerror=r=>{console.error(r)},this._subscriptionsMap={},this._updateHandler=r=>{r.key===this.name&&this._subscriptionsMap[r.newValue]&&this._subscriptionsMap[r.newValue].forEach(function(){var o=Ge(function*(s){s(yield n.read(r.newValue))});return function(s){return o.apply(this,arguments)}}())},this._localUpdateHandler=r=>{this._updateHandler(r.detail)},window.addEventListener("storage",this._updateHandler),window.addEventListener(this._updEventName,this._localUpdateHandler)}read(t){let n=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).get(t);return new Promise((r,i)=>{n.onsuccess=o=>{var s;(null==(s=o.target.result)?void 0:s._value)?r(o.target.result._value):(r(null),console.warn(`IDB: cannot read "${t}"`))},n.onerror=o=>{i(o)}})}write(t,e,n=!1){let r={_key:t,_value:e},o=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).put(r);return new Promise((s,a)=>{o.onsuccess=l=>{n||this._notifySubscribers(t),s(l.target.result)},o.onerror=l=>{a(l)}})}delete(t,e=!1){let r=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).delete(t);return new Promise((i,o)=>{r.onsuccess=s=>{e||this._notifySubscribers(t),i(s)},r.onerror=s=>{o(s)}})}getAll(){let e=this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).getAll();return new Promise((n,r)=>{e.onsuccess=i=>{n(i.target.result.map(s=>s._value))},e.onerror=i=>{r(i)}})}subscribe(t,e){this._subscriptionsMap[t]||(this._subscriptionsMap[t]=new Set);let n=this._subscriptionsMap[t];return n.add(e),{remove:()=>{n.delete(e),n.size||delete this._subscriptionsMap[t]}}}stop(){window.removeEventListener("storage",this._updateHandler),this._subscriptionsMap=null,Qm.clear(this.name)}}(t,e)),this._reg[n]}static clear(t){window.indexedDB.deleteDatabase(t);for(let e in this._reg)e.split("/")[0]===t&&delete this._reg[e]}};Nc(Qm,"_reg",Object.create(null));const HT=t=>t;function Oc(t,e,n={}){var s;let{openToken:r="{{",closeToken:i="}}",transform:o=HT}=n;for(let a in e){let l=null==(s=e[a])?void 0:s.toString();t=t.replaceAll(r+a+i,"string"==typeof l?o(l):l)}return t}function UT(t,e){[...t.querySelectorAll("[l10n]")].forEach(n=>{let r=n.getAttribute("l10n"),i="textContent";if(r.includes(":")){let s=r.split(":");i=s[0],r=s[1]}let o="l10n:"+r;e.__l10nKeys.push(o),e.add(o,r),e.sub(o,s=>{n[i]=e.l10n(s)}),n.removeAttribute("l10n")})}const Km=()=>({"*ctxTargetsRegistry":new Map}),Jm=()=>F(E({},Km()),{"*currentActivity":"","*currentActivityParams":{},"*history":[],"*activityCaption":"","*activityIcon":""}),e0=()=>F(E({},Jm()),{"*commonProgress":0,"*uploadList":[],"*outputData":null,"*focusedEntry":null,"*uploadMetadata":null});class ie extends ys{constructor(){super(),_(this,"allowCustomTemplate",!0),_(this,"ctxInit",Km()),_(this,"init$",this.ctxInit),this.activityType=null,this.addTemplateProcessor(UT),this.__l10nKeys=[]}l10n(e,n={}){return Oc(this.getCssData("--l10n-"+e,!0)||e,n)}applyL10nKey(e,n){this.$["l10n:"+e]=n,this.__l10nKeys.push(e)}checkCtxTarget(e){let n=this.$["*ctxTargetsRegistry"];return null==n?void 0:n.has(e)}setForCtxTarget(e,n,r){this.checkCtxTarget(e)&&(this.$[n]=r)}connectedCallback(){if(this.hasAttribute("retpl")&&(this.constructor.template=null,this.processInnerHtml=!0),this.isConnected&&this.__ctxOwner){let e=te.getCtx(this.ctxName,!1);e&&(e.store=E({},this.ctxInit))}super.connectedCallback()}initCallback(){let e=this.constructor.is,n=this.$["*ctxTargetsRegistry"],r=n.has(e)?n.get(e)+1:1;n.set(e,r),this.$["*ctxTargetsRegistry"]=n}destroyCallback(){let e=this.constructor.is,n=this.$["*ctxTargetsRegistry"],r=n.has(n)?n.get(e)-1:0;0===r?n.delete(e):n.set(e,r),this.$["*ctxTargetsRegistry"]=n}fileSizeFmt(e,n=2){let r=["B","KB","MB","GB","TB"],i=l=>this.getCssData("--l10n-unit-"+l.toLowerCase(),!0)||l;if(0===e)return`0 ${i(r[0])}`;let s=n<0?0:n,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/1024**a).toFixed(s))+" "+i(r[a])}proxyUrl(e){let n=this.getCssData("--cfg-secure-delivery-proxy",!0);return n?Oc(n,{previewUrl:e},{transform:r=>window.encodeURIComponent(r)}):e}static reg(e){e?super.reg(e.startsWith("lr-")?e:"lr-"+e):super.reg()}}function Ri(t,e){let n,r=(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)};return r.cancel=()=>{clearTimeout(n)},r}const Pi="___ACTIVITY_IS_ACTIVE___",Or=class extends ie{constructor(){super(...arguments),_(this,"ctxInit",Jm()),_(this,"_debouncedHistoryFlush",Ri(this._historyFlush.bind(this),10))}initCallback(){super.initCallback(),this.hasAttribute("current-activity")&&this.sub("*currentActivity",e=>{this.setAttribute("current-activity",e)}),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",e=>{var i,o;let r=Or._activityRegistry[this.ctxName+this.activityType];this.activityType!==e&&this[Pi]?(this[Pi]=!1,this.removeAttribute("active"),null==(i=null==r?void 0:r.deactivateCallback)||i.call(r)):this.activityType===e&&!this[Pi]&&(this[Pi]=!0,this.setAttribute("active",""),this.setForCtxTarget("lr-modal","*modalCloseCallback",null==r?void 0:r.modalCloseCallback),null==(o=null==r?void 0:r.activateCallback)||o.call(r),this._debouncedHistoryFlush()),e||(this.$["*history"]=[])}))}_historyFlush(){let e=this.$["*history"];e&&(e.length>10&&(e=e.slice(e.length-11,e.length-1)),e.push(this.activityType),this.$["*history"]=e)}get isActivityActive(){return this[Pi]}registerActivity(e,n){const{onActivate:r,onDeactivate:i,onClose:o}=n;Or._activityRegistry||(Or._activityRegistry=Object.create(null)),Or._activityRegistry[this.ctxName+e]={activateCallback:r,deactivateCallback:i,modalCloseCallback:o}}get activityParams(){return this.$["*currentActivityParams"]}get initActivity(){return this.getCssData("--cfg-init-activity")}get doneActivity(){return this.getCssData("--cfg-done-activity")}historyBack(){let e=this.$["*history"];if(e){e.pop();let n=e.pop();this.$["*currentActivity"]=n,this.$["*history"]=e}}};let H=Or;_(H,"_activityRegistry",Object.create(null)),H.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CONFIRMATION:"confirmation",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external",DETAILS:"details"});const $c=["image/*","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/avif","image/avif-sequence",".heif",".heifs",".heic",".heics",".avif",".avifs"],r0=t=>t?t.map(e=>null==e?void 0:e.split(",")).flat().filter(e=>"string"==typeof e&&e).map(e=>e.trim()):[],o0=(t,e)=>e.some(n=>n.endsWith("*")?(n=n.replace("*",""),t.startsWith(n)):t===n),Vc=t=>{let e=null==t?void 0:t.type;return!!e&&o0(e,$c)};class Le extends Error{constructor(e,n,r,i,o){super(),this.name="UploadClientError",this.message=e,this.code=n,this.request=r,this.response=i,this.headers=o,Object.setPrototypeOf(this,Le.prototype)}}const Bc=(t="Request canceled")=>{const e=new Le(t);return e.isCancel=!0,e},bs=(t,e)=>{t&&(t.aborted?Promise.resolve().then(e):t.addEventListener("abort",()=>e(),{once:!0}))},on=({method:t,url:e,data:n,headers:r={},signal:i,onProgress:o})=>new Promise((s,a)=>{const l=new XMLHttpRequest,c=(null==t?void 0:t.toUpperCase())||"GET";let u=!1;l.open(c,e,!0),r&&Object.entries(r).forEach(d=>{const[f,h]=d;void 0!==h&&!Array.isArray(h)&&l.setRequestHeader(f,h)}),l.responseType="text",bs(i,()=>{u=!0,l.abort(),a(Bc())}),l.onload=()=>{if(200!=l.status)a(new Error(`Error ${l.status}: ${l.statusText}`));else{const d={method:c,url:e,data:n,headers:r||void 0,signal:i,onProgress:o},f=l.getAllResponseHeaders().trim().split(/[\r\n]+/),h={};f.forEach(function(v){const b=v.split(": "),g=b.shift(),w=b.join(": ");g&&void 0!==g&&(h[g]=w)}),s({request:d,data:l.response,headers:h,status:l.status})}},l.onerror=()=>{u||a(new Error("Network error"))},o&&"function"==typeof o&&(l.upload.onprogress=d=>{o(d.lengthComputable?{isComputable:!0,value:d.loaded/d.total}:{isComputable:!1})}),n?l.send(n):l.send()}),Li=t=>void 0!==t&&("undefined"!=typeof Blob&&t instanceof Blob||"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Buffer&&t instanceof Buffer),s0=t=>{const n=new RegExp("[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}");return!Li(t)&&n.test(t)},a0=t=>{const n=new RegExp("^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$");return!Li(t)&&n.test(t)};function XT(t,e,n){if((t=>!!t&&"object"==typeof t&&"data"in t&&Li(t.data))(n)){const{name:r,contentType:i}=n,o=n.data,s=(({name:t})=>t?[t]:[])({name:r,contentType:i});t.push([e,o,...s])}else if((t=>!!t&&"object"==typeof t&&!Array.isArray(t))(n))for(const[r,i]of Object.entries(n))void 0!==i&&t.push([`${e}[${r}]`,String(i)]);else(t=>"string"==typeof t||"number"==typeof t||void 0===t)(n)&&n&&t.push([e,n.toString()])}function Hc(t){const e=new FormData,n=function QT(t){const e=[];for(const[n,r]of Object.entries(t))XT(e,n,r);return e}(t);for(const r of n){const[i,o,...s]=r;e.append(i,o,...s)}return e}const _n=(t,e,n)=>{const r=new URL(t);return r.pathname=(r.pathname+e).replace("//","/"),n&&(r.search=(t=>{const e=new URLSearchParams;for(const[n,r]of Object.entries(t))r&&"object"==typeof r&&!Array.isArray(r)?Object.entries(r).filter(i=>{var o;return null!=(o=i[1])&&o}).forEach(i=>e.set(`${n}[${i[0]}]`,String(i[1]))):Array.isArray(r)?r.forEach(i=>{e.append(`${n}[]`,i)}):"string"==typeof r&&r?e.set(n,r):"number"==typeof r&&e.set(n,r.toString());return e.toString()})(n)),r.toString()},K_baseCDN="https://ucarecdn.com",K_baseURL="https://upload.uploadcare.com",K_retryThrottledRequestMaxTimes=1,K_multipartMinFileSize=26214400,K_multipartChunkSize=5242880,K_maxConcurrentRequests=4,K_multipartMaxAttempts=3,K_pusherKey="79ae88bd931ea68464d9",l0="original";function c0(t){return"[object Object]"===Object.prototype.toString.call(t)}const tI=/\W|_/g;function nI(t){return t.split(tI).map((e,n)=>e.charAt(0)[n>0?"toUpperCase":"toLowerCase"]()+e.slice(1)).join("")}function u0(t,{ignoreKeys:e}={ignoreKeys:[]}){return Array.isArray(t)?t.map(n=>qt(n,{ignoreKeys:e})):t}function qt(t,{ignoreKeys:e}={ignoreKeys:[]}){if(Array.isArray(t))return u0(t,{ignoreKeys:e});if(!c0(t))return t;const n={};for(const r of Object.keys(t)){let i=t[r];e.includes(r)?n[r]=i:(c0(i)?i=qt(i,{ignoreKeys:e}):Array.isArray(i)&&(i=u0(i,{ignoreKeys:e})),n[nI(r)]=i)}return n}function d0({libraryName:t,libraryVersion:e,userAgent:n,publicKey:r="",integration:i=""}){const o="JavaScript";return"string"==typeof n?n:"function"==typeof n?n({publicKey:r,libraryName:t,libraryVersion:e,languageName:o,integration:i}):`${[t,e,r].filter(Boolean).join("/")} (${[o,i].filter(Boolean).join("; ")})`}const iI={factor:2,time:100};function f0(t,e=iI){let n=0;return function r(i){const o=Math.round(e.time*e.factor**n);return i({attempt:n,retry:a=>(t=>new Promise(e=>setTimeout(e,t)))(null!=a?a:o).then(()=>(n+=1,r(i)))})}(t)}function wn(t){return d0(E({libraryName:"UploadcareUploadClient",libraryVersion:"4.3.1"},t))}function Dn(t,e){return f0(({attempt:n,retry:r})=>t().catch(i=>{if("response"in i&&"RequestThrottledError"===(null==i?void 0:i.code)&&n<e)return r(function cI(t){const{headers:e}=t||{};return e&&1e3*Number.parseInt(e["x-throttle-wait-seconds"])||15e3}(i));throw i}))}function Uc(t){return void 0===t?"auto":t?"1":"0"}var _s=(()=>(function(t){t.Token="token",t.FileInfo="file_info"}(_s||(_s={})),_s))();var Oe=(()=>(function(t){t.Unknown="unknown",t.Waiting="waiting",t.Progress="progress",t.Error="error",t.Success="success"}(Oe||(Oe={})),Oe))();function jc(t,{publicKey:e,baseURL:n=K_baseURL,signal:r,source:i,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=K_retryThrottledRequestMaxTimes}){return Dn(()=>on({method:"GET",headers:{"X-UC-User-Agent":wn({publicKey:e,integration:o,userAgent:s})},url:_n(n,"/info/",{jsonerrors:1,pub_key:e,file_id:t,source:i}),signal:r}).then(({data:l,headers:c,request:u})=>{const d=qt(JSON.parse(l));if("error"in d)throw new Le(d.error.content,d.error.errorCode,u,d,c);return d}),a)}class Oi{constructor(e,{baseCDN:n,fileName:r}){this.name=null,this.size=null,this.isStored=null,this.isImage=null,this.mimeType=null,this.cdnUrl=null,this.s3Url=null,this.originalFilename=null,this.imageInfo=null,this.videoInfo=null,this.contentInfo=null,this.metadata=null,this.s3Bucket=null;const{uuid:i,s3Bucket:o}=e,s=`${n}/${i}/`,a=o?`https://${o}.s3.amazonaws.com/${i}/${e.filename}`:null;this.uuid=i,this.name=r||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=s,this.originalFilename=e.originalFilename,this.imageInfo=e.imageInfo,this.videoInfo=e.videoInfo,this.contentInfo=e.contentInfo,this.metadata=e.metadata||null,this.s3Bucket=o||null,this.s3Url=a}}const _0=({check:t,interval:e=500,signal:n})=>new Promise((r,i)=>{let o;bs(n,()=>{o&&clearTimeout(o),i(Bc("Poll cancelled"))});const s=()=>{try{Promise.resolve(t(n)).then(a=>{a?r(a):o=setTimeout(s,e)}).catch(a=>i(a))}catch(a){i(a)}};o=setTimeout(s,0)});function zc({file:t,publicKey:e,baseURL:n,source:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s,signal:a,onProgress:l}){return _0({check:c=>jc(t,{publicKey:e,baseURL:n,signal:c,source:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s}).then(u=>u.isReady?u:(l&&l({isComputable:!0,value:1}),!1)),signal:a})}var gI=window.WebSocket;class mI{constructor(){this.events=Object.create({})}emit(e,n){var r;null==(r=this.events[e])||r.forEach(i=>i(n))}on(e,n){this.events[e]=this.events[e]||[],this.events[e].push(n)}off(e,n){this.events[e]=n?this.events[e].filter(r=>r!==n):[]}}class yI{constructor(e,n=3e4){this.ws=void 0,this.queue=[],this.isConnected=!1,this.subscribers=0,this.emmitter=new mI,this.disconnectTimeoutId=null,this.key=e,this.disconnectTime=n}connect(){this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),this.isConnected||this.ws||(this.ws=new gI(`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`),this.ws.addEventListener("error",n=>{this.emmitter.emit("error",new Error(n.message))}),this.emmitter.on("connected",()=>{this.isConnected=!0,this.queue.forEach(n=>this.send(n.event,n.data)),this.queue=[]}),this.ws.addEventListener("message",n=>{const r=JSON.parse(n.data.toString());switch(r.event){case"pusher:connection_established":this.emmitter.emit("connected",void 0);break;case"pusher:ping":this.send("pusher:pong",{});break;case"progress":case"success":case"fail":this.emmitter.emit(r.channel,((t,e)=>E("success"===t?{status:Oe.Success}:"progress"===t?{status:Oe.Progress}:{status:Oe.Error},e))(r.event,JSON.parse(r.data)))}}))}disconnect(){const e=()=>{var n;null==(n=this.ws)||n.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout(()=>{e()},this.disconnectTime):e()}send(e,n){var i;const r=JSON.stringify({event:e,data:n});null==(i=this.ws)||i.send(r)}subscribe(e,n){this.subscribers+=1,this.connect();const r=`task-status-${e}`,i={event:"pusher:subscribe",data:{channel:r}};this.emmitter.on(r,n),this.isConnected?this.send(i.event,i.data):this.queue.push(i)}unsubscribe(e){this.subscribers-=1;const n=`task-status-${e}`,r={event:"pusher:unsubscribe",data:{channel:n}};this.emmitter.off(n),this.isConnected?this.send(r.event,r.data):this.queue=this.queue.filter(i=>i.data.channel!==n),0===this.subscribers&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}}let Gc=null;const qc=t=>{if(!Gc){const e="undefined"==typeof window?0:3e4;Gc=new yI(t,e)}return Gc},DI=(t,{publicKey:e,fileName:n,baseURL:r,baseCDN:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,store:c,signal:u,onProgress:d,source:f,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,pusherKey:v=K_pusherKey,metadata:b})=>Promise.resolve((t=>{qc(t).connect()})(v)).then(()=>function p0(t,{publicKey:e,baseURL:n=K_baseURL,store:r,fileName:i,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,source:c="url",signal:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h=K_retryThrottledRequestMaxTimes,metadata:p}){return Dn(()=>on({method:"POST",headers:{"X-UC-User-Agent":wn({publicKey:e,integration:d,userAgent:f})},url:_n(n,"/from_url/",{jsonerrors:1,pub_key:e,source_url:t,store:Uc(r),filename:i,check_URL_duplicates:o?1:void 0,save_URL_duplicates:s?1:void 0,signature:a,expire:l,source:c,metadata:p}),signal:u}).then(({data:m,headers:v,request:b})=>{const g=qt(JSON.parse(m));if("error"in g)throw new Le(g.error.content,g.error.errorCode,b,g,v);return g}),h)}(t,{publicKey:e,fileName:n,baseURL:r,checkForUrlDuplicates:o,saveUrlForRecurrentUploads:s,secureSignature:a,secureExpire:l,store:c,signal:u,source:f,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,metadata:b})).catch(g=>{const w=qc(v);return null==w||w.disconnect(),Promise.reject(g)}).then(g=>g.type===_s.FileInfo?g:((t,{signal:e}={})=>{let n=null,r=null;const i=t.map(()=>new AbortController);return bs(e,()=>{i.forEach(s=>s.abort())}),Promise.all(t.map((s,a)=>{const l=(s=>()=>{r=s,i.forEach((a,l)=>l!==s&&a.abort())})(a);return Promise.resolve().then(()=>s({stopRace:l,signal:i[a].signal})).then(c=>(l(),c)).catch(c=>(n=c,null))})).then(s=>{if(null===r)throw n;return s[r]})})([({signal:w})=>function _I({token:t,publicKey:e,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:o,onProgress:s,signal:a}){return _0({check:l=>function g0(t,{publicKey:e,baseURL:n=K_baseURL,signal:r,integration:i,userAgent:o,retryThrottledRequestMaxTimes:s=K_retryThrottledRequestMaxTimes}={}){return Dn(()=>on({method:"GET",headers:e?{"X-UC-User-Agent":wn({publicKey:e,integration:i,userAgent:o})}:void 0,url:_n(n,"/from_url/status/",{jsonerrors:1,token:t}),signal:r}).then(({data:a,headers:l,request:c})=>{const u=qt(JSON.parse(a));if("error"in u&&!(t=>"status"in t&&t.status===Oe.Error)(u))throw new Le(u.error.content,void 0,c,u,l);return u}),s)}(t,{publicKey:e,baseURL:n,integration:r,userAgent:i,retryThrottledRequestMaxTimes:o,signal:l}).then(c=>{switch(c.status){case Oe.Error:return new Le(c.error,c.errorCode);case Oe.Waiting:return!1;case Oe.Unknown:return new Le(`Token "${t}" was not found.`);case Oe.Progress:return s&&s("unknown"===c.total?{isComputable:!1}:{isComputable:!0,value:c.done/c.total}),!1;case Oe.Success:return s&&s({isComputable:!0,value:c.done/c.total}),c;default:throw new Error("Unknown status")}}),signal:a})}({token:g.token,publicKey:e,baseURL:r,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,onProgress:d,signal:w}),({signal:w})=>(({token:t,pusherKey:e,signal:n,onProgress:r})=>new Promise((i,o)=>{const s=qc(e),a=s.onError(o),l=()=>{a(),s.unsubscribe(t)};bs(n,()=>{l(),o(Bc("pusher cancelled"))}),s.subscribe(t,c=>{switch(c.status){case Oe.Progress:r&&r("unknown"===c.total?{isComputable:!1}:{isComputable:!0,value:c.done/c.total});break;case Oe.Success:l(),r&&r({isComputable:!0,value:c.done/c.total}),i(c);break;case Oe.Error:l(),o(new Le(c.msg,c.error_code))}})}))({token:g.token,pusherKey:v,signal:w,onProgress:d})],{signal:u})).then(g=>{if(g instanceof Le)throw g;return g}).then(g=>zc({file:g.uuid,publicKey:e,baseURL:r,integration:h,userAgent:p,retryThrottledRequestMaxTimes:m,onProgress:d,signal:u})).then(g=>new Oi(g,{baseCDN:i})),w0=t=>t.length||t.size;const II=(t,e)=>new Promise((n,r)=>{const i=[];let o=!1,s=e.length;const a=[...e],l=()=>{const c=e.length-a.length,u=a.shift();u&&u().then(d=>{o||(i[c]=d,s-=1,s?l():n(i))}).catch(d=>{o=!0,r(d)})};for(let c=0;c<t;c++)l()}),MI=(t,{publicKey:e,fileName:n,fileSize:r,baseURL:i,secureSignature:o,secureExpire:s,store:a,signal:l,onProgress:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,contentType:p,multipartChunkSize:m=K_multipartChunkSize,maxConcurrentRequests:v=K_maxConcurrentRequests,multipartMaxAttempts:b=K_multipartMaxAttempts,baseCDN:g,metadata:w})=>{const I=r||w0(t);let A;const ne=(z,tt)=>{if(!c)return;A||(A=Array(z).fill(0));const an=gt=>gt.reduce((In,zi)=>In+zi,0);return gt=>{!gt.isComputable||(A[tt]=gt.value,c({isComputable:!0,value:an(A)/z}))}};return function v0(t,{publicKey:e,contentType:n,fileName:r,multipartChunkSize:i=K_multipartChunkSize,baseURL:o="",secureSignature:s,secureExpire:a,store:l,signal:c,source:u="local",integration:d,userAgent:f,retryThrottledRequestMaxTimes:h=K_retryThrottledRequestMaxTimes,metadata:p}){return Dn(()=>on({method:"POST",url:_n(o,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":wn({publicKey:e,integration:d,userAgent:f})},data:Hc({filename:null!=r?r:l0,size:t,content_type:null!=n?n:"application/octet-stream",part_size:i,UPLOADCARE_STORE:Uc(l),UPLOADCARE_PUB_KEY:e,signature:s,expire:a,source:u,metadata:p}),signal:c}).then(({data:m,headers:v,request:b})=>{const g=qt(JSON.parse(m));if("error"in g)throw new Le(g.error.content,g.error.errorCode,b,g,v);return g.parts=Object.keys(g.parts).map(w=>g.parts[w]),g}),h)}(I,{publicKey:e,contentType:p,fileName:null!=n?n:t.name,baseURL:i,secureSignature:o,secureExpire:s,store:a,signal:l,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,metadata:w}).then(({uuid:z,parts:tt})=>{const an=function TI(t,e,n){return r=>((t,e,n,r)=>{const i=r*e,o=Math.min(i+r,n);return t.slice(i,o)})(t,r,e,n)}(t,I,m);return Promise.all([z,II(v,tt.map((gt,In)=>()=>((t,e,{publicKey:n,onProgress:r,signal:i,integration:o,multipartMaxAttempts:s})=>f0(({attempt:a,retry:l})=>function y0(t,e,{signal:n,onProgress:r}){return on({method:"PUT",url:e,data:t,onProgress:r,signal:n}).then(i=>(r&&r({isComputable:!0,value:1}),i)).then(({status:i})=>({code:i}))}(t,e,{publicKey:n,onProgress:r,signal:i,integration:o}).catch(c=>{if(a<s)return l();throw c})))(an(In),gt,{publicKey:e,onProgress:ne(tt.length,In),signal:l,integration:d,multipartMaxAttempts:b})))])}).then(([z])=>function b0(t,{publicKey:e,baseURL:n=K_baseURL,source:r="local",signal:i,integration:o,userAgent:s,retryThrottledRequestMaxTimes:a=K_retryThrottledRequestMaxTimes}){return Dn(()=>on({method:"POST",url:_n(n,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":wn({publicKey:e,integration:o,userAgent:s})},data:Hc({uuid:t,UPLOADCARE_PUB_KEY:e,source:r}),signal:i}).then(({data:l,headers:c,request:u})=>{const d=qt(JSON.parse(l));if("error"in d)throw new Le(d.error.content,d.error.errorCode,u,d,c);return d}),a)}(z,{publicKey:e,baseURL:i,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h})).then(z=>z.isReady?z:zc({file:z.uuid,publicKey:e,baseURL:i,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,onProgress:c,signal:l})).then(z=>new Oi(z,{baseCDN:g}))};function Wc(t,{publicKey:e,fileName:n,baseURL:r=K_baseURL,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,contentType:h,multipartMinFileSize:p,multipartChunkSize:m,multipartMaxAttempts:v,maxConcurrentRequests:b,baseCDN:g=K_baseCDN,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:I,pusherKey:A,metadata:ne}){if(Li(t))return((t,e=K_multipartMinFileSize)=>t>=e)(w0(t),p)?MI(t,{publicKey:e,contentType:h,multipartChunkSize:m,multipartMaxAttempts:v,fileName:n,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,maxConcurrentRequests:b,retryThrottledRequestMaxTimes:f,baseCDN:g,metadata:ne}):((t,{publicKey:e,fileName:n,baseURL:r,secureSignature:i,secureExpire:o,store:s,contentType:a,signal:l,onProgress:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,baseCDN:p,metadata:m})=>function h0(t,{publicKey:e,fileName:n,contentType:r,baseURL:i=K_baseURL,secureSignature:o,secureExpire:s,store:a,signal:l,onProgress:c,source:u="local",integration:d,userAgent:f,retryThrottledRequestMaxTimes:h=K_retryThrottledRequestMaxTimes,metadata:p}){return Dn(()=>{var m;return on({method:"POST",url:_n(i,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":wn({publicKey:e,integration:d,userAgent:f})},data:Hc({file:{data:t,name:null!=(m=null!=n?n:t.name)?m:l0,contentType:r},UPLOADCARE_PUB_KEY:e,UPLOADCARE_STORE:Uc(a),signature:o,expire:s,source:u,metadata:p}),signal:l,onProgress:c}).then(({data:v,headers:b,request:g})=>{const w=qt(JSON.parse(v));if("error"in w)throw new Le(w.error.content,w.error.errorCode,g,w,b);return w})},h)}(t,{publicKey:e,fileName:n,contentType:a,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:l,onProgress:c,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,metadata:m}).then(({file:v})=>zc({file:v,publicKey:e,baseURL:r,source:u,integration:d,userAgent:f,retryThrottledRequestMaxTimes:h,onProgress:c,signal:l})).then(v=>new Oi(v,{baseCDN:p})))(t,{publicKey:e,fileName:n,contentType:h,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,baseCDN:g,metadata:ne});if(a0(t))return DI(t,{publicKey:e,fileName:n,baseURL:r,baseCDN:g,checkForUrlDuplicates:w,saveUrlForRecurrentUploads:I,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,pusherKey:A,metadata:ne});if(s0(t))return((t,{publicKey:e,fileName:n,baseURL:r,signal:i,onProgress:o,source:s,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c,baseCDN:u})=>jc(t,{publicKey:e,baseURL:r,signal:i,source:s,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c}).then(d=>new Oi(d,{baseCDN:u,fileName:n})).then(d=>(o&&o({isComputable:!0,value:1}),d)))(t,{publicKey:e,fileName:n,baseURL:r,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,baseCDN:g});throw new TypeError(`File uploading from "${t}" is not supported`)}class SI{constructor(e,n){this.storedAt=null,this.uuid=e.id,this.filesCount=e.filesCount,this.totalSize=Object.values(e.files).reduce((r,i)=>r+i.size,0),this.isStored=!!e.datetimeStored,this.isImage=!!Object.values(e.files).filter(r=>r.isImage).length,this.cdnUrl=e.cdnUrl,this.files=n,this.createdAt=e.datetimeCreated,this.storedAt=e.datetimeStored}}function D0(t,{publicKey:e,fileName:n,baseURL:r=K_baseURL,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:l,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,contentType:h,multipartChunkSize:p=K_multipartChunkSize,baseCDN:m=K_baseCDN,jsonpCallback:v}){if(!(t=>{for(const e of t)if(!Li(e))return!1;return!0})(t)&&!(t=>{for(const e of t)if(!a0(e))return!1;return!0})(t)&&!(t=>{for(const e of t)if(!s0(e))return!1;return!0})(t))throw new TypeError(`Group uploading from "${t}" is not supported`);let b,g=!0;const w=t.length,I=(A,ne)=>{if(!l)return;b||(b=Array(A).fill(0));const z=tt=>tt.reduce((an,gt)=>an+gt)/A;return tt=>{if(!tt.isComputable||!g)return g=!1,void l({isComputable:!1});b[ne]=tt.value,l({isComputable:!0,value:z(b)})}};return Promise.all(t.map((A,ne)=>Wc(A,{publicKey:e,fileName:n,baseURL:r,secureSignature:i,secureExpire:o,store:s,signal:a,onProgress:I(w,ne),source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f,contentType:h,multipartChunkSize:p,baseCDN:m}))).then(A=>function m0(t,{publicKey:e,baseURL:n=K_baseURL,jsonpCallback:r,secureSignature:i,secureExpire:o,signal:s,source:a,integration:l,userAgent:c,retryThrottledRequestMaxTimes:u=K_retryThrottledRequestMaxTimes}){return Dn(()=>on({method:"POST",headers:{"X-UC-User-Agent":wn({publicKey:e,integration:l,userAgent:c})},url:_n(n,"/group/",{jsonerrors:1,pub_key:e,files:t,callback:r,signature:i,expire:o,source:a}),signal:s}).then(({data:d,headers:f,request:h})=>{const p=qt(JSON.parse(d));if("error"in p)throw new Le(p.error.content,p.error.errorCode,h,p,f);return p}),u)}(A.map(z=>z.uuid),{publicKey:e,baseURL:r,jsonpCallback:v,secureSignature:i,secureExpire:o,signal:a,source:c,integration:u,userAgent:d,retryThrottledRequestMaxTimes:f}).then(z=>new SI(z,A)).then(z=>(l&&l({isComputable:!0,value:1}),z)))}const RI=Object.freeze({file:{type:File,value:null},externalUrl:{type:String,value:null},fileName:{type:String,value:null},fileSize:{type:Number,value:null},lastModified:{type:Number,value:Date.now()},uploadProgress:{type:Number,value:0},uuid:{type:String,value:null},isImage:{type:Boolean,value:!1},mimeType:{type:String,value:null},uploadError:{type:Error,value:null,nullable:!0},validationErrorMsg:{type:String,value:null,nullable:!0},ctxName:{type:String,value:null},cdnUrl:{type:String,value:null},cdnUrlModifiers:{type:String,value:null},fileInfo:{type:Oi,value:null},isUploading:{type:Boolean,value:!1},abortController:{type:AbortController,value:null,nullable:!0},thumbUrl:{type:String,value:null,nullable:!0}});function OI(t){return d0(F(E({},t),{libraryName:"blocks",libraryVersion:"0.13.0"}))}const C0="[Typed State] Wrong property name: ";class VI{constructor(e,n){this.__typedSchema=e,this.__ctxId=n||Rc.generate(),this.__schema=Object.keys(e).reduce((r,i)=>(r[i]=e[i].value,r),{}),this.__data=te.registerCtx(this.__schema,this.__ctxId)}get uid(){return this.__ctxId}setValue(e,n){if(!this.__typedSchema.hasOwnProperty(e))return void console.warn(C0+e);let r=this.__typedSchema[e];(null==n?void 0:n.constructor)===r.type||n instanceof r.type||r.nullable&&null===n?this.__data.pub(e,n):console.warn("[Typed State] Wrong property type: "+e)}setMultipleValues(e){for(let n in e)this.setValue(n,e[n])}getValue(e){if(this.__typedSchema.hasOwnProperty(e))return this.__data.read(e);console.warn(C0+e)}subscribe(e,n){return this.__data.sub(e,n)}remove(){te.deleteCtx(this.__ctxId)}}class BI{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||Rc.generate(),this.__data=te.registerCtx({},this.__ctxId),this.__watchList=e.watchList||[],this.__handler=e.handler||null,this.__subsMap=Object.create(null),this.__observers=new Set,this.__items=new Set,this.__removed=new Set,this.__added=new Set;let n=Object.create(null);this.__notifyObservers=(r,i)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),n[r]||(n[r]=new Set),n[r].add(i),this.__observeTimeout=window.setTimeout(()=>{this.__observers.forEach(o=>{o(E({},n))}),n=Object.create(null)})}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout(()=>{var r;let e=this.__added,n=this.__removed;this.__added.clear(),this.__removed.clear(),null==(r=this.__handler)||r.call(this,[...this.__items],e,n)})}add(e){let n=new VI(this.__typedSchema);for(let r in e)n.setValue(r,e[r]);return this.__data.add(n.uid,n),this.__added.add(n),this.__watchList.forEach(r=>{this.__subsMap[n.uid]||(this.__subsMap[n.uid]=[]),this.__subsMap[n.uid].push(n.subscribe(r,()=>{this.__notifyObservers(r,n.uid)}))}),this.__items.add(n.uid),this.notify(),n}read(e){return this.__data.read(e)}readProp(e,n){return this.read(e).getValue(n)}publishProp(e,n,r){this.read(e).setValue(n,r)}remove(e){this.__removed.add(this.__data.read(e)),this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach(e=>{this.remove(e)})}observe(e){this.__observers.add(e)}unobserve(e){this.__observers.delete(e)}findItems(e){let n=[];return this.__items.forEach(r=>{let i=this.read(r);e(i)&&n.push(r)}),n}items(){return[...this.__items]}get size(){return this.__items.size}destroy(){te.deleteCtx(this.__data),this.__observers=null;for(let e in this.__subsMap)this.__subsMap[e].forEach(n=>{n.remove()}),delete this.__subsMap[e]}}const dt={UPLOAD_START:"UPLOAD_START",REMOVE:"REMOVE",UPLOAD_PROGRESS:"UPLOAD_PROGRESS",UPLOAD_FINISH:"UPLOAD_FINISH",UPLOAD_ERROR:"UPLOAD_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",CDN_MODIFICATION:"CLOUD_MODIFICATION",DATA_OUTPUT:"DATA_OUTPUT"};class sn{constructor(e){this.ctx=e.ctx,this.type=e.type,this.data=e.data}}class Mt{static eName(e){return"LR_"+e}static emit(e,n=window,r=!0){let i=()=>{n.dispatchEvent(new CustomEvent(this.eName(e.type),{detail:e}))};if(!r)return void i();let o=e.type+e.ctx;this._timeoutStore[o]&&window.clearTimeout(this._timeoutStore[o]),this._timeoutStore[o]=window.setTimeout(()=>{i(),delete this._timeoutStore[o]},20)}}_(Mt,"_timeoutStore",Object.create(null));class ue extends H{constructor(){super(...arguments),_(this,"ctxInit",e0()),_(this,"__initialUploadMetadata",null),_(this,"_handleCollectionUpdate",e=>{let n=this.uploadCollection;if(e.uploadProgress){let r=0,i=n.findItems(s=>!s.getValue("uploadError"));i.forEach(s=>{r+=n.readProp(s,"uploadProgress")});let o=Math.round(r/i.length);this.$["*commonProgress"]=o,Mt.emit(new sn({type:dt.UPLOAD_PROGRESS,ctx:this.ctxName,data:o}),void 0,100===o)}if(e.uuid){let r=n.findItems(o=>!!o.getValue("uuid")),i=n.findItems(o=>!!o.getValue("uploadError")||!!o.getValue("validationErrorMsg"));if(n.size-i.length===r.length){let o=this.getOutputData(s=>!!s.getValue("uuid"));Mt.emit(new sn({type:dt.UPLOAD_FINISH,ctx:this.ctxName,data:o}))}}e.uploadError&&n.findItems(i=>!!i.getValue("uploadError")).forEach(i=>{Mt.emit(new sn({type:dt.UPLOAD_ERROR,ctx:this.ctxName,data:n.readProp(i,"uploadError")}),void 0,!1)}),e.validationErrorMsg&&n.findItems(i=>!!i.getValue("validationErrorMsg")).forEach(i=>{Mt.emit(new sn({type:dt.VALIDATION_ERROR,ctx:this.ctxName,data:n.readProp(i,"validationErrorMsg")}),void 0,!1)}),e.cdnUrlModifiers&&n.findItems(i=>!!i.getValue("cdnUrlModifiers")).forEach(i=>{Mt.emit(new sn({type:dt.CDN_MODIFICATION,ctx:this.ctxName,data:n.readProp(i,"cdnUrlModifiers")}),void 0,!1)})})}setUploadMetadata(e){this.connectedOnce?this.$["*uploadMetadata"]=e:this.__initialUploadMetadata=e}initCallback(){super.initCallback(),this.__initialUploadMetadata&&(this.$["*uploadMetadata"]=this.__initialUploadMetadata)}destroyCallback(){super.destroyCallback();let e=this.$["*ctxTargetsRegistry"];0===(null==e?void 0:e.size)&&this.uploadCollection.unobserve(this._handleCollectionUpdate)}addFiles(e){e.forEach(n=>{this.uploadCollection.add({file:n,isImage:Vc(n),mimeType:n.type,fileName:n.name,fileSize:n.size})})}openSystemDialog(){let e=r0([this.getCssData("--cfg-accept"),...this.getCssData("--cfg-img-only")?$c:[]]).join(",");this.getCssData("--cfg-accept")&&!!this.getCssData("--cfg-img-only")&&console.warn("There could be a mistake.\nBoth `--cfg-accept` and `--cfg-img-only` parameters are set.\nThe value of `--cfg-accept` will be concatenated with the internal image mime types list."),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=!!this.getCssData("--cfg-multiple"),this.fileInput.accept=e,this.fileInput.dispatchEvent(new MouseEvent("click")),this.fileInput.onchange=()=>{this.addFiles([...this.fileInput.files]),this.$["*currentActivity"]=H.activities.UPLOAD_LIST,this.fileInput.value="",this.fileInput=null}}get sourceList(){let e=null;return this.getCssData("--cfg-source-list")&&(e=this.getCssData("--cfg-source-list").split(",").map(n=>n.trim())),e}initFlow(e=!1){var n,r;if((null==(n=this.$["*uploadList"])?void 0:n.length)&&!e)this.set$({"*currentActivity":H.activities.UPLOAD_LIST}),this.setForCtxTarget("lr-modal","*modalActive",!0);else if(1===(null==(r=this.sourceList)?void 0:r.length)){let i=this.sourceList[0];"local"===i?(this.$["*currentActivity"]=H.activities.UPLOAD_LIST,null==this||this.openSystemDialog()):(Object.values(Block.extSrcList).includes(i)?this.set$({"*currentActivityParams":{externalSourceType:i},"*currentActivity":H.activities.EXTERNAL}):this.$["*currentActivity"]=i,this.setForCtxTarget("lr-modal","*modalActive",!0))}else this.set$({"*currentActivity":H.activities.START_FROM}),this.setForCtxTarget("lr-modal","*modalActive",!0)}cancelFlow(){this.set$({"*currentActivity":this.doneActivity,"*history":this.doneActivity?[this.doneActivity]:[]}),this.$["*currentActivity"]||this.setForCtxTarget("lr-modal","*modalActive",!1)}get uploadCollection(){if(!this.has("*uploadCollection")){let e=new BI({typedSchema:RI,watchList:["uploadProgress","uuid","uploadError","validationErrorMsg","cdnUrlModifiers"],handler:(n,r,i)=>{var o;for(let s of i)null==(o=null==s?void 0:s.getValue("abortController"))||o.abort(),null==s||s.setValue("abortController",null),URL.revokeObjectURL(null==s?void 0:s.getValue("thumbUrl"));this.$["*uploadList"]=n.map(s=>({uid:s}))}});e.observe(this._handleCollectionUpdate),this.add("*uploadCollection",e)}return this.$["*uploadCollection"]}getUploadClientOptions(){let e={},n=this.getCssData("--cfg-store");null!==n&&(e.store=!!n);let r=F(E({},e),{publicKey:this.getCssData("--cfg-pubkey"),baseCDN:this.getCssData("--cfg-cdn-cname"),baseURL:this.getCssData("--cfg-base-url"),userAgent:OI,integration:this.getCssData("--cfg-user-agent-integration"),secureSignature:this.getCssData("--cfg-secure-signature"),secureExpire:this.getCssData("--cfg-secure-expire"),retryThrottledRequestMaxTimes:this.getCssData("--cfg-retry-throttled-request-max-times"),multipartMinFileSize:this.getCssData("--cfg-multipart-min-file-size"),multipartChunkSize:this.getCssData("--cfg-multipart-chunk-size"),maxConcurrentRequests:this.getCssData("--cfg-max-concurrent-requests"),multipartMaxAttempts:this.getCssData("--cfg-multipart-max-attempts"),checkForUrlDuplicates:!!this.getCssData("--cfg-check-for-url-duplicates"),saveUrlForRecurrentUploads:!!this.getCssData("--cfg-save-url-for-recurrent-uploads"),metadata:this.$["*uploadMetadata"]});return console.log("Upload client options:",r),r}getOutputData(e){let n=[];return this.uploadCollection.findItems(e).forEach(i=>{let o=te.getCtx(i).store,s=o.fileInfo||{name:o.fileName,fileSize:o.fileSize,isImage:o.isImage,mimeType:o.mimeType},a=F(E({},s),{cdnUrlModifiers:o.cdnUrlModifiers,cdnUrl:o.cdnUrl||s.cdnUrl});n.push(a)}),n}}ue.sourceTypes=Object.freeze(E({LOCAL:"local",URL:"url",CAMERA:"camera",DRAW:"draw"},ue.extSrcList)),ue.extSrcList=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",INSTAGRAM:"instagram",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"}),Object.keys(dt).forEach(t=>{let e=Mt.eName(t);window.addEventListener(e,n=>{if([dt.UPLOAD_FINISH,dt.REMOVE].includes(n.detail.type)){let i=te.getCtx(n.detail.ctx),o=i.read("uploadCollection"),s=[];o.items().forEach(a=>{let l=te.getCtx(a).store,c=l.fileInfo;if(c){let u=F(E({},c),{cdnUrlModifiers:l.cdnUrlModifiers,cdnUrl:l.cdnUrl||c.cdnUrl});s.push(u)}}),Mt.emit(new sn({type:dt.DATA_OUTPUT,ctx:n.detail.ctx,data:s})),i.pub("outputData",s)}})});let E0=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{name:"",path:"",size:"24",viewBox:""}))}initCallback(){super.initCallback(),this.sub("name",n=>{if(!n)return;let r=this.getCssData(`--icon-${n}`);r&&(this.$.path=r)}),this.sub("path",n=>{n&&(n.trimStart().startsWith("<")?(this.setAttribute("raw",""),this.ref.svg.innerHTML=n):(this.removeAttribute("raw"),this.ref.svg.innerHTML=`<path d="${n}"></path>`))}),this.sub("size",n=>{this.$.viewBox=`0 0 ${n} ${n}`})}}return t.template='\n  <svg ref="svg" xmlns="http://www.w3.org/2000/svg" set="@viewBox: viewBox; @height: size; @width: size"></svg>\n',t})();E0.bindAttributes({name:"name",size:"size"});const Yc=(...t)=>t.filter(e=>"string"==typeof e&&e).map(e=>(t=>{if("string"!=typeof t||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e})(e)).join("/-/"),Cn=(...t)=>{let e=Yc(...t);return e?`-/${e}/`:""};function x0(t){let e=new URL(t),n=e.pathname+e.search+e.hash,r=n.lastIndexOf("http"),i=n.lastIndexOf("/"),o="";return r>=0?o=n.slice(r):i>=0&&(o=n.slice(i+1)),o}function T0(t){return t.startsWith("http")}function I0(t){let e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}const St=(t,e,n)=>{let r=new URL(function UI(t){let e=new URL(t),n=x0(t),r=T0(n)?I0(n).pathname:n;return e.pathname=e.pathname.replace(r,""),e.search="",e.hash="",e.toString()}(t));if(n=n||x0(t),r.pathname.startsWith("//")&&(r.pathname=r.pathname.replace("//","/")),T0(n)){let i=I0(n);r.pathname=r.pathname+(e||"")+(i.pathname||""),r.search=i.search,r.hash=i.hash}else r.pathname=r.pathname+(e||"")+(n||"");return r.toString()},ws=(t,e)=>{let n=new URL(t);return n.pathname=e+"/",n.toString()},Nr=Object.freeze({"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{default:"https://ucarecdn.com"},"proxy-cname":{},"secure-delivery-proxy":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{default:"auto"},"cdn-operations":{},progressive:{},quality:{default:"smart"},"is-background-for":{}}),$i="--lr-img-",A0="unresolved",M0=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost"),S0=Object.create(null);for(let t in Nr)S0[$i+t]=(null==(Y0=Nr[t])?void 0:Y0.default)||"";class jI extends ys{constructor(){super(...arguments),_(this,"cssInit$",S0)}$$(e){return this.$[$i+e]}set$$(e){for(let n in e)this.$[$i+n]=e[n]}sub$$(e,n){this.sub($i+e,r=>{null===r||""===r||n(r)})}_fmtAbs(e){return!e.includes("//")&&!M0&&(e=new URL(e,document.baseURI).href),e}_getCdnModifiers(e=""){return Cn(e&&`resize/${e}`,this.$$("cdn-operations")||"",`format/${this.$$("format")||Nr.format.default}`,`quality/${this.$$("quality")||Nr.quality.default}`)}_getUrlBase(e=""){if(this.$$("src").startsWith("data:")||this.$$("src").startsWith("blob:"))return this.$$("src");if(M0&&this.$$("src")&&!this.$$("src").includes("//"))return this._proxyUrl(this.$$("src"));let n=this._getCdnModifiers(e);return this.$$("src").startsWith(this.$$("cdn-cname"))?St(this.$$("src"),n):this.$$("cdn-cname")&&this.$$("uuid")||this.$$("uuid")?this._proxyUrl(St(ws(this.$$("cdn-cname"),this.$$("uuid")),n)):this.$$("proxy-cname")?this._proxyUrl(St(this.$$("proxy-cname"),n,this._fmtAbs(this.$$("src")))):this.$$("pubkey")?this._proxyUrl(St(`https://${this.$$("pubkey")}.ucr.io/`,n,this._fmtAbs(this.$$("src")))):void 0}_proxyUrl(e){return this.$$("secure-delivery-proxy")?Oc(this.$$("secure-delivery-proxy"),{previewUrl:e},{transform:r=>window.encodeURIComponent(r)}):e}_getElSize(e,n=1,r=!0){let i=e.getBoundingClientRect(),o=n*Math.round(i.width),s=r?"":n*Math.round(i.height);return o||s?`${o||""}x${s||""}`:null}_setupEventProxy(e){let n=i=>{i.stopPropagation();let o=new Event(i.type,i);this.dispatchEvent(o)},r=["load","error"];for(let i of r)e.addEventListener(i,n)}get img(){return this._img||(this._img=new Image,this._setupEventProxy(this.img),this._img.setAttribute(A0,""),this.img.onload=()=>{this.img.removeAttribute(A0)},this.initAttributes(),this.appendChild(this._img)),this._img}get bgSelector(){return this.$$("is-background-for")}initAttributes(){[...this.attributes].forEach(e=>{Nr[e.name]||this.img.setAttribute(e.name,e.value)})}get breakpoints(){if(this.$$("breakpoints")){let e=new Set;return this.$$("breakpoints").split(",").forEach(n=>{e.add(parseFloat(n.trim()))}),e}return null}renderBg(e){let n=new Set;this.breakpoints?this.breakpoints.forEach(i=>{n.add(`url("${this._getUrlBase(i+"x")}") ${i}w`),this.$$("hi-res-support")&&n.add(`url("${this._getUrlBase(2*i+"x")}") ${2*i}w`),this.$$("ultra-res-support")&&n.add(`url("${this._getUrlBase(3*i+"x")}") ${3*i}w`)}):(n.add(`url("${this._getUrlBase(this._getElSize(e))}") 1x`),this.$$("hi-res-support")&&n.add(`url("${this._getUrlBase(this._getElSize(e,2))}") 2x`),this.$$("ultra-res-support")&&n.add(`url("${this._getUrlBase(this._getElSize(e,3))}") 3x`));let r=`image-set(${[...n].join(", ")})`;e.style.setProperty("background-image",r),e.style.setProperty("background-image","-webkit-"+r)}getSrcset(){let e=new Set;return this.breakpoints?this.breakpoints.forEach(n=>{e.add(this._getUrlBase(n+"x")+` ${n}w`),this.$$("hi-res-support")&&e.add(this._getUrlBase(2*n+"x")+` ${2*n}w`),this.$$("ultra-res-support")&&e.add(this._getUrlBase(3*n+"x")+` ${3*n}w`)}):(e.add(this._getUrlBase(this._getElSize(this.img))+" 1x"),this.$$("hi-res-support")&&e.add(this._getUrlBase(this._getElSize(this.img,2))+" 2x"),this.$$("ultra-res-support")&&e.add(this._getUrlBase(this._getElSize(this.img,3))+" 3x")),[...e].join()}getSrc(){return this._getUrlBase()}init(){this.bgSelector?[...document.querySelectorAll(this.bgSelector)].forEach(e=>{this.$$("intersection")?this.initIntersection(e,()=>{this.renderBg(e)}):this.renderBg(e)}):this.$$("intersection")?this.initIntersection(this.img,()=>{this.img.srcset=this.getSrcset(),this.img.src=this.getSrc()}):(this.img.srcset=this.getSrcset(),this.img.src=this.getSrc())}initIntersection(e,n){this._isnObserver=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(n(),this._isnObserver.unobserve(e))})},{root:null,rootMargin:"0px"}),this._isnObserver.observe(e),this._observed||(this._observed=new Set),this._observed.add(e)}destroyCallback(){super.destroyCallback(),this._isnObserver&&(this._observed.forEach(e=>{this._isnObserver.unobserve(e)}),this._isnObserver=null)}static get observedAttributes(){return Object.keys(Nr)}attributeChangedCallback(e,n,r){window.setTimeout(()=>{this.$[$i+e]=r})}}class zI extends jI{initCallback(){super.initCallback(),this.sub$$("src",()=>{this.init()}),this.sub$$("uuid",()=>{this.init()}),this.sub$$("lazy",e=>{this.$$("is-background-for")||(this.img.loading=e?"lazy":"eager")})}}let GI=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{"*simpleButtonText":"",onClick:()=>{this.initFlow()}}))}initCallback(){super.initCallback(),this.bindCssData("--cfg-multiple"),this.sub("--cfg-multiple",n=>{this.$["*simpleButtonText"]=this.l10n(n?"upload-files":"upload-file")})}}return t.template='\n  <lr-drop-area>\n    <button type="button" set="onclick: onClick">\n      <lr-icon name="upload"></lr-icon>\n      <span>{{*simpleButtonText}}</span>\n      <slot></slot>\n      <div class="visual-drop-area"></div>\n    </button>\n  </lr-drop-area>\n',t})();class qI extends H{constructor(){super(...arguments),_(this,"activityType","start-from")}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.add$({"*activityCaption":this.l10n("select-file-source"),"*activityIcon":"default"},!0)}})}}function WI(t){return new Promise(e=>{"function"!=typeof window.FileReader&&e(!1);try{let n=new FileReader;n.onerror=()=>{e(!0)};let r=i=>{"loadend"!==i.type&&n.abort(),e(!1)};n.onloadend=r,n.onprogress=r,n.readAsDataURL(t)}catch(n){e(!1)}})}function YI(t){return new Promise(e=>{let n=0,r=[],i=s=>{s||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),e(null)),s.isFile?(n++,s.file(a=>{n--,r.push(a),0===n&&e(r)})):s.isDirectory&&o(s.createReader())},o=s=>{n++,s.readEntries(a=>{n--;for(let l of a)i(l);0===n&&e(r)})};i(t)})}const ft={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3};let Zc=["dragleave","dragexit","dragend","drop","mouseleave","mouseout"],Xc=new Map;class JI extends ue{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{state:ft.INACTIVE}))}initCallback(){if(super.initCallback(),this._destroyDropzone=function KI(t){let e=new Set,n=l=>e.add(l),r=ft.INACTIVE,i=l=>{r!==l&&e.forEach(c=>c(l)),r=l},o=l=>{let{clientX:c,clientY:u}=l,d=document.body.getBoundingClientRect(),f="drop"===l.type,h=["dragleave","dragexit","dragend"].includes(l.type)&&0===c&&0===u,p=["mouseleave","mouseout"].includes(l.type)&&(c<0||c>d.width||u<0||u>d.height);(f||h||p)&&i(ft.INACTIVE),l.preventDefault()};n(l=>t.onChange(l)),n(l=>{l===ft.ACTIVE&&Zc.forEach(c=>{window.addEventListener(c,o,!1)})}),n(l=>{l===ft.INACTIVE&&Zc.forEach(c=>{window.removeEventListener(c,o,!1)})});let s=l=>{l.preventDefault(),r===ft.INACTIVE&&i(ft.ACTIVE);let c=[l.x,l.y],u=t.element.getBoundingClientRect(),d=Math.floor(function QI(t,e){let n=Math.max(Math.min(t[0],e.x+e.width),e.x),r=Math.max(Math.min(t[1],e.y+e.height),e.y);return Math.sqrt((t[0]-n)*(t[0]-n)+(t[1]-r)*(t[1]-r))}(c,u)),f=d<100,h=l.composedPath().includes(t.element);Xc.set(t.element,d);let p=Math.min(...Xc.values())===d;i(h&&p?ft.OVER:f&&p?ft.NEAR:ft.ACTIVE)};window.addEventListener("dragover",s,!1);let a=function(){var l=Ge(function*(c){c.preventDefault();let u=yield function ZI(t){let e=[],n=[];for(let r=0;r<t.items.length;r++){let i=t.items[r];if(i)if("file"===i.kind){if("function"==typeof i.webkitGetAsEntry||"function"==typeof i.getAsEntry){let s="function"==typeof i.webkitGetAsEntry?i.webkitGetAsEntry():i.getAsEntry();n.push(YI(s).then(a=>{e.push(...a)}));continue}let o=i.getAsFile();n.push(WI(o).then(s=>{s||e.push(o)}))}else"string"===i.kind&&i.type.match("^text/uri-list")&&n.push(new Promise(o=>{i.getAsString(s=>{e.push(s),o()})}))}return Promise.all(n).then(()=>e)}(c.dataTransfer);t.onItems(u),i(ft.INACTIVE)});return function(u){return l.apply(this,arguments)}}();return t.element.addEventListener("drop",a),()=>{Xc.delete(t.element),window.removeEventListener("dragover",s,!1),t.element.removeEventListener("drop",a),Zc.forEach(l=>{window.removeEventListener(l,o,!1)})}}({element:this,onChange:e=>{this.$.state=e},onItems:e=>{!e.length||(this.getCssData("--cfg-multiple")||(e=[e[0]]),e.forEach(n=>{if("string"==typeof n)return void this.uploadCollection.add({externalUrl:n});let r=Vc(n);this.uploadCollection.add({file:n,isImage:r,mimeType:n.type,fileName:n.name,fileSize:n.size})}),this.uploadCollection.size&&(this.set$({"*currentActivity":H.activities.UPLOAD_LIST}),this.setForCtxTarget("lr-modal","*modalActive",!0)))}}),this.sub("state",e=>{var r;const n=null==(r=Object.entries(ft).find(([,i])=>i===e))?void 0:r[0].toLowerCase();n&&this.setAttribute("drag-state",n)}),this.hasAttribute("clickable")){let e=this.getAttribute("clickable");(""===e||"true"===e)&&(this._onAreaClicked=()=>{this.openSystemDialog()},this.addEventListener("click",this._onAreaClicked))}}destroyCallback(){var e;super.destroyCallback(),null==(e=this._destroyDropzone)||e.call(this),this._onAreaClicked&&this.removeEventListener("click",this._onAreaClicked)}}let k0=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"_registeredTypes",{}),_(this,"init$",F(E({},this.ctxInit),{iconName:"default"}))}initTypes(){this.registerType({type:ue.sourceTypes.LOCAL,onClick:()=>{this.openSystemDialog()}}),this.registerType({type:ue.sourceTypes.URL,activity:H.activities.URL,textKey:"from-url"}),this.registerType({type:ue.sourceTypes.CAMERA,activity:H.activities.CAMERA}),this.registerType({type:"draw",activity:H.activities.DRAW,icon:"edit-draw"});for(let n of Object.values(ue.extSrcList))this.registerType({type:n,activity:H.activities.EXTERNAL,activityParams:{externalSourceType:n}})}initCallback(){super.initCallback(),this.initTypes(),this.setAttribute("role","button"),this.defineAccessor("type",n=>{!n||this.applyType(n)})}registerType(n){this._registeredTypes[n.type]=n}getType(n){return this._registeredTypes[n]}applyType(n){const r=this._registeredTypes[n];if(!r)return void console.warn("Unsupported source type: "+n);const{textKey:i=n,icon:o=n,activity:s,onClick:a,activityParams:l={}}=r;this.applyL10nKey("src-type",`src-type-${i}`),this.$.iconName=o,this.onclick=c=>{s&&this.set$({"*currentActivityParams":l,"*currentActivity":s}),a&&a(c)}}}return t.template='\n  <lr-icon set="@name: iconName"></lr-icon>\n  <div class="txt" l10n="src-type"></div>\n',t})();k0.bindAttributes({type:null});class tA extends ie{constructor(){super(...arguments),_(this,"cssInit$",{"--cfg-source-list":""})}initCallback(){super.initCallback(),this.sub("--cfg-source-list",e=>{if(!e)return;let n=e.split(",").map(i=>i.trim()),r="";n.forEach(i=>{r+=`<lr-source-btn type="${i}"></lr-source-btn>`}),this.getCssData("--cfg-source-list-wrap")?this.innerHTML=r:this.outerHTML=r})}}class F0{constructor(){_(this,"caption",""),_(this,"text",""),_(this,"iconName",""),_(this,"isError",!1)}}let rA=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{iconName:"info",captionTxt:"Message caption",msgTxt:"Message...","*message":null,onClose:()=>{this.$["*message"]=null}}))}initCallback(){super.initCallback(),this.sub("*message",n=>{n?(this.setAttribute("active",""),this.set$({captionTxt:n.caption||"",msgTxt:n.text||"",iconName:n.isError?"error":"info"}),n.isError?this.setAttribute("error",""):this.removeAttribute("error")):this.removeAttribute("active")})}}return t.template='\n  <div class="heading">\n    <lr-icon set="@name: iconName"></lr-icon>\n    <div class="caption">{{captionTxt}}</div>\n    <button type="button" set="onclick: onClose">\n      <lr-icon name="close"></lr-icon>\n    </button>\n  </div>\n  <div class="msg">{{msgTxt}}</div>\n',t})();function Qc(t){let e=new Blob([t],{type:"image/svg+xml"});return URL.createObjectURL(e)}function Kc(t="hsl(0, 0%, 100%)",e=36,n=36){return Qc(`\n  <svg width="${e}" height="${n}" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.5 28L25.5 27.9997V29.0024L10.5 29.0027V28Z" fill="black" fill-opacity="0.06"/>\n    <path d="M9.5 7.50029L21.25 7.5L26.5 12.75V28.4998L9.5 28.5001V7.50029Z" fill="black" fill-opacity="0.06"/>\n    <path d="M10 8.00298L21 8.00269L26 12.9998V28.0025L10 28.0027V8.00298Z" fill="${t}"/>\n    <path d="M10 8.00298L21 8.00269L26 12.9998V28.0025L10 28.0027V8.00298Z" fill="url(#paint0_linear_2735_2136)"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.793 8.50269L10.5 8.50296V27.5027L25.5 27.5025V13.2069L20.793 8.50269ZM21 8.00269L10 8.00298V28.0027L26 28.0025V12.9998L21 8.00269Z" fill="url(#paint1_radial_2735_2136)"/>\n    <path d="M21 8L26 13V14H20V8H21Z" fill="black" fill-opacity="0.03"/>\n    <path d="M21 8L26 13V13.5H20.5V8H21Z" fill="black" fill-opacity="0.08"/>\n    <path d="M21 8L26 13H21V8Z" fill="${t}"/>\n    <path d="M21 8L26 13H21V8Z" fill="url(#paint2_linear_2735_2136)"/>\n    <path d="M21 8L26 13H21V8Z" fill="url(#paint3_linear_2735_2136)"/>\n    <path d="M21.5 8.5L21 8V13H26L25.5 12.5H21.5V8.5Z" fill="url(#paint4_linear_2735_2136)"/>\n    <defs>\n      <linearGradient id="paint0_linear_2735_2136" x1="18" y1="8" x2="18" y2="28.0027" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.06"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </linearGradient>\n      <radialGradient id="paint1_radial_2735_2136" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(10 11) rotate(53.7462) scale(18.6011 18.0323)">\n        <stop stop-color="white" stop-opacity="0.12"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </radialGradient>\n      <linearGradient id="paint2_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop offset="0.40625" stop-opacity="0"/>\n        <stop offset="1" stop-opacity="0.04"/>\n      </linearGradient>\n      <linearGradient id="paint3_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.16"/>\n        <stop offset="1" stop-color="white" stop-opacity="0.06"/>\n      </linearGradient>\n      <linearGradient id="paint4_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.15"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </linearGradient>\n    </defs>\n</svg>\n  `)}const ht={FINISHED:Symbol(0),FAILED:Symbol(1),UPLOADING:Symbol(2),IDLE:Symbol(3)};class $n extends ue{constructor(){super(...arguments),_(this,"pauseRender",!0),_(this,"_entrySubs",new Set),_(this,"_entry",null),_(this,"_isIntersecting",!1),_(this,"_debouncedGenerateThumb",Ri(this._generateThumbnail.bind(this),100)),_(this,"_debouncedCalculateState",Ri(this._calculateState.bind(this),0)),_(this,"_renderedOnce",!1),_(this,"init$",F(E({},this.ctxInit),{uid:"",itemName:"",thumbUrl:"",progressValue:0,progressVisible:!1,progressUnknown:!1,notImage:!0,badgeIcon:"",isFinished:!1,isFailed:!1,isUploading:!1,isFocused:!1,state:ht.IDLE,"*uploadTrigger":null,onEdit:()=>{this.set$({"*focusedEntry":this._entry,"*currentActivity":H.activities.DETAILS})},onRemove:()=>{let e=this._entry.getValue("uuid");if(e){let n=this.getOutputData(r=>r.getValue("uuid")===e);Mt.emit(new sn({type:dt.REMOVE,ctx:this.ctxName,data:n}))}this.uploadCollection.remove(this.$.uid)},onUpload:()=>{this.upload()}}))}_reset(){for(let e of this._entrySubs)e.remove();this._debouncedGenerateThumb.cancel(),this._entrySubs=new Set,this._entry=null,this._isIntersecting=!1}_observerCallback(e){let[n]=e;this._isIntersecting=n.isIntersecting,n.isIntersecting&&!this._renderedOnce&&(this.render(),this._renderedOnce=!0),0===n.intersectionRatio?this._debouncedGenerateThumb.cancel():this._debouncedGenerateThumb()}_calculateState(){let e=this._entry,n=ht.IDLE;e.getValue("uploadError")||e.getValue("validationErrorMsg")?n=ht.FAILED:e.getValue("isUploading")?n=ht.UPLOADING:e.getValue("uuid")&&(n=ht.FINISHED),this.$.state!==n&&(this.$.state=n)}_generateThumbnail(){var e=this;return Ge(function*(){var r;let n=e._entry;if(n.getValue("uuid")&&n.getValue("isImage")){let i=e.getCssData("--cfg-thumb-size")||76,o=e.proxyUrl(St(ws(e.getCssData("--cfg-cdn-cname"),e._entry.getValue("uuid")),Cn(n.getValue("cdnUrlModifiers"),`scale_crop/${i}x${i}/center`))),s=n.getValue("thumbUrl");return n.setValue("thumbUrl",o),void URL.revokeObjectURL(s)}if(!n.getValue("thumbUrl"))if(null==(r=n.getValue("file"))?void 0:r.type.includes("image"))try{let i=yield function nA(t,e=40){if("image/svg+xml"===t.type)return URL.createObjectURL(t);let n=document.createElement("canvas"),r=n.getContext("2d"),i=new Image,o=new Promise((s,a)=>{i.onload=()=>{let l=i.height/i.width;l>1?(n.width=e,n.height=e*l):(n.height=e,n.width=e/l),r.fillStyle="rgb(240, 240, 240)",r.fillRect(0,0,n.width,n.height),r.drawImage(i,0,0,n.width,n.height),n.toBlob(c=>{if(!c)return void a();let u=URL.createObjectURL(c);s(u)})},i.onerror=l=>{a(l)}});return i.src=URL.createObjectURL(t),o}(n.getValue("file"),e.getCssData("--cfg-thumb-size")||76);n.setValue("thumbUrl",i)}catch(i){let o=window.getComputedStyle(e).getPropertyValue("--clr-generic-file-icon");n.setValue("thumbUrl",Kc(o))}else{let i=window.getComputedStyle(e).getPropertyValue("--clr-generic-file-icon");n.setValue("thumbUrl",Kc(i))}})()}_showMessage(e,n,r){let i=new F0;i.caption=n,i.text=r,i.isError="error"===e,this.set$({badgeIcon:`badge-${e}`,"*message":i})}_subEntry(e,n){let r=this._entry.subscribe(e,n);this._entrySubs.add(r)}_handleEntryId(e){var r;this._reset();let n=null==(r=this.uploadCollection)?void 0:r.read(e);this._entry=n,n&&(this._subEntry("validationErrorMsg",i=>{var s;if(this._debouncedCalculateState(),!i)return;let o=this.l10n("validation-error")+": "+((null==(s=n.getValue("file"))?void 0:s.name)||n.getValue("externalUrl"));this._showMessage("error",o,i)}),this._subEntry("uploadError",i=>{var s;if(this._debouncedCalculateState(),!i)return;let o=this.l10n("upload-error")+": "+((null==(s=n.getValue("file"))?void 0:s.name)||n.getValue("externalUrl"));this._showMessage("error",o,i.message)}),this._subEntry("isUploading",()=>{this._debouncedCalculateState()}),this._subEntry("uploadProgress",i=>{this.$.progressValue=i}),this._subEntry("fileName",i=>{this.$.itemName=i||n.getValue("externalUrl")||this.l10n("file-no-name")}),this._subEntry("fileSize",i=>{let o=this.getCssData("--cfg-max-local-file-size-bytes");o&&i&&i>o&&n.setValue("validationErrorMsg",this.l10n("files-max-size-limit-error",{maxFileSize:o}))}),this._subEntry("mimeType",i=>{if(!i)return;let o=this.getCssData("--cfg-img-only"),s=this.getCssData("--cfg-accept"),a=r0([...o?$c:[],s]);a.length>0&&!o0(i,a)&&n.setValue("validationErrorMsg",this.l10n("file-type-not-allowed"))}),this._subEntry("isImage",i=>{let o=this.getCssData("--cfg-img-only");n.getValue("externalUrl")&&!n.getValue("uuid")&&o&&!i||o&&!i&&n.setValue("validationErrorMsg",this.l10n("images-only-accepted"))}),this._subEntry("externalUrl",i=>{this.$.itemName=n.getValue("fileName")||i||this.l10n("file-no-name")}),this._subEntry("uuid",i=>{this._debouncedCalculateState(),i&&this._debouncedGenerateThumb()}),this._subEntry("cdnUrlModifiers",()=>{this._debouncedGenerateThumb()}),this._subEntry("thumbUrl",i=>{this.$.thumbUrl=i?`url(${i})`:""}),this.getCssData("--cfg-confirm-upload")||this.upload(),this._isIntersecting&&this._debouncedGenerateThumb())}initCallback(){super.initCallback(),this.sub("uid",e=>{this._handleEntryId(e)}),this.sub("state",e=>{this.set$({isFailed:e===ht.FAILED,isUploading:e===ht.UPLOADING,isFinished:e===ht.FINISHED,progressVisible:e===ht.UPLOADING}),e===ht.FAILED?this.$.badgeIcon="badge-error":e===ht.FINISHED&&(this.$.badgeIcon="badge-success"),e===ht.UPLOADING?this.$.isFocused=!1:this.$.progressValue=0}),this.onclick=()=>{$n.activeInstances.forEach(e=>{e===this?e.setAttribute("focused",""):e.removeAttribute("focused")})},this.$["*uploadTrigger"]=null,this.sub("*uploadTrigger",e=>{!e||!this.isConnected||this.upload()}),$n.activeInstances.add(this)}destroyCallback(){super.destroyCallback(),$n.activeInstances.delete(this),this._reset()}connectedCallback(){super.connectedCallback(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{root:this.parentElement,rootMargin:"50% 0px 50% 0px",threshold:[0,1]}),this._observer.observe(this)}disconnectedCallback(){var e;super.disconnectedCallback(),this._debouncedGenerateThumb.cancel(),null==(e=this._observer)||e.disconnect()}upload(){var e=this;return Ge(function*(){let n=e._entry;if(n.getValue("uuid")||n.getValue("isUploading")||n.getValue("validationErrorMsg"))return;let r=e.getOutputData(i=>!i.getValue("uuid"));Mt.emit(new sn({type:dt.UPLOAD_START,ctx:e.ctxName,data:r})),e._debouncedCalculateState(),n.setValue("isUploading",!0),n.setValue("uploadError",null),n.setValue("validationErrorMsg",null),!n.getValue("file")&&n.getValue("externalUrl")&&(e.$.progressUnknown=!0);try{let i=new AbortController;n.setValue("abortController",i);let o=yield Wc(n.getValue("file")||n.getValue("externalUrl"),F(E({},e.getUploadClientOptions()),{fileName:n.getValue("fileName"),onProgress:s=>{s.isComputable&&n.setValue("uploadProgress",100*s.value),e.$.progressUnknown=!s.isComputable},signal:i.signal}));n===e._entry&&e._debouncedCalculateState(),n.setMultipleValues({fileInfo:o,isUploading:!1,fileName:o.name,fileSize:o.size,isImage:o.isImage,mimeType:o.mimeType,uuid:o.uuid,cdnUrl:o.cdnUrl})}catch(i){n.setValue("abortController",null),n.setValue("isUploading",!1),n.setValue("uploadProgress",0),n===e._entry&&e._debouncedCalculateState(),(null==i?void 0:i.isCancel)||n.setValue("uploadError",i)}})()}}$n.template='\n  <div class="inner" set="@finished: isFinished; @uploading: isUploading; @failed: isFailed; @focused: isFocused">\n    <div class="thumb" set="style.backgroundImage: thumbUrl">\n      <div class="badge">\n        <lr-icon set="@name: badgeIcon"></lr-icon>\n      </div>\n    </div>\n    <div class="file-name-wrapper">\n      <span class="file-name" set="@title: itemName">{{itemName}}</span>\n    </div>\n    <button type="button" class="edit-btn" set="onclick: onEdit;">\n      <lr-icon name="edit-file"></lr-icon>\n    </button>\n    <button type="button" class="remove-btn" set="onclick: onRemove;">\n      <lr-icon name="remove-file"></lr-icon>\n    </button>\n    <button type="button" class="upload-btn" set="onclick: onUpload;">\n      <lr-icon name="upload"></lr-icon>\n    </button>\n    <lr-progress-bar\n      class="progress-bar"\n      set="value: progressValue; visible: progressVisible; unknown: progressUnknown"\n    >\n    </lr-progress-bar>\n  </div>\n',$n.activeInstances=new Set;let sA=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{"*modalActive":!1,"*modalHeaderHidden":!1,"*modalCloseCallback":null,closeClicked:()=>{this.$["*modalCloseCallback"]?this.$["*modalCloseCallback"]():this.set$({"*modalActive":!1,"*currentActivity":""})}}))}initCallback(){super.initCallback(),this.sub("*modalActive",n=>{n?this.setAttribute("active",""):this.removeAttribute("active"),n&&this.getCssData("--cfg-modal-scroll-lock")?document.body.style.overflow="hidden":document.body.style.overflow=null}),this.getCssData("--cfg-modal-backdrop-strokes")&&(this.style.backgroundImage=`url(${function oA(t="rgba(0, 0, 0, .1)"){return Qc(`<svg height="10" width="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <line x1="0" y1="10" x2="10" y2="0" stroke="${t}" />\n  </svg>`)}()})`)}}return t.template='\n  <div class="dialog">\n    <div class="heading" set="@hidden: *modalHeaderHidden">\n      <slot name="heading"></slot>\n      <button type="button" class="close-btn" set="onclick: closeClicked">\n        <lr-icon name="close"></lr-icon>\n      </button>\n    </div>\n    <div class="content">\n      <slot></slot>\n    </div>\n  </div>\n',t})();class N0{constructor(){_(this,"captionL10nStr","confirm-your-action"),_(this,"messageL10Str","are-you-sure"),_(this,"confirmL10nStr","yes"),_(this,"denyL10nStr","no")}confirmAction(){console.log("Confirmed")}denyAction(){this.historyBack()}}let aA=(()=>{class t extends H{constructor(){super(...arguments),_(this,"activityType",H.activities.CONFIRMATION),_(this,"_defaults",new N0),_(this,"init$",F(E({},this.ctxInit),{messageTxt:"",confirmBtnTxt:"",denyBtnTxt:"","*confirmation":null,onConfirm:this._defaults.confirmAction,onDeny:this._defaults.denyAction.bind(this)}))}initCallback(){super.initCallback(),this.set$({messageTxt:this.l10n(this._defaults.messageL10Str),confirmBtnTxt:this.l10n(this._defaults.confirmL10nStr),denyBtnTxt:this.l10n(this._defaults.denyL10nStr)}),this.sub("*confirmation",n=>{!n||this.set$({"*modalHeaderHidden":!0,"*currentActivity":H.activities.CONFIRMATION,"*activityCaption":this.l10n(n.captionL10nStr),messageTxt:this.l10n(n.messageL10Str),confirmBtnTxt:this.l10n(n.confirmL10nStr),denyBtnTxt:this.l10n(n.denyL10nStr),onDeny:()=>{this.$["*modalHeaderHidden"]=!1,n.denyAction()},onConfirm:()=>{this.$["*modalHeaderHidden"]=!1,n.confirmAction()}})})}}return t.template='\n  <div class="message">{{messageTxt}}</div>\n  <div class="toolbar">\n    <button type="button" class="deny-btn secondary-btn" set="onclick: onDeny">{{denyBtnTxt}}</button>\n    <button type="button" class="confirm-btn primary-btn" set="onclick: onConfirm">{{confirmBtnTxt}}</button>\n  </div>\n',t})(),lA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"activityType",H.activities.UPLOAD_LIST),_(this,"init$",F(E({},this.ctxInit),{doneBtnVisible:!1,doneBtnEnabled:!1,uploadBtnVisible:!1,uploadBtnEnabled:!1,addMoreBtnVisible:!1,addMoreBtnEnabled:!1,hasFiles:!1,onAdd:()=>{this.initFlow(!0)},onUpload:()=>{this.$["*uploadTrigger"]={},this._updateUploadsState()},onDone:()=>{this.cancelFlow()},onCancel:()=>{let n=new N0;n.confirmAction=()=>{let r=this.getOutputData(i=>!!i.getValue("uuid"));Mt.emit(new sn({type:dt.REMOVE,ctx:this.ctxName,data:r})),this.uploadCollection.clearAll(),this.historyBack()},n.denyAction=()=>{this.historyBack()},this.$["*confirmation"]=n}})),_(this,"cssInit$",{"--cfg-show-empty-list":0,"--cfg-multiple":1,"--cfg-multiple-min":0,"--cfg-multiple-max":0,"--cfg-confirm-upload":1,"--cfg-source-list":""}),_(this,"_debouncedHandleCollectionUpdate",Ri(()=>{this._updateUploadsState(),this._updateCountLimitMessage()},0))}_validateFilesCount(){var u,d;let n=!!this.getCssData("--cfg-multiple"),r=n?null!=(u=this.getCssData("--cfg-multiple-min"))?u:0:1,i=n?null!=(d=this.getCssData("--cfg-multiple-max"))?d:0:1,o=this.uploadCollection.size,s=!!r&&o<r,a=!!i&&o>i;return{passed:!s&&!a,tooFew:s,tooMany:a,min:r,max:i,exact:i===o}}_updateCountLimitMessage(){let n=this.uploadCollection.size,r=this._validateFilesCount();if(n&&!r.passed){let i=new F0,o=r.tooFew?"files-count-limit-error-too-few":"files-count-limit-error-too-many";i.caption=this.l10n("files-count-limit-error-title"),i.text=this.l10n(o,{min:r.min,max:r.max,total:n}),i.isError=!0,this.set$({"*message":i})}}_updateUploadsState(){let n=this.uploadCollection.items(),i={total:n.length,succeed:0,uploading:0,failed:0};for(let f of n){let h=this.uploadCollection.read(f);h.getValue("uuid")&&!h.getValue("validationErrorMsg")&&(i.succeed+=1),h.getValue("isUploading")&&(i.uploading+=1),(h.getValue("validationErrorMsg")||h.getValue("uploadError"))&&(i.failed+=1)}let o=i.total===i.succeed+i.failed,{passed:s,tooMany:a,exact:l}=this._validateFilesCount();this.set$({doneBtnVisible:o,doneBtnEnabled:i.total>0&&s&&0===i.failed,uploadBtnVisible:!o,uploadBtnEnabled:i.total-i.succeed-i.uploading-i.failed>0&&s,addMoreBtnEnabled:0===i.total||!a&&!l,addMoreBtnVisible:!l||this.getCssData("--cfg-multiple")})}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.set$({"*activityCaption":this.l10n("selected"),"*activityIcon":"local"})}}),this.sub("--cfg-multiple",this._debouncedHandleCollectionUpdate),this.sub("--cfg-multiple-min",this._debouncedHandleCollectionUpdate),this.sub("--cfg-multiple-max",this._debouncedHandleCollectionUpdate),this.sub("*currentActivity",n=>{var r;0===(null==(r=this.uploadCollection)?void 0:r.size)&&!this.getCssData("--cfg-show-empty-list")&&n===this.activityType&&(this.$["*currentActivity"]=this.initActivity)}),this.uploadCollection.observe(this._debouncedHandleCollectionUpdate),this.sub("*uploadList",n=>{this._debouncedHandleCollectionUpdate(),this.set$({hasFiles:n.length>0}),0===(null==n?void 0:n.length)&&!this.getCssData("--cfg-show-empty-list")&&this.cancelFlow()})}destroyCallback(){super.destroyCallback(),this.uploadCollection.unobserve(this._debouncedHandleCollectionUpdate)}}return t.template='\n  <div class="no-files" set="@hidden: hasFiles">\n    <slot name="empty"><span l10n="no-files"></span></slot>\n  </div>\n\n  <div class="files" repeat="*uploadList" repeat-item-tag="lr-file-item"></div>\n\n  <div class="toolbar">\n    <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel;" l10n="clear"></button>\n    <div class="toolbar-spacer"></div>\n    <button\n      type="button"\n      class="add-more-btn secondary-btn"\n      set="onclick: onAdd; @disabled: !addMoreBtnEnabled; @hidden: !addMoreBtnVisible"\n      l10n="add-more"\n    ></button>\n    <button\n      type="button"\n      class="upload-btn primary-btn"\n      set="@hidden: !uploadBtnVisible; onclick: onUpload; @disabled: !uploadBtnEnabled"\n      l10n="upload"\n    ></button>\n    <button\n      type="button"\n      class="done-btn primary-btn"\n      set="@hidden: !doneBtnVisible; onclick: onDone;  @disabled: !doneBtnEnabled"\n      l10n="done"\n    ></button>\n  </div>\n',t})(),cA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"activityType",H.activities.URL),_(this,"init$",F(E({},this.ctxInit),{importDisabled:!0,onUpload:()=>{this.uploadCollection.add({externalUrl:this.ref.input.value}),this.$["*currentActivity"]=H.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()},onInput:n=>{this.set$({importDisabled:!n.target.value})}}))}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{this.set$({"*activityCaption":this.l10n("caption-from-url"),"*activityIcon":"url"})},onClose:()=>this.historyBack()})}}return t.template='\n  <input placeholder="https://..." .url-input type="text" ref="input" set="oninput: onInput" />\n  <button type="button" class="url-upload-btn primary-btn" set="onclick: onUpload; @disabled: importDisabled"></button>\n  <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel" l10n="cancel"></button>\n',t})();const R0=()=>void 0!==navigator.permissions;let uA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"activityType",H.activities.CAMERA),_(this,"_unsubPermissions",null),_(this,"init$",F(E({},this.ctxInit),{video:null,videoTransformCss:null,shotBtnDisabled:!1,videoHidden:!1,messageHidden:!0,requestBtnHidden:R0(),l10nMessage:null,cameraSelectOptions:null,cameraSelectHidden:!0,onCameraSelectChange:n=>{this._selectedCameraId=n.target.value,this._capture()},onCancel:()=>{this.historyBack()},onShot:()=>{this._shot()},onRequestPermissions:()=>{this._capture()}})),_(this,"cssInit$",{"--cfg-camera-mirror":1}),_(this,"_onActivate",()=>{this.set$({"*activityCaption":this.l10n("caption-camera"),"*activityIcon":"camera"}),R0()&&this._subscribePermissions(),this._capture()}),_(this,"_onDeactivate",()=>{this._unsubPermissions&&this._unsubPermissions(),this._stopCapture()}),_(this,"_onClose",()=>{this.historyBack()}),_(this,"_handlePermissionsChange",()=>{this._capture()}),_(this,"_setPermissionsState",Ri(n=>{"granted"===n?this.set$({videoHidden:!1,shotBtnDisabled:!1,messageHidden:!0}):"prompt"===n?(this.$.l10nMessage=this.l10n("camera-permissions-prompt"),this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage=this.l10n("camera-permissions-denied"),this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture())},300))}_subscribePermissions(){var n=this;return Ge(function*(){try{(yield navigator.permissions.query({name:"camera"})).addEventListener("change",n._handlePermissionsChange)}catch(r){console.log("Failed to use permissions API. Fallback to manual request mode.",r),n._capture()}})()}_capture(){var n=this;return Ge(function*(){let r={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1};n._selectedCameraId&&(r.video.deviceId={exact:n._selectedCameraId}),n._canvas=document.createElement("canvas"),n._ctx=n._canvas.getContext("2d");try{n._setPermissionsState("prompt");let i=yield navigator.mediaDevices.getUserMedia(r);i.addEventListener("inactive",()=>{n._setPermissionsState("denied")}),n.$.video=i,n._capturing=!0,n._setPermissionsState("granted")}catch(i){n._setPermissionsState("denied")}})()}_stopCapture(){var n;this._capturing&&(null==(n=this.$.video)||n.getTracks()[0].stop(),this.$.video=null,this._capturing=!1)}_shot(){this._canvas.height=this.ref.video.videoHeight,this._canvas.width=this.ref.video.videoWidth,this._ctx.drawImage(this.ref.video,0,0);let n=Date.now(),r=`camera-${n}.png`;this._canvas.toBlob(i=>{let o=new File([i],r,{lastModified:n,type:"image/png"});this.uploadCollection.add({file:o,fileName:r,fileSize:o.size,isImage:!0,mimeType:o.type}),this.set$({"*currentActivity":H.activities.UPLOAD_LIST})})}initCallback(){var n=()=>super.initCallback,r=this;return Ge(function*(){n().call(r),r.registerActivity(r.activityType,{onActivate:r._onActivate,onDeactivate:r._onDeactivate,onClose:r._onClose}),r.sub("--cfg-camera-mirror",s=>{r.$.videoTransformCss=s?"scaleX(-1)":null});let o=(yield navigator.mediaDevices.enumerateDevices()).filter(s=>"videoinput"===s.kind).map((s,a)=>({text:s.label.trim()||`${r.l10n("caption-camera")} ${a+1}`,value:s.deviceId}));o.length>1&&(r.$.cameraSelectOptions=o,r.$.cameraSelectHidden=!1)})()}}return t.template='\n  <div class="content">\n    <video\n      autoplay\n      playsinline\n      set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"\n      ref="video"\n    ></video>\n    <div class="message-box" set="@hidden: messageHidden">\n      <span>{{l10nMessage}}</span>\n      <button\n        type="button"\n        set="onclick: onRequestPermissions; @hidden: requestBtnHidden"\n        l10n="camera-permissions-request"\n      ></button>\n    </div>\n  </div>\n\n  <div class="toolbar">\n    <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel" l10n="cancel"></button>\n    <lr-select set="$.options: cameraSelectOptions; @hidden: cameraSelectHidden; onchange: onCameraSelectChange">\n    </lr-select>\n    <button\n      type="button"\n      class="shot-btn primary-btn"\n      set="onclick: onShot; @disabled: shotBtnDisabled"\n      l10n="camera-shot"\n    ></button>\n  </div>\n',t})();class dA extends ue{}let fA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"activityType",H.activities.DETAILS),_(this,"pauseRender",!0),_(this,"init$",F(E({},this.ctxInit),{checkerboard:!1,fileSize:null,fileName:"",cdnUrl:"",errorTxt:"",cloudEditBtnHidden:!0,onNameInput:null,onBack:()=>{this.historyBack()},onRemove:()=>{this.uploadCollection.remove(this.entry.uid),this.historyBack()},onCloudEdit:()=>{this.entry.getValue("uuid")&&(this.$["*currentActivity"]=H.activities.CLOUD_IMG_EDIT)}})),_(this,"cssInit$",{"--cfg-use-cloud-image-editor":0,"--cfg-use-local-image-editor":0})}showNonImageThumb(){let r=Kc(window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon"),108,108);this.ref.filePreview.setImageUrl(r),this.set$({checkerboard:!1})}initCallback(){super.initCallback(),this.render(),this.$.fileSize=this.l10n("file-size-unknown"),this.registerActivity(this.activityType,{onActivate:()=>{this.set$({"*activityCaption":this.l10n("caption-edit-file")})},onDeactivate:()=>{this.ref.filePreview.clear()},onClose:()=>this.historyBack()}),this.sub("*focusedEntry",n=>{if(!n)return;this._entrySubs?this._entrySubs.forEach(o=>{this._entrySubs.delete(o),o.remove()}):this._entrySubs=new Set,this.entry=n;let r=n.getValue("file");if(r){this._file=r;let o=Vc(this._file);o&&!n.getValue("cdnUrl")&&(this.ref.filePreview.setImageFile(this._file),this.set$({checkerboard:!0})),o||this.showNonImageThumb()}let i=(o,s)=>{this._entrySubs.add(this.entry.subscribe(o,s))};i("fileName",o=>{this.$.fileName=o,this.$.onNameInput=()=>{let s=this.ref.file_name_input.value;Object.defineProperty(this._file,"name",{writable:!0,value:s}),this.entry.setValue("fileName",s)}}),i("fileSize",o=>{this.$.fileSize=Number.isFinite(o)?this.fileSizeFmt(o):this.l10n("file-size-unknown")}),i("uploadError",o=>{this.$.errorTxt=null==o?void 0:o.message}),i("externalUrl",o=>{!o||this.entry.getValue("uuid")||this.showNonImageThumb()}),i("cdnUrl",o=>{const s=this.$["--cfg-use-cloud-image-editor"]&&o&&this.entry.getValue("isImage");if(o&&this.ref.filePreview.clear(),this.set$({cdnUrl:o,cloudEditBtnHidden:!s}),o&&this.entry.getValue("isImage")){let a=St(o,Cn("format/auto","preview"));this.ref.filePreview.setImageUrl(this.proxyUrl(a))}})})}}return t.template='\n  <lr-tabs tab-list="tab-view, tab-details">\n    <div tab-ctx="tab-details" class="details">\n      <div class="info-block">\n        <div class="info-block_name" l10n="file-name"></div>\n        <input\n          name="name-input"\n          ref="file_name_input"\n          set="value: fileName; oninput: onNameInput; @disabled: !!cdnUrl"\n          type="text"\n        />\n      </div>\n\n      <div class="info-block">\n        <div class="info-block_name" l10n="file-size"></div>\n        <div>{{fileSize}}</div>\n      </div>\n\n      <div class="info-block">\n        <div class="info-block_name" l10n="cdn-url"></div>\n        <a class="cdn-link" target="_blank" set="@href: cdnUrl; @disabled: !cdnUrl">{{cdnUrl}}</a>\n      </div>\n\n      <div>{{errorTxt}}</div>\n    </div>\n\n    <lr-file-preview tab-ctx="tab-view" set="@checkerboard: checkerboard;" ref="filePreview"> </lr-file-preview>\n  </lr-tabs>\n\n  <div class="toolbar" set="@edit-disabled: cloudEditBtnHidden">\n    <button type="button" class="edit-btn secondary-btn" set="onclick: onCloudEdit; @hidden: cloudEditBtnHidden;">\n      <lr-icon name="edit"></lr-icon>\n      <span l10n="edit-image"></span>\n    </button>\n    <button type="button" class="remove-btn secondary-btn" set="onclick: onRemove">\n      <lr-icon name="remove"></lr-icon>\n      <span l10n="remove-from-list"></span>\n    </button>\n    <div></div>\n    <button type="button" class="back-btn primary-btn" set="onclick: onBack">\n      <span l10n="ok"></span>\n    </button>\n  </div>\n',t})(),hA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{visible:!1,unknown:!1,value:0,"*commonProgress":0}))}initCallback(){super.initCallback(),this.uploadCollection.observe(()=>{let n=this.uploadCollection.items().some(r=>this.uploadCollection.read(r).getValue("isUploading"));this.$.visible=n}),this.sub("visible",n=>{n?this.setAttribute("active",""):this.removeAttribute("active")}),this.sub("*commonProgress",n=>{this.$.value=n})}}return t.template='\n  <lr-progress-bar set="visible: visible; unknown: unknown; value: value"></lr-progress-bar>\n',t})(),pA=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"_value",0),_(this,"_unknownMode",!1),_(this,"init$",F(E({},this.ctxInit),{width:0,opacity:0}))}initCallback(){super.initCallback(),this.defineAccessor("value",n=>{void 0!==n&&(this._value=n,this._unknownMode||this.style.setProperty("--l-width",this._value.toString()))}),this.defineAccessor("visible",n=>{this.ref.line.classList.toggle("progress--hidden",!n)}),this.defineAccessor("unknown",n=>{this._unknownMode=n,this.ref.line.classList.toggle("progress--unknown",n)})}}return t.template=' <div ref="line" class="progress"></div> ',t})();const En="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";let P0=(()=>{class t extends ie{constructor(){super(),_(this,"init$",F(E({},this.ctxInit),{checkerboard:!1,src:En}))}initCallback(){super.initCallback(),this.sub("checkerboard",()=>{this.style.backgroundImage=this.hasAttribute("checkerboard")?`url(${function iA(t="#fff",e="rgba(0, 0, 0, .1)"){return Qc(`<svg height="20" width="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <rect x="0" y="0" width="20" height="20" fill="${t}" />\n    <rect x="0" y="0" width="10" height="10" fill="${e}" />\n    <rect x="10" y="10" width="10" height="10" fill="${e}" />\n  </svg>`)}()})`:"unset"})}destroyCallback(){super.destroyCallback(),URL.revokeObjectURL(this._lastObjectUrl)}setImage(n){this.$.src=n.src}setImageFile(n){let r=URL.createObjectURL(n);this.$.src=r,this._lastObjectUrl=r}setImageUrl(n){this.$.src=n}clear(){URL.revokeObjectURL(this._lastObjectUrl),this.$.src=En}}return t.template=' <lr-img class="img-view" ref="img" set="@src: src; style.aa: src;" /> ',t})();function L0(...t){return t.reduce((e,n)=>{if("string"==typeof n)return e[n]=!0,e;for(let r of Object.keys(n))e[r]=n[r];return e},{})}function $e(...t){let e=L0(...t);return Object.keys(e).reduce((n,r)=>(e[r]&&n.push(r),n),[]).join(" ")}function Vi(t,e){let n,r=(...i)=>{clearTimeout(n),n=setTimeout(()=>t(...i),e)};return r.cancel=()=>{clearTimeout(n)},r}function Ds(t){let e=new Image;return{promise:new Promise((i,o)=>{e.src=t,e.onload=i,e.onerror=o}),image:e,cancel:()=>{0===e.naturalWidth&&(e.src=En)}}}function Jc(t){let e=[];for(let o of t){let s=Ds(o);e.push(s)}let n=e.map(o=>o.image);return{promise:Promise.allSettled(e.map(o=>o.promise)),images:n,cancel:()=>{e.forEach(o=>{o.cancel()})}}}P0.bindAttributes({checkerboard:"checkerboard"});const pt={brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0},vA=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function eu(t){return Yc(...vA.filter(e=>null!=t[e]).map(e=>function mA(t,e){if("number"==typeof e)return pt[t]!==e?`${t}/${e}`:"";if("boolean"==typeof e)return e&&pt[t]!==e?`${t}`:"";if("filter"===t){if(!e||pt[t]===e.amount)return"";let{name:n,amount:r}=e;return`${t}/${n}/${r}`}if("crop"===t){if(!e)return"";let{dimensions:n,coords:r}=e;return`${t}/${n.join("x")}/${r.join(",")}`}return""}(e,t[e])).filter(e=>!!e))}const O0=Yc("format/auto","progressive/yes"),bA=`\n  <div class="wrapper wrapper_desktop">\n    <lr-presence-toggle class="network_problems_splash" set="visible: presence.networkProblems;">\n      <div class="network_problems_content">\n        <div class="network_problems_icon">\n          <lr-icon size="20" name="sad"></lr-icon>\n        </div>\n        <div class="network_problems_text">Network error</div>\n      </div>\n      <div class="network_problems_footer">\n        <lr-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></lr-btn-ui>\n      </div>\n    </lr-presence-toggle>\n    <div class="viewport">\n      <div class="file_type_outer">\n        <div class="file_type">{{fileType}}</div>\n      </div>\n      <div class="image_container" ref="img-container-el">\n        <img src="${En}" class="image image_visible_from_editor" ref="img-el" />\n        <lr-editor-image-cropper ref="cropper-el"></lr-editor-image-cropper>\n        <lr-editor-image-fader ref="fader-el"></lr-editor-image-fader>\n      </div>\n      <div class="info_pan">{{msg}}</div>\n    </div>\n    <div class="toolbar">\n      <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>\n      <div class="toolbar_content toolbar_content__editor">\n        <lr-editor-toolbar></lr-editor-toolbar>\n      </div>\n    </div>\n  </div>\n`,tu=["crop","sliders","filters"],_A=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],wA=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],DA=["rotate","mirror","flip"],Bi={brightness:{zero:pt.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:pt.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:pt.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:pt.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:pt.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:pt.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:pt.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:pt.enhance,range:[0,100],keypointsNumber:1},filter:{zero:pt.filter,range:[0,100],keypointsNumber:1}};function Cs(t,e,n){let i=window.devicePixelRatio,o=Math.min(Math.ceil(e*i),3e3),s=i>=2?"lightest":"normal";return St(t,Cn(O0,eu(n),`quality/${s}`,`stretch/off/-/resize/${o}x`))}let nu=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",E(E({},this.ctxInit),function yA(t){return{"*originalUrl":null,"*tabId":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*networkProblems":!1,"*imageSize":null,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:En,fileType:"",showLoader:!1,uuid:null,"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let e=t.querySelectorAll("img");for(let n of e){let r=n.src;n.src=En,n.src=r}t.$["*networkProblems"]=!1},"*on.apply":e=>{if(!e)return;let n=t.$["*originalUrl"],r=Cn(eu(e)),i=St(n,Cn(r,"preview"));t.dispatchEvent(new CustomEvent("apply",{detail:{originalUrl:n,cdnUrlModifiers:r,cdnUrl:i,transformations:e}})),t.remove()},"*on.cancel":()=>{t.remove(),t.dispatchEvent(new CustomEvent("cancel"))}}}(this))),_(this,"_debouncedShowLoader",Vi(this._showLoader.bind(this),300)),_(this,"cssInit$",{"--cfg-cdn-cname":"https://ucarecdn.com"})}get ctxName(){return this.autoCtxName}_showLoader(n){this.$.showLoader=n}_loadImageFromCdn(){this._debouncedShowLoader(!0);let n=this._imageSrc(),{promise:r,cancel:i}=Ds(n);r.then(()=>{this.$.src=n}).catch(o=>{this.$["*networkProblems"]=!0,this._debouncedShowLoader(!1),this.$.src=n}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=i}_imageSrc(){let{width:n}=this.ref["img-container-el"].getBoundingClientRect();return this.proxyUrl(Cs(this.$["*originalUrl"],n,{}))}_waitForSize(){return new Promise((n,r)=>{let o=Date.now(),s=()=>{if(!this.isConnected)return clearInterval(a),void r();if(Date.now()-o>300)return clearInterval(a),void r(new Error("[cloud-image-editor] timout waiting for non-zero container size"));let{width:l,height:c}=this.getBoundingClientRect();l>0&&c>0&&(clearInterval(a),n())},a=setInterval(s,50);s()})}initCallback(){var n=this;return Ge(function*(){n.$["*originalUrl"]=ws(n.localCtx.read("--cfg-cdn-cname"),n.$.uuid),n.$["*faderEl"]=n.ref["fader-el"],n.$["*cropperEl"]=n.ref["cropper-el"],n.$["*imgContainerEl"]=n.ref["img-container-el"],n.classList.add("editor_ON"),n.sub("*networkProblems",r=>{n.$["presence.networkProblems"]=r,n.$["presence.modalCaption"]=!r}),n.ref["img-el"].addEventListener("load",r=>{n._imgLoading=!1,n._debouncedShowLoader(!1),n.$.src!==En&&(n.$["*networkProblems"]=!1)}),n.ref["img-el"].addEventListener("error",r=>{n._imgLoading=!1,n._debouncedShowLoader(!1),n.$["*networkProblems"]=!0}),n.sub("src",r=>{let i=n.ref["img-el"];i.src!==r&&(n._imgLoading=!0,i.src=r||En)}),n.sub("*tabId",r=>{n.ref["img-el"].className=$e("image",{image_hidden_to_cropper:"crop"===r,image_hidden_effects:"crop"!==r})});try{fetch(St(n.$["*originalUrl"],Cn("json"))).then(r=>r.json()).then(({width:r,height:i})=>{n.$["*imageSize"]={width:r,height:i}}),yield n._waitForSize(),n._loadImageFromCdn()}catch(r){r&&console.error("Failed to load image info",r)}})()}}return t.template=bA,t})();nu.bindAttributes({uuid:"uuid"});class CA extends ue{constructor(){super(...arguments),_(this,"activityType",H.activities.CLOUD_IMG_EDIT),_(this,"init$",F(E({},this.ctxInit),{uuid:null}))}initCallback(){super.initCallback(),this.bindCssData("--cfg-pubkey"),this.registerActivity(this.activityType,{onActivate:()=>this.mountEditor(),onDeactivate:()=>this.unmountEditor(),onClose:()=>this.historyBack()}),this.sub("*focusedEntry",e=>{!e||(this.entry=e,this.entry.subscribe("uuid",n=>{n&&(this.$.uuid=n)}))})}handleApply(e){let n=e.detail;this.entry.setMultipleValues({cdnUrl:n.cdnUrl,cdnUrlModifiers:n.cdnUrlModifiers}),this.historyBack()}handleCancel(){this.historyBack()}mountEditor(){let e=new nu;e.classList.add("lr-cldtr-common"),e.setAttribute("uuid",this.$.uuid),e.addEventListener("apply",r=>this.handleApply(r)),e.addEventListener("cancel",()=>this.handleCancel()),this.innerHTML="",this.appendChild(e)}unmountEditor(){this.innerHTML=""}}let xn={};function IA({textColor:t,backgroundColor:e,linkColor:n,linkColorHover:r,shadeColor:i}){let o=`solid 1px ${i}`;return(t=>Object.keys(t).reduce((n,r)=>{let i=t[r];return n+`${r}{${Object.keys(i).reduce((s,a)=>s+`${a}: ${i[a]};`,"")}}`},""))({body:{color:t,"background-color":e},".side-bar":{background:"inherit","border-right":o},".main-content":{background:"inherit"},".main-content-header":{background:"inherit"},".main-content-footer":{background:"inherit"},".list-table-row":{color:"inherit"},".list-table-row:hover":{background:i},".list-table-row .list-table-cell-a, .list-table-row .list-table-cell-b":{"border-top":o},".list-table-body .list-items":{"border-bottom":o},".bread-crumbs a":{color:n},".bread-crumbs a:hover":{color:r},".main-content.loading":{background:`${e} url(/static/images/loading_spinner.gif) center no-repeat`,"background-size":"25px 25px"},".list-icons-item":{background:`center no-repeat ${i}`},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a":{color:n},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a:hover":{color:r},".side-bar-menu a":{color:n},".side-bar-menu a:hover":{color:r},".source-gdrive .side-bar-menu .current, .source-gdrive .side-bar-menu a:hover, .source-gphotos .side-bar-menu .current, .source-gphotos .side-bar-menu a:hover":{color:r},".source-vk .side-bar-menu a":{color:n},".source-vk .side-bar-menu a:hover":{color:r,background:"none"}})}window.addEventListener("message",t=>{let e;try{e=JSON.parse(t.data)}catch(n){return}if((null==e?void 0:e.type)in xn){let n=xn[e.type];for(let[r,i]of n)t.source===r&&i(e)}});let MA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"activityType",H.activities.EXTERNAL),_(this,"init$",F(E({},this.ctxInit),{counter:0,onDone:()=>{this.$["*currentActivity"]=H.activities.UPLOAD_LIST},onCancel:()=>{this.historyBack()}})),_(this,"_iframe",null)}initCallback(){super.initCallback(),this.registerActivity(this.activityType,{onActivate:()=>{let{externalSourceType:n}=this.activityParams;this.set$({"*activityCaption":`${null==n?void 0:n[0].toUpperCase()}${null==n?void 0:n.slice(1)}`,"*activityIcon":n}),this.$.counter=0,this.mountIframe()},onClose:()=>this.historyBack()}),this.sub("*currentActivity",n=>{n!==this.activityType&&this.unmountIframe()})}sendMessage(n){this._iframe.contentWindow.postMessage(JSON.stringify(n),"*")}handleFileSelected(n){var r=this;return Ge(function*(){r.$.counter=r.$.counter+1;let{url:i,filename:o}=n;r.uploadCollection.add({externalUrl:i,fileName:o})})()}handleIframeLoad(n){this.applyStyles()}getCssValue(n){return window.getComputedStyle(this).getPropertyValue(n).trim()}applyStyles(){let n={backgroundColor:this.getCssValue("--clr-background-light"),textColor:this.getCssValue("--clr-txt"),shadeColor:this.getCssValue("--clr-shade-lv1"),linkColor:"#157cfc",linkColorHover:"#3891ff"};this.sendMessage({type:"embed-css",style:IA(n)})}remoteUrl(){let n=this.getCssData("--cfg-pubkey"),r=(!1).toString(),{externalSourceType:i}=this.activityParams;return`https://social.uploadcare.com/window3/${i}?${function AA(t){let e=[];for(let[n,r]of Object.entries(t))null==r||"string"==typeof r&&0===r.length||e.push(`${n}=${encodeURIComponent(r)}`);return e.join("&")}({lang:"en",widget_version:"3.11.3",public_key:n,images_only:r,pass_window_open:!1,session_key:this.getCssData("--cfg-remote-tab-session-key")})}`}mountIframe(){let n=Lc({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});n.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(n),function(t,e,n){t in xn||(xn[t]=[]),xn[t].push([e,n])}("file-selected",n.contentWindow,this.handleFileSelected.bind(this)),this._iframe=n}unmountIframe(){this._iframe&&function(t,e){t in xn&&(xn[t]=xn[t].filter(n=>n[0]!==e))}("file-selected",this._iframe.contentWindow),this.ref.iframeWrapper.innerHTML="",this._iframe=void 0}}return t.template='\n  <div ref="iframeWrapper" class="iframe-wrapper"></div>\n  <div class="toolbar">\n    <button type="button" class="cancel-btn secondary-btn" set="onclick: onCancel" l10n="cancel"></button>\n    <div></div>\n    <div class="selected-counter"><span l10n="selected-count"></span>{{counter}}</div>\n    <button type="button" class="done-btn primary-btn" set="onclick: onDone; @disabled: !counter">\n      <lr-icon name="check"></lr-icon>\n    </button>\n  </div>\n',t})();class ru extends ie{setCurrentTab(e){if(e){[...this.ref.context.querySelectorAll("[tab-ctx]")].forEach(r=>{r.getAttribute("tab-ctx")===e?r.removeAttribute("hidden"):r.setAttribute("hidden","")});for(let r in this._tabMap)r===e?this._tabMap[r].setAttribute("current",""):this._tabMap[r].removeAttribute("current")}}initCallback(){super.initCallback(),this._tabMap={},this.defineAccessor("tab-list",e=>{e&&e.split(",").map(r=>r.trim()).forEach(r=>{let i=Lc({tag:"div",attributes:{class:"tab"},properties:{onclick:()=>{this.setCurrentTab(r)}}});i.textContent=this.l10n(r),this.ref.row.appendChild(i),this._tabMap[r]=i})}),this.defineAccessor("default",e=>{this.setCurrentTab(e)}),this.hasAttribute("default")||this.setCurrentTab(Object.keys(this._tabMap)[0])}}ru.bindAttributes({"tab-list":null,default:null}),ru.template='\n  <div ref="row" class="tabs-row"></div>\n  <div ref="context" class="tabs-context">\n    <slot></slot>\n  </div>\n';let SA=(()=>{class t extends ue{constructor(){super(...arguments),_(this,"processInnerHtml",!0),_(this,"init$",F(E({},this.ctxInit),{output:null,filesData:null})),_(this,"cssInit$",{"--cfg-group-output":0})}get dict(){return t.dict}initCallback(){var n=this;super.initCallback(),this.sub("output",r=>{!r||(this.hasAttribute(this.dict.FIRE_EVENT_ATTR)&&this.dispatchEvent(new CustomEvent(this.dict.EVENT_NAME,{bubbles:!0,composed:!0,detail:{timestamp:Date.now(),ctxName:this.ctxName,data:r}})),this.hasAttribute(this.dict.FORM_VALUE_ATTR)&&(this._input||(this._input=document.createElement("input"),this._input.type="text",this._input.hidden=!0,this.appendChild(this._input)),this._input.value=JSON.stringify(r)),this.hasAttribute(this.dict.CONSOLE_ATTR)&&console.log(r))},!1),this.sub(this.dict.SRC_CTX_KEY,function(){var r=Ge(function*(i){if(!i)return n.$.output=null,void(n.$.filesData=null);if(n.$.filesData=i,n.getCssData("--cfg-group-output")||n.hasAttribute(n.dict.GROUP_ATTR)){let o=i.map(a=>a.uuid),s=yield D0(o,E({},n.getUploadClientOptions()));n.$.output={groupData:s,files:i}}else n.$.output=i});return function(i){return r.apply(this,arguments)}}(),!1)}}return t.dict={SRC_CTX_KEY:"*outputData",EVENT_NAME:"lr-data-output",FIRE_EVENT_ATTR:"use-event",CONSOLE_ATTR:"use-console",GROUP_ATTR:"use-group",FORM_VALUE_ATTR:"form-value"},t})(),kA=(()=>{class t extends H{}return t.template=' <div class="caption">{{*activityCaption}}</div> ',t})(),FA=(()=>{class t extends H{}return t.template=' <lr-icon set="@name: *activityIcon"></lr-icon> ',t})(),NA=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{currentText:"",options:[],selectHtml:"",onSelect:n=>{var r;n.preventDefault(),n.stopPropagation(),this.value=this.ref.select.value,this.$.currentText=(null==(r=this.$.options.find(i=>i.value==this.value))?void 0:r.text)||"",this.dispatchEvent(new Event("change"))}}))}initCallback(){super.initCallback(),this.sub("options",n=>{var i;this.$.currentText=(null==(i=null==n?void 0:n[0])?void 0:i.text)||"";let r="";null==n||n.forEach(o=>{r+=`<option value="${o.value}">${o.text}</option>`}),this.$.selectHtml=r})}}return t.template='\n  <button>\n    {{currentText}}\n    <lr-icon name="select"></lr-icon>\n    <select ref="select" set="innerHTML: selectHtml; onchange: onSelect"></select>\n  </button>\n',t})();let V0=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{src:"",ppIcon:"play",fsIcon:"fullscreen-on",volIcon:"unmute",capIcon:"captions-off",totalTime:"00:00",currentTime:"00:00",progressCssWidth:"0",hasSubtitles:!1,volumeDisabled:!1,volumeValue:0,onPP:()=>{this.togglePlay()},onFs:()=>{this.toggleFullscreen()},onCap:()=>{this.toggleCaptions()},onMute:()=>{this.toggleSound()},onVolChange:n=>{let r=parseFloat(n.currentTarget.$.value);this.setVolume(r)},progressClicked:n=>{let r=this.progress.getBoundingClientRect();this._video.currentTime=this._video.duration*(n.offsetX/r.width)}}))}togglePlay(){this._video.paused||this._video.ended?this._video.play():this._video.pause()}toggleFullscreen(){(document.fullscreenElement||document.webkitFullscreenElement)===this?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=>{t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()})(this)}toggleCaptions(){"captions-off"===this.$.capIcon?(this.$.capIcon="captions",this._video.textTracks[0].mode="showing",window.localStorage.setItem(t.is+":captions","1")):(this.$.capIcon="captions-off",this._video.textTracks[0].mode="hidden",window.localStorage.removeItem(t.is+":captions"))}toggleSound(){"unmute"===this.$.volIcon?(this.$.volIcon="mute",this.$.volumeDisabled=!0,this._video.muted=!0):(this.$.volIcon="unmute",this.$.volumeDisabled=!1,this._video.muted=!1)}setVolume(n){window.localStorage.setItem(t.is+":volume",n),this._video.volume=n?n/100:0}get progress(){return this.ref.progress}_getUrl(n){return n.includes("/")?n:`https://ucarecdn.com/${n}/`}_desc2attrs(n){let r=[];for(let i in n){let o="src"===i?this._getUrl(n[i]):n[i];r.push(`${i}="${o}"`)}return r.join(" ")}_timeFmt(n){let r=new Date(1e3*Math.round(n));return[r.getMinutes(),r.getSeconds()].map(i=>i<10?"0"+i:i).join(":")}_initTracks(){[...this._video.textTracks].forEach(n=>{n.mode="hidden"}),window.localStorage.getItem(t.is+":captions")&&this.toggleCaptions()}_castAttributes(){let n=["autoplay","loop","muted"];[...this.attributes].forEach(r=>{n.includes(r.name)&&this._video.setAttribute(r.name,r.value)})}initCallback(){var n=this;super.initCallback(),this._video=this.ref.video,this._castAttributes(),this._video.addEventListener("play",()=>{this.$.ppIcon="pause",this.setAttribute("playback","")}),this._video.addEventListener("pause",()=>{this.$.ppIcon="play",this.removeAttribute("playback")}),this.addEventListener("fullscreenchange",i=>{console.log(i),this.$.fsIcon=document.fullscreenElement===this?"fullscreen-off":"fullscreen-on"}),this.sub("src",i=>{if(!i)return;let o=this._getUrl(i);this._video.src=o}),this.sub("video",function(){var i=Ge(function*(o){if(!o)return;let s=yield(yield window.fetch(n._getUrl(o))).json();s.poster&&(n._video.poster=n._getUrl(s.poster));let a="";null==s||s.sources.forEach(l=>{a+=`<source ${n._desc2attrs(l)} />`}),s.tracks&&(s.tracks.forEach(l=>{a+=`<track ${n._desc2attrs(l)} />`}),n.$.hasSubtitles=!0),n._video.innerHTML+=a,n._initTracks(),console.log(s)});return function(o){return i.apply(this,arguments)}}()),this._video.addEventListener("loadedmetadata",i=>{this.$.currentTime=this._timeFmt(this._video.currentTime),this.$.totalTime=this._timeFmt(this._video.duration)}),this._video.addEventListener("timeupdate",i=>{let o=Math.round(this._video.currentTime/this._video.duration*100);this.$.progressCssWidth=o+"%",this.$.currentTime=this._timeFmt(this._video.currentTime)});let r=window.localStorage.getItem(t.is+":volume");if(r){let i=parseFloat(r);this.setVolume(i),this.$.volumeValue=i}}}return t.template='\n  <div class="video-wrapper">\n    <video ref="video" preload="metadata" crossorigin="anonymous"></video>\n  </div>\n\n  <div class="toolbar">\n    <div class="progress" ref="progress" set -onclick="progressClicked">\n      <div class="bar" set -style.width="progressCssWidth"></div>\n    </div>\n\n    <div class="tb-block">\n      <button set -onclick="onPP">\n        <lr-icon set -@name="ppIcon"></lr-icon>\n      </button>\n      <div class="timer">{{currentTime}} / {{totalTime}}</div>\n    </div>\n\n    <div class="tb-block">\n      <button set -onclick="onCap" -@hidden="!hasSubtitles">\n        <lr-icon set -@name="capIcon"></lr-icon>\n      </button>\n\n      <button set -onclick="onMute">\n        <lr-icon set -@name="volIcon"></lr-icon>\n      </button>\n\n      <lr-range type="range" set -onchange="onVolChange" -@disabled="volumeDisabled" -value="volumeValue"> </lr-range>\n\n      <button set -onclick="onFs">\n        <lr-icon set -@name="fsIcon"></lr-icon>\n      </button>\n    </div>\n  </div>\n',t})();V0.bindAttributes({video:"video",src:"src"});class B0 extends ie{constructor(){super(...arguments),_(this,"pauseRender",!0)}shadowReadyCallback(){}initCallback(){super.initCallback();let e=this.getAttribute("css-src");if(e){this.renderShadow=!0,this.attachShadow({mode:"open"});let n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=e,n.onload=()=>{window.requestAnimationFrame(()=>{this.render(),window.setTimeout(()=>{this.shadowReadyCallback()})})},this.shadowRoot.appendChild(n)}else this.render(),this.shadowReadyCallback()}}class iu extends B0{constructor(){super(...arguments),_(this,"ctxInit",e0()),_(this,"ctxOwner",!0)}}let PA=(()=>{class t extends iu{}return t.template='\n  <lr-simple-btn></lr-simple-btn>\n\n  <lr-modal strokes block-body-scrolling>\n    <lr-activity-icon slot="heading"></lr-activity-icon>\n    <lr-activity-caption slot="heading"></lr-activity-caption>\n    <lr-start-from>\n      <lr-source-list wrap></lr-source-list>\n      <lr-drop-area clickable></lr-drop-area>\n    </lr-start-from>\n    <lr-upload-list></lr-upload-list>\n    <lr-camera-source></lr-camera-source>\n    <lr-url-source></lr-url-source>\n    <lr-external-source></lr-external-source>\n    <lr-upload-details></lr-upload-details>\n    <lr-confirmation-dialog></lr-confirmation-dialog>\n    <lr-cloud-image-editor></lr-cloud-image-editor>\n  </lr-modal>\n\n  <lr-message-box></lr-message-box>\n  <lr-progress-bar-common></lr-progress-bar-common>\n',t})(),LA=(()=>{class t extends iu{constructor(){super(...arguments),_(this,"pauseRender",!0),_(this,"init$",F(E({},this.ctxInit),{selectClicked:()=>{this.ref.uBlock.openSystemDialog()}}))}shadowReadyCallback(){const n=this.ref.uBlock;this.sub("*currentActivity",r=>{r||(this.$["*currentActivity"]=n.initActivity||H.activities.START_FROM)}),this.sub("*uploadList",r=>{0===(null==r?void 0:r.length)&&(this.$["*currentActivity"]=n.initActivity||H.activities.START_FROM)})}}return t.template='\n  <lr-start-from>\n    <lr-drop-area clickable l10n="drop-files-here"></lr-drop-area>\n  </lr-start-from>\n  <lr-upload-list ref="uBlock"></lr-upload-list>\n  <lr-message-box></lr-message-box>\n',t})(),OA=(()=>{class t extends iu{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{dropAreaHidden:!1}))}shadowReadyCallback(){const n=this.ref.uBlock;this.sub("*currentActivity",r=>{r||(this.$["*currentActivity"]=n.initActivity||H.activities.START_FROM)}),window.customElements.whenDefined(n.tagName.toLowerCase()).then(()=>{1===n.sourceList.length&&!n.sourceList.includes(ue.sourceTypes.LOCAL)&&(this.$.dropAreaHidden=!0)})}}return t.template=' <lr-start-from>\n    <lr-source-list wrap></lr-source-list>\n    <lr-drop-area set="@hidden: dropAreaHidden" clickable></lr-drop-area>\n  </lr-start-from>\n  <lr-upload-list ref="uBlock"></lr-upload-list>\n  <lr-camera-source></lr-camera-source>\n  <lr-url-source></lr-url-source>\n  <lr-external-source></lr-external-source>\n  <lr-upload-details></lr-upload-details>\n  <lr-confirmation-dialog></lr-confirmation-dialog>\n  <lr-message-box></lr-message-box>\n  <lr-progress-bar></lr-progress-bar>\n  <lr-cloud-image-editor></lr-cloud-image-editor>',t})();const kt=1.5,xs=100/3;function Lr(t,e){for(let n in e)t.setAttributeNS(null,n,e[n].toString())}function Ft(t,e={}){let n=document.createElementNS("http://www.w3.org/2000/svg",t);return Lr(n,e),n}function VA(t,e){let{x:n,y:r,width:i,height:o}=t,s=e.includes("w")?0:1,a=e.includes("n")?0:1,l=[-1,1][s],c=[-1,1][a],u=[n+s*i+kt*l,r+a*o+kt*c-24*c],d=[n+s*i+kt*l,r+a*o+kt*c],f=[n+s*i-24*l+kt*l,r+a*o+kt*c];return{d:`M ${u[0]} ${u[1]} L ${d[0]} ${d[1]} L ${f[0]} ${f[1]}`,center:d}}function BA(t,e){let u,d,{x:n,y:r,width:i,height:o}=t,s=["n","s"].includes(e)?.5:{w:0,e:1}[e],a=["w","e"].includes(e)?.5:{n:0,s:1}[e],l=[-1,1][s],c=[-1,1][a];return["n","s"].includes(e)?(u=[n+s*i-17,r+a*o+kt*c],d=[n+s*i+17,r+a*o+kt*c]):(u=[n+s*i+kt*l,r+a*o-17],d=[n+s*i+kt*l,r+a*o+17]),{d:`M ${u[0]} ${u[1]} L ${d[0]} ${d[1]}`,center:[d[0]-(d[0]-u[0])/2,d[1]-(d[1]-u[1])/2]}}function U0(t,e){let{x:n}=t,{y:r}=t;return t.x<e.x?n=e.x:t.x+t.width>e.x+e.width&&(n=e.x+e.width-t.width),t.y<e.y?r=e.y:t.y+t.height>e.y+e.height&&(r=e.y+e.height-t.height),F(E({},t),{x:n,y:r})}function j0(t,[e,n],r){let{x:i,y:o,width:s,height:a}=t;if(r.includes("n")){let l=a;a=Math.max(n,a),o=o+l-a}if(r.includes("s")&&(a=Math.max(n,a)),r.includes("w")){let l=s;s=Math.max(e,s),i=i+l-s}return r.includes("e")&&(s=Math.max(e,s)),{x:i,y:o,width:s,height:a}}let qA=(()=>{class t extends ie{constructor(){super(),_(this,"init$",F(E({},this.ctxInit),{dragging:!1})),this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(n){let r=this.$["*imageBox"];if(!r)return;if(""===n&&r.height<=82&&r.width<=82)return!0;let i=r.height<=82&&(n.includes("n")||n.includes("s")),o=r.width<=82&&(n.includes("e")||n.includes("w"));return i||o}_createBackdrop(){let n=this.$["*cropBox"];if(!n)return;let{x:r,y:i,width:o,height:s}=n,a=this.ref["svg-el"],l=Ft("mask",{id:"backdrop-mask"}),c=Ft("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),u=Ft("rect",{x:r,y:i,width:o,height:s,fill:"black"});l.appendChild(c),l.appendChild(u);let d=Ft("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});a.appendChild(d),a.appendChild(l),this._backdropMask=l,this._backdropMaskInner=u}_resizeBackdrop(){!this._backdropMask||(this._backdropMask.style.display="none",window.requestAnimationFrame(()=>{this._backdropMask.style.display="block"}))}_updateBackdrop(){let n=this.$["*cropBox"];if(!n)return;let{x:r,y:i,width:o,height:s}=n;Lr(this._backdropMaskInner,{x:r,y:i,width:o,height:s})}_updateFrame(){let n=this.$["*cropBox"];if(n){for(let i of Object.values(this._frameThumbs)){let{direction:o,pathNode:s,interactionNode:a,groupNode:l}=i,u=2===o.length;if(""===o){let{x:f,y:h,width:p,height:m}=n,v=[f+p/2,h+m/2];Lr(a,{r:Math.min(p,m)/3,cx:v[0],cy:v[1]})}else{let{d:f,center:h}=u?VA(n,o):BA(n,o);Lr(a,{cx:h[0],cy:h[1]}),Lr(s,{d:f})}let d=this._shouldThumbBeDisabled(o);l.setAttribute("class",$e("thumb",{"thumb--hidden":d,"thumb--visible":!d}))}Lr(this._frameGuides,{x:n.x-.5,y:n.y-.5,width:n.width+1,height:n.height+1})}}_createThumbs(){let n={};for(let r=0;r<3;r++)for(let i=0;i<3;i++){let o=`${["n","","s"][r]}${["w","","e"][i]}`,s=Ft("g");s.classList.add("thumb"),s.setAttribute("with-effects","");let a=Ft("circle",{r:25.5,fill:"transparent"}),l=Ft("path",{stroke:"currentColor",fill:"none","stroke-width":3});s.appendChild(l),s.appendChild(a),n[o]={direction:o,pathNode:l,interactionNode:a,groupNode:s},a.addEventListener("pointerdown",this._handlePointerDown.bind(this,o))}return n}_createGuides(){let n=Ft("svg"),r=Ft("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"#000000","stroke-width":1,"stroke-opacity":.5});n.appendChild(r);for(let i=1;i<=2;i++){let o=Ft("line",{x1:xs*i+"%",y1:"0%",x2:xs*i+"%",y2:"100%",stroke:"#000000","stroke-width":1,"stroke-opacity":.3});n.appendChild(o)}for(let i=1;i<=2;i++){let o=Ft("line",{x1:"0%",y1:xs*i+"%",x2:"100%",y2:xs*i+"%",stroke:"#000000","stroke-width":1,"stroke-opacity":.3});n.appendChild(o)}return n.classList.add("guides","guides--semi-hidden"),n}_createFrame(){let n=this.ref["svg-el"],r=document.createDocumentFragment(),i=this._createGuides();r.appendChild(i);let o=this._createThumbs();for(let{groupNode:s}of Object.values(o))r.appendChild(s);n.appendChild(r),this._frameThumbs=o,this._frameGuides=i}_handlePointerDown(n,r){let i=this._frameThumbs[n];if(this._shouldThumbBeDisabled(n))return;let o=this.$["*cropBox"],{x:s,y:a}=this.ref["svg-el"].getBoundingClientRect(),l=r.x-s,c=r.y-a;this.$.dragging=!0,this._draggingThumb=i,this._dragStartPoint=[l,c],this._dragStartCrop=E({},o)}_handlePointerUp_(n){this._updateCursor(),this.$.dragging&&(n.stopPropagation(),n.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(n){if(!this.$.dragging)return;n.stopPropagation(),n.preventDefault();let r=this.ref["svg-el"],{x:i,y:o}=r.getBoundingClientRect(),l=n.x-i-this._dragStartPoint[0],c=n.y-o-this._dragStartPoint[1],{direction:u}=this._draggingThumb,d=this.$["*imageBox"],f=this._dragStartCrop;""===u?(f=function UA(t,[e,n]){return F(E({},t),{x:t.x+e,y:t.y+n})}(f,[l,c]),f=U0(f,d)):(f=function jA(t,[e,n],r){let{x:i,y:o,width:s,height:a}=t;return r.includes("n")&&(o+=n,a-=n),r.includes("s")&&(a+=n),r.includes("w")&&(i+=e,s-=e),r.includes("e")&&(s+=e),{x:i,y:o,width:s,height:a}}(f,[l,c],u),f=function zA(t,e){let n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),i=Math.max(t.y,e.y);return{x:n,y:i,width:r-n,height:Math.min(t.y+t.height,e.y+e.height)-i}}(f,d)),f=j0(f,[Math.min(d.width,82),Math.min(d.height,82)],u),Object.values(f).every(p=>Number.isFinite(p)&&p>=0)?this.$["*cropBox"]=f:console.error("CropFrame is trying to create invalid rectangle",{payload:f})}_handleSvgPointerMove_(n){let r=Object.values(this._frameThumbs).find(i=>{if(this._shouldThumbBeDisabled(i.direction))return!1;let s=i.groupNode.getBoundingClientRect();return function GA(t,[e,n]){return t.x<=e&&e<=t.x+t.width&&t.y<=n&&n<=t.y+t.height}({x:s.x,y:s.y,width:s.width,height:s.height},[n.x,n.y])});this._hoverThumb=r,this._updateCursor()}_updateCursor(){let n=this._hoverThumb;this.ref["svg-el"].style.cursor=n?function HA(t){return""===t?"move":["e","w"].includes(t)?"ew-resize":["n","s"].includes(t)?"ns-resize":["nw","se"].includes(t)?"nwse-resize":"nesw-resize"}(n.direction):"initial"}_render(){this._updateBackdrop(),this._updateFrame()}toggleThumbs(n){Object.values(this._frameThumbs).map(({groupNode:r})=>r).forEach(r=>{r.setAttribute("class",$e("thumb",{"thumb--hidden":!n,"thumb--visible":n}))})}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",()=>{this._resizeBackdrop(),window.requestAnimationFrame(()=>{this._render()})}),this.sub("*cropBox",n=>{!n||(this._guidesHidden=n.height<=82||n.width<=82,window.requestAnimationFrame(()=>{this._render()}))}),this.sub("dragging",n=>{this._frameGuides.setAttribute("class",$e({"guides--hidden":this._guidesHidden,"guides--visible":!this._guidesHidden&&n,"guides--semi-hidden":!this._guidesHidden&&!n}))}),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}destroyCallback(){super.destroyCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}return t.template=' <svg class="svg" ref="svg-el" xmlns="http://www.w3.org/2000/svg"></svg> ',t})(),ou=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{active:!1,title:"",icon:"","on.click":null}))}initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.setAttribute("role","button"),-1===this.tabIndex&&(this.tabIndex=0),this.sub("title",n=>{this._titleEl&&(this._titleEl.style.display=n?"block":"none")}),this.sub("active",n=>{this.className=$e({active:n,not_active:!n})}),this.sub("on.click",n=>{this.onclick=n})}}return t.template='\n  <div class="before"></div>\n  <lr-icon size="20" set="@name: icon;"></lr-icon>\n  <div class="title" ref="title-el">{{title}}</div>\n',t})();class su extends ou{initCallback(){super.initCallback(),this.defineAccessor("operation",e=>{!e||(this._operation=e,this.$.icon=e)}),this.$["on.click"]=e=>{let n=this.$["*cropperEl"].getValue(this._operation),r=function YA(t,e){return"rotate"===t?function WA(t){let e=t+90;return e=e>=360?0:e,e}(e):["mirror","flip"].includes(t)?!e:null}(this._operation,n);this.$["*cropperEl"].setValue(this._operation,r)}}}const Tn="original";let ZA=(()=>{class t extends ie{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":n=>{this.$["*faderEl"].set(n),this.$.value=n}}))}setOperation(n,r){this._controlType="filter"===n?"filter":"color_operation",this._operation=n,this._iconName=n,this._title=n.toUpperCase(),this._filter=r,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===Tn?void 0:this.$.value,filter:this._filter===Tn?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:n,zero:r}=Bi[this._operation],[i,o]=n;this.$.min=i,this.$.max=o,this.$.zero=r;let s=this.$["*editorTransformations"][this._operation];if("filter"===this._controlType){let a=o;if(s){let{name:l,amount:c}=s;a=l===this._filter?c:o}this.$.value=a,this.$.defaultValue=a}if("color_operation"===this._controlType){let a=void 0!==s?s:r;this.$.value=a,this.$.defaultValue=a}}apply(){let n;n="filter"===this._controlType?this._filter===Tn?null:{name:this._filter,amount:this.$.value}:this.$.value;let r=F(E({},this.$["*editorTransformations"]),{[this._operation]:n});this.$["*editorTransformations"]=r}cancel(){this.$["*faderEl"].deactivate({hide:!1})}initCallback(){super.initCallback(),this.sub("*originalUrl",n=>{this._originalUrl=n}),this.sub("value",n=>{this.$["*operationTooltip"]=`${this._filter||this._operation} ${n}`})}}return t.template='\n  <lr-slider-ui\n    ref="slider-el"\n    set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"\n  ></lr-slider-ui>\n',t})(),au=(()=>{class t extends ou{constructor(){super(...arguments),_(this,"init$",F(E({},this.ctxInit),{active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null}))}_previewSrc(){let n=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),r=window.devicePixelRatio,i=Math.ceil(r*n),o=r>=2?"lightest":"normal",a=E({},this.$["*editorTransformations"]);return a[this._operation]=this._filter!==Tn?{name:this._filter,amount:100}:void 0,St(this._originalUrl,Cn(O0,eu(a),`quality/${o}`,`scale_crop/${i}x${i}/center`))}_observerCallback(n,r){if(n[0].isIntersecting){let o=this.proxyUrl(this._previewSrc()),s=this.ref["preview-el"],{promise:a,cancel:l}=Ds(o);this._cancelPreload=l,a.catch(c=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:c})}).finally(()=>{s.style.backgroundImage=`url(${o})`,setTimeout(()=>{s.style.opacity="1"}),r.unobserve(this)})}else this._cancelPreload&&this._cancelPreload()}initCallback(){super.initCallback(),this.$["on.click"]=r=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",r=>{this._operation="filter",this._filter=r,this.$.isOriginal=r===Tn,this.$.icon=this.$.isOriginal?"original":"slider"}),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]}),this._originalUrl=this.$["*originalUrl"],this.$.isOriginal?this.ref["icon-el"].classList.add("original-icon"):this._observer.observe(this),this.sub("*currentFilter",r=>{this.$.active=r&&r===this._filter}),this.sub("isOriginal",r=>{this.$.iconSize=r?40:20}),this.sub("active",r=>{if(this.$.isOriginal)return;this.ref["icon-el"].style.opacity=r?"1":"0";let o=this.ref["preview-el"];r?o.style.opacity="0":o.style.backgroundImage&&(o.style.opacity="1")}),this.sub("*networkProblems",r=>{if(!r){let i=this.proxyUrl(this._previewSrc()),o=this.ref["preview-el"];o.style.backgroundImage&&(o.style.backgroundImage="none",o.style.backgroundImage=`url(${i})`)}})}destroyCallback(){var n;super.destroyCallback(),null==(n=this._observer)||n.disconnect(),this._cancelPreload&&this._cancelPreload()}}return t.template='\n  <div class="before"></div>\n  <div class="preview" ref="preview-el"></div>\n  <lr-icon size="40" ref="icon-el" set="@name: icon; @size: iconSize;"></lr-icon>\n',t})();class lu extends ou{constructor(){super(...arguments),_(this,"_operation","")}initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",e=>{e&&(this._operation=e,this.$.icon=e,this.$.title=this.l10n(e))}),this.sub("*editorTransformations",e=>{if(!this._operation)return;let{zero:n}=Bi[this._operation],r=e[this._operation];this.$.active=void 0!==r&&r!==n})}}const z0=window.ResizeObserver;function Ts(t,e,n){return Math.min(Math.max(t,e),n)}function ji({width:t,height:e},n){let r=n/90%2!=0;return{width:r?e:t,height:r?t:e}}let KA=(()=>{class t extends ie{constructor(){super(),_(this,"init$",F(E({},this.ctxInit),{image:null,"*padding":20,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}})),this._commitDebounced=Vi(this._commit.bind(this),300),this._handleResizeDebounced=Vi(this._handleResize.bind(this),10)}_handleResize(){!this.isConnected||(this._initCanvas(),this._alignImage(),this._alignCrop(),this._draw())}_syncTransformations(){let r=function XA(t,e){let n={};for(let r of e){let i=t[r];(t.hasOwnProperty(r)||void 0!==i)&&(n[r]=i)}return n}(this.$["*editorTransformations"],Object.keys(this.$["*operations"])),i=E(E({},this.$["*operations"]),r);this.$["*operations"]=i}_initCanvas(){let n=this.ref["canvas-el"],r=n.getContext("2d"),i=this.offsetWidth,o=this.offsetHeight,s=window.devicePixelRatio;n.style.width=`${i}px`,n.style.height=`${o}px`,n.width=i*s,n.height=o*s,r.scale(s,s),this._canvas=n,this._ctx=r}_alignImage(){if(!this._isActive||!this.$.image)return;let n=this.$.image,r=this.$["*padding"],i=this.$["*operations"],{rotate:o}=i,s_width=this.offsetWidth,s_height=this.offsetHeight,a=ji({width:n.naturalWidth,height:n.naturalHeight},o);if(a.width>s_width-2*r||a.height>s_height-2*r){let l=a.width/a.height;if(l>s_width/s_height){let u=s_width-2*r,d=u/l;this.$["*imageBox"]={x:0+r,y:r+(s_height-2*r)/2-d/2,width:u,height:d}}else{let u=s_height-2*r,d=u*l;this.$["*imageBox"]={x:r+(s_width-2*r)/2-d/2,y:0+r,width:d,height:u}}}else{let{width:l,height:c}=a;this.$["*imageBox"]={x:r+(s_width-2*r)/2-l/2,y:r+(s_height-2*r)/2-c/2,width:l,height:c}}}_alignCrop(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,s=this.$["*editorTransformations"].crop;if(s){let{dimensions:[l,c],coords:[u,d]}=s,{width:f,x:h,y:p}=this.$["*imageBox"],{width:m}=ji(this._imageSize,o),v=f/m;n={x:h+u*v,y:p+d*v,width:l*v,height:c*v}}else n={x:r.x,y:r.y,width:r.width,height:r.height};n=j0(n,[Math.min(r.width,82),Math.min(r.height,82)],"se"),n=U0(n,r),this.$["*cropBox"]=n}_drawImage(){let n=this.$.image,r=this.$["*imageBox"],i=this.$["*operations"],{mirror:o,flip:s,rotate:a}=i,l=this._ctx,c=ji({width:r.width,height:r.height},a);l.save(),l.translate(r.x+r.width/2,r.y+r.height/2),l.rotate(a*Math.PI*-1/180),l.scale(o?-1:1,s?-1:1),l.drawImage(n,-c.width/2,-c.height/2,c.width,c.height),l.restore()}_draw(){if(!this._isActive||!this.$.image)return;let n=this._canvas;this._ctx.clearRect(0,0,n.width,n.height),this._drawImage()}_animateIn({fromViewer:n}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._transitionToImage(),setTimeout(()=>{this.className=$e({active_from_viewer:n,active_from_editor:!n,inactive_to_editor:!1})}))}_calculateDimensions(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,{width:s,height:a}=r,{width:l,height:c}=ji(this._imageSize,o),{width:u,height:d}=n,h=a/c;return[Ts(Math.round(u/(s/l)),1,l),Ts(Math.round(d/h),1,c)]}_calculateCrop(){let n=this.$["*cropBox"],r=this.$["*imageBox"],i=this.$["*operations"],{rotate:o}=i,{width:s,height:a,x:l,y:c}=r,{width:u,height:d}=ji(this._imageSize,o),{x:f,y:h}=n,p=s/u,m=a/d,v=this._calculateDimensions(),b={dimensions:v,coords:[Ts(Math.round((f-l)/p),0,u-v[0]),Ts(Math.round((h-c)/m),0,d-v[1])]};if(function QA(t){return!t||[({dimensions:n,coords:r})=>[...n,...r].every(i=>Number.isInteger(i)&&Number.isFinite(i)),({dimensions:n,coords:r})=>n.every(i=>i>0)&&r.every(i=>i>=0)].every(n=>n(t))}(b))return v[0]!==u||v[1]!==d?b:void 0;console.error("Cropper is trying to create invalid crop object",{payload:b})}_commit(){if(!this.isConnected)return;let n=this.$["*operations"],{rotate:r,mirror:i,flip:o}=n,s=this._calculateCrop(),l=F(E({},this.$["*editorTransformations"]),{crop:s,rotate:r,mirror:i,flip:o});this.$["*editorTransformations"]=l}setValue(n,r){console.log(`Apply cropper operation [${n}=${r}]`),this.$["*operations"]=F(E({},this.$["*operations"]),{[n]:r}),this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(n){return this.$["*operations"][n]}activate(n,{fromViewer:r}){var i=this;return Ge(function*(){if(!i._isActive){i._isActive=!0,i._imageSize=n,i.removeEventListener("transitionend",i._reset),i._initCanvas();try{i.$.image=yield i._waitForImage(i.$["*originalUrl"],i.$["*editorTransformations"]),i._syncTransformations(),i._alignImage(),i._alignCrop(),i._draw(),i._animateIn({fromViewer:r})}catch(o){console.error("Failed to activate cropper",{error:o})}}})()}deactivate(){!this._isActive||(this._commit(),this._isActive=!1,this._transitionToCrop(),this.className=$e({active_from_viewer:!1,active_from_editor:!1,inactive_to_editor:!0}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}))}_transitionToCrop(){let n=this._calculateDimensions(),r=Math.min(this.offsetWidth,n[0])/this.$["*cropBox"].width,i=Math.min(this.offsetHeight,n[1])/this.$["*cropBox"].height,o=Math.min(r,i),s=this.$["*cropBox"].x+this.$["*cropBox"].width/2,a=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${o}) translate(${(this.offsetWidth/2-s)/o}px, ${(this.offsetHeight/2-a)/o}px)`,this.style.transformOrigin=`${s}px ${a}px`}_transitionToImage(){let n=this.$["*cropBox"].x+this.$["*cropBox"].width/2,r=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform="scale(1)",this.style.transformOrigin=`${n}px ${r}px`}_reset(){this._isActive||(this.$.image=null)}_waitForImage(n,r){let i=this.offsetWidth;r=F(E({},r),{crop:void 0,rotate:void 0,flip:void 0,mirror:void 0});let o=this.proxyUrl(Cs(n,i,r)),{promise:s,cancel:a,image:l}=Ds(o),c=this._handleImageLoading(o);return l.addEventListener("load",c,{once:!0}),l.addEventListener("error",c,{once:!0}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=a,s.then(()=>l).catch(u=>(console.error("Failed to load image",{error:u}),this.$["*networkProblems"]=!0,Promise.resolve(l)))}_handleImageLoading(n){let r="crop",i=this.$["*loadingOperations"];return i.get(r)||i.set(r,new Map),i.get(r).get(n)||(i.set(r,i.get(r).set(n,!0)),this.$["*loadingOperations"]=i),()=>{var o;(null==(o=null==i?void 0:i.get(r))?void 0:o.has(n))&&(i.get(r).delete(n),this.$["*loadingOperations"]=i)}}initCallback(){super.initCallback(),this._observer=new z0(()=>{this._isActive&&this.$.image&&this._handleResizeDebounced()}),this._observer.observe(this),this.sub("*imageBox",()=>{this._draw()}),this.sub("*cropBox",n=>{this.$.image&&this._commitDebounced()}),setTimeout(()=>{this.sub("*networkProblems",n=>{n||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})})},0)}destroyCallback(){var n;super.destroyCallback(),null==(n=this._observer)||n.disconnect()}}return t.template='\n  <canvas class="canvas" ref="canvas-el"></canvas>\n  <lr-crop-frame ref="frame-el"></lr-crop-frame>\n',t})();function G0(t,e,n){let r=Array(n);for(let i=--n;i>=0;i--)r[i]=Math.ceil((i*e+(n-i)*t)/n);return r}function q0(t,e){let n=Bi[t].keypointsNumber,{range:r,zero:i}=Bi[t];return[...new Set([...G0(r[0],i,n+1),...G0(i,r[1],n+1),i,e])].sort((o,s)=>o-s)}class nM extends ie{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=Vi(this._addKeypoint.bind(this),600),this.classList.add("inactive_to_cropper")}_handleImageLoading(e){let n=this._operation,r=this.$["*loadingOperations"];return r.get(n)||r.set(n,new Map),r.get(n).get(e)||(r.set(n,r.get(n).set(e,!0)),this.$["*loadingOperations"]=r),()=>{var i;(null==(i=null==r?void 0:r.get(n))?void 0:i.has(e))&&(r.get(n).delete(e),this.$["*loadingOperations"]=r)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame(()=>{for(let e of this._keypoints){let{image:n}=e;n&&(n.style.opacity=e.opacity.toString(),n.style.zIndex=e.zIndex.toString())}})}_imageSrc({url:e=this._url,filter:n=this._filter,operation:r,value:i}={}){let o=E({},this._transformations);return r&&(o[r]=n?{name:n,amount:i}:i),this.proxyUrl(Cs(e,this.offsetWidth,o))}_constructKeypoint(e,n){return{src:this._imageSrc({operation:e,value:n}),image:null,opacity:0,zIndex:0,value:n}}_isSame(e,n){return this._operation===e&&this._filter===n}_addKeypoint(e,n,r){let i=()=>!this._isSame(e,n)||this._value!==r||!!this._keypoints.find(l=>l.value===r);if(i())return;let o=this._constructKeypoint(e,r),s=new Image;s.src=o.src;let a=this._handleImageLoading(o.src);s.addEventListener("load",a,{once:!0}),s.addEventListener("error",a,{once:!0}),o.image=s,s.classList.add("fader-image"),s.addEventListener("load",()=>{if(i())return;let l=this._keypoints,c=l.findIndex(d=>d.value>r),u=c<l.length?l[c].image:null;!this._container||u&&!this._container.contains(u)||(l.splice(c,0,o),this._container.insertBefore(s,u),this._update(e,r))},{once:!0}),s.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}set(e){e="string"==typeof e?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,n){this._operation=e,this._value=n;let{zero:r}=Bi[e],i=this._keypoints.map(a=>a.value),o=function eM(t,e,n){let r=function JA(t){return t.reduce((e,n,r)=>r<t.length-1?[...e,[n,t[r+1]]]:e,[])}(t).find(([i,o])=>i<=e&&e<=o);return t.map(i=>{let o=Math.abs(r[0]-r[1]),s=Math.abs(e-r[0])/o;return r[0]===i?e>n?1:1-s:r[1]===i?e>=n?s:1:0})}(i,n,r),s=function tM(t,e){return t.map((n,r)=>n<e?t.length-r:r)}(i,r);for(let[a,l]of Object.entries(this._keypoints))l.opacity=o[a],l.zIndex=s[a];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("fader-image","fader-image--preview"),e.style.opacity="0",e}_initNodes(){var e=this;return Ge(function*(){let n=document.createDocumentFragment();e._previewImage=e._previewImage||e._createPreviewImage(),!e.contains(e._previewImage)&&n.appendChild(e._previewImage);let r=document.createElement("div");n.appendChild(r);let i=e._keypoints.map(u=>u.src),{images:o,promise:s,cancel:a}=Jc(i);o.forEach(u=>{let d=e._handleImageLoading(u.src);u.addEventListener("load",d),u.addEventListener("error",d)}),e._cancelLastImages=()=>{a(),e._cancelLastImages=void 0};let l=e._operation,c=e._filter;yield s,e._isActive&&e._isSame(l,c)&&(e._container&&e._container.remove(),e._container=r,e._keypoints.forEach((u,d)=>{let f=o[d];f.classList.add("fader-image"),u.image=f,e._container.appendChild(f)}),e.appendChild(n),e._flush())})()}setTransformations(e){if(this._transformations=e,this._previewImage){let n=this._imageSrc(),r=this._handleImageLoading(n);this._previewImage.src=n,this._previewImage.addEventListener("load",r,{once:!0}),this._previewImage.addEventListener("error",r,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}}preload({url:e,filter:n,operation:r,value:i}){this._cancelBatchPreload&&this._cancelBatchPreload();let s=q0(r,i).map(l=>this._imageSrc({url:e,filter:n,operation:r,value:l})),{cancel:a}=Jc(s);this._cancelBatchPreload=a}_setOriginalSrc(e){let n=this._previewImage||this._createPreviewImage();if(!this.contains(n)&&this.appendChild(n),this._previewImage=n,n.src===e)return n.style.opacity="1",n.style.transform="scale(1)",void(this.className=$e({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1}));n.style.opacity="0";let r=this._handleImageLoading(e);n.addEventListener("error",r,{once:!0}),n.src=e,n.addEventListener("load",()=>{r(),n&&(n.style.opacity="1",n.style.transform="scale(1)",this.className=$e({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1}))},{once:!0}),n.addEventListener("error",()=>{this.$["*networkProblems"]=!0},{once:!0})}activate({url:e,operation:n,value:r,filter:i,fromViewer:o}){if(this._isActive=!0,this._hidden=!1,this._url=e,this._operation=n||"initial",this._value=r,this._filter=i,this._fromViewer=o,"number"!=typeof r&&!i){let a=this._imageSrc({operation:n,value:r});return this._setOriginalSrc(a),void(this._container&&this._container.remove())}this._keypoints=q0(n,r).map(a=>this._constructKeypoint(n,a)),this._update(n,r),this._initNodes()}deactivate({hide:e=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=$e({active_from_viewer:!1,active_from_cropper:!1,inactive_to_cropper:!0}),this.addEventListener("transitionend",()=>{this._container&&this._container.remove()},{once:!0})):this._container&&this._container.remove()}}let iM=(()=>{class t extends ie{initCallback(){super.initCallback(),this.addEventListener("wheel",n=>{n.preventDefault();let{deltaY:r,deltaX:i}=n;Math.abs(i)>1?this.scrollLeft+=i:this.scrollLeft+=r})}}return t.template=" <slot></slot> ",t})();class W0 extends ie{constructor(){super(),this.init$=F(E({},this.ctxInit),{"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*editorTransformations":{},"*currentFilter":Tn,"*currentOperation":null,showLoader:!1,tabId:"crop",filters:wA,colorOperations:_A,cropOperations:DA,"*operationTooltip":null,"l10n.cancel":this.l10n("cancel"),"l10n.apply":this.l10n("apply"),"presence.mainToolbar":!0,"presence.subToolbar":!1,"presence.tabContent.crop":!1,"presence.tabContent.sliders":!1,"presence.tabContent.filters":!1,"presence.subTopToolbarStyles":{hidden:"sub-toolbar--top-hidden",visible:"sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"sub-toolbar--bottom-hidden",visible:"sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"tab-content--hidden",visible:"tab-content--visible"},"on.cancel":e=>{this._cancelPreload&&this._cancelPreload(),this.$["*on.cancel"]()},"on.apply":e=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":e=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":e=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":e=>{let n=e.currentTarget.getAttribute("data-id");this._activateTab(n,{fromViewer:!1})}}),this._debouncedShowLoader=Vi(this._showLoader.bind(this),500)}get tabId(){return this.$.tabId}_onSliderClose(){this.$["*showSlider"]=!1,"sliders"===this.$.tabId&&(this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":!1,"filter-tooltip_hidden":!0}))}_createOperationControl(e){let n=lu.is&&new lu;return n.operation=e,n}_createFilterControl(e){let n=au.is&&new au;return n.filter=e,n}_createToggleControl(e){let n=su.is&&new su;return n.operation=e,n}_renderControlsList(e){let n=this.ref[`controls-list-${e}`],r=document.createDocumentFragment();"crop"===e?this.$.cropOperations.forEach(i=>{let o=this._createToggleControl(i);r.appendChild(o)}):"filters"===e?[Tn,...this.$.filters].forEach(i=>{let o=this._createFilterControl(i);r.appendChild(o)}):"sliders"===e&&this.$.colorOperations.forEach(i=>{let o=this._createOperationControl(i);r.appendChild(o)}),r.childNodes.forEach((i,o)=>{o===r.childNodes.length-1&&i.classList.add("controls-list_last-item")}),n.innerHTML="",n.appendChild(r)}_activateTab(e,{fromViewer:n}){this.$.tabId=e,"crop"===e?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:n})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:n}),this.$["*cropperEl"].deactivate());for(let r of tu){let i=r===e;this.ref[`tab-toggle-${r}`].active=i,i?(this._renderControlsList(e),this._syncTabIndicator()):this._unmountTabControls(r),this.$[`presence.tabContent.${r}`]=i}}_unmountTabControls(e){let n=this.ref[`controls-list-${e}`];n&&(n.innerHTML="")}_syncTabIndicator(){this.ref["tabs-indicator"].style.transform=`translateX(${this.ref[`tab-toggle-${this.$.tabId}`].offsetLeft}px)`}_preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let n=this.proxyUrl(Cs(this.$["*originalUrl"],this.$["*imgContainerEl"].offsetWidth,this.$["*editorTransformations"]));this._cancelPreload&&this._cancelPreload();let{cancel:r}=Jc([n]);this._cancelPreload=()=>{r(),this._cancelPreload=void 0}}}_showLoader(e){this.$.showLoader=e}initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",e=>{e&&setTimeout(()=>{this._activateTab(this.$.tabId,{fromViewer:!0})},0)}),this.sub("*currentFilter",e=>{this.$["*operationTooltip"]=this.l10n(e||Tn),this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":e,"filter-tooltip_hidden":!e})}),this.sub("*currentOperation",e=>{"sliders"===this.$.tabId&&(this.$["*operationTooltip"]=e,this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":e,"filter-tooltip_hidden":!e}))}),this.sub("*tabId",e=>{"filters"===e&&(this.$["*operationTooltip"]=this.$["*currentFilter"]),this.ref["tooltip-el"].className=$e("filter-tooltip",{"filter-tooltip_visible":"filters"===e,"filter-tooltip_hidden":"filters"!==e})}),this.sub("*originalUrl",e=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()}),this.sub("*editorTransformations",e=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(e)}),this.sub("*loadingOperations",e=>{let n=!1;for(let[,r]of e.entries()){if(n)break;for(let[,i]of r.entries())if(i){n=!0;break}}this._debouncedShowLoader(n)}),this.sub("*showSlider",e=>{this.$["presence.subToolbar"]=e,this.$["presence.mainToolbar"]=!e})}}W0.template=`\n  <lr-line-loader-ui set="active: showLoader"></lr-line-loader-ui>\n  <div class="filter-tooltip_container">\n    <div class="filter-tooltip_wrapper">\n      <div ref="tooltip-el" class="filter-tooltip filter-tooltip_visible">{{*operationTooltip}}</div>\n    </div>\n  </div>\n  <div class="toolbar-container">\n    <lr-presence-toggle class="sub-toolbar" set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles">\n      <div class="tab-content-row">${tu.map(function sM(t){return`\n    <lr-presence-toggle class="tab-content" set="visible: presence.tabContent.${t}; styles: presence.tabContentStyles">\n      <lr-editor-scroller hidden-scrollbar>\n        <div class="controls-list_align">\n          <div class="controls-list_inner" ref="controls-list-${t}"></div>\n        </div>\n      </lr-editor-scroller>\n    </lr-presence-toggle>\n  `}).join("")}</div>\n      <div class="controls-row">\n        <lr-btn-ui theme="boring" icon="closeMax" set="onclick: on.cancel"> </lr-btn-ui>\n        <div class="tab-toggles">\n          <div ref="tabs-indicator" class="tab-toggles_indicator"></div>\n          ${tu.map(function oM(t){return`\n    <lr-btn-ui\n      theme="boring"\n      ref="tab-toggle-${t}"\n      data-id="${t}"\n      icon="${t}"\n      tabindex="0"\n      set="onclick: on.clickTab;"\n    >\n    </lr-btn-ui>\n  `}).join("")}\n        </div>\n        <lr-btn-ui theme="primary" icon="done" set="onclick: on.apply"> </lr-btn-ui>\n      </div>\n    </lr-presence-toggle>\n    <lr-presence-toggle class="sub-toolbar" set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles">\n      <div class="slider">\n        <lr-editor-slider ref="slider-el"></lr-editor-slider>\n      </div>\n      <div class="controls-row">\n        <lr-btn-ui theme="boring" set="@text: l10n.cancel; onclick: on.cancelSlider;"> </lr-btn-ui>\n        <lr-btn-ui theme="primary" set="@text: l10n.apply; onclick: on.applySlider;"> </lr-btn-ui>\n      </div>\n    </lr-presence-toggle>\n  </div>\n`;class cu extends ie{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$=F(E({},this.ctxInit),{text:"",icon:"",iconCss:this._iconCss(),theme:null}),this.defineAccessor("active",e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})}_iconCss(){return $e("icon",{icon_left:!this._iconReversed,icon_right:this._iconReversed,icon_hidden:this._iconHidden,icon_single:this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()}),this.sub("theme",e=>{"custom"!==e&&(this.className=e)}),this.sub("text",e=>{this._iconSingle=!1}),this.setAttribute("role","button"),-1===this.tabIndex&&(this.tabIndex=0),this.hasAttribute("theme")||this.setAttribute("theme","default")}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}}cu.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"}),cu.template='\n  <lr-icon size="20" set="className: iconCss; @name: icon;"></lr-icon>\n  <div class="text">{{text}}</div>\n';let aM=(()=>{class t extends ie{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let n=this.ref["line-el"];n.style.transition="initial",n.style.opacity="0",n.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",n=>{"boolean"==typeof n&&(n?this._start():this._stop())})}_start(){this._active=!0;let{width:n}=this.getBoundingClientRect(),r=this.ref["line-el"];r.style.transition="transform 1s",r.style.opacity="1",r.style.transform=`translateX(${n}px)`,r.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}return t.template='\n  <div class="inner">\n    <div class="line" ref="line-el"></div>\n  </div>\n',t})();let lM=(()=>{class t extends ie{constructor(){super(),this._visible=!1,this._visibleStyle="visible",this._hiddenStyle="hidden",this._externalTransitions=!1,this.defineAccessor("styles",n=>{!n||(this._externalTransitions=!0,this._visibleStyle=n.visible,this._hiddenStyle=n.hidden)}),this.defineAccessor("visible",n=>{"boolean"==typeof n&&(this._visible=n,this._handleVisible())})}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",function gA(t,...e){let n=L0(...e);for(let r of Object.keys(n))t.classList.toggle(r,n[r])}(this,{transition:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.setAttribute("hidden",""),this._externalTransitions||this.classList.add("transition"),this._handleVisible(),setTimeout(()=>this.removeAttribute("hidden"),0)}}return t.template=" <slot></slot> ",t})(),cM=(()=>{class t extends ie{constructor(){super(),_(this,"init$",F(E({},this.ctxInit),{disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let n=parseInt(this.ref["input-el"].value,10);this._updateValue(n),this.$.onInput&&this.$.onInput(n)},"on.sliderChange":()=>{let n=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(n)}})),this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",r=>{this.$.disabled=r}),this.defineAccessor("min",r=>{this.$.min=r}),this.defineAccessor("max",r=>{this.$.max=r}),this.defineAccessor("defaultValue",r=>{this.$.defaultValue=r,this.ref["input-el"].value=r,this._updateValue(r)}),this.defineAccessor("zero",r=>{this._zero=r}),this.defineAccessor("onInput",r=>{!r||(this.$.onInput=r)}),this.defineAccessor("onChange",r=>{!r||(this.$.onChange=r)}),this._updateSteps(),this._observer=new z0(()=>{this._updateSteps();let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)}),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout(()=>{let r=parseInt(this.ref["input-el"].value,10);this._updateValue(r)},0),this.sub("disabled",r=>{let i=this.ref["input-el"];r?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")});let n=this.ref["input-el"];n.addEventListener("focus",()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")}),n.addEventListener("blur",()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")})}_updateValue(n){this._updateZeroDot(n);let{width:r}=this.getBoundingClientRect(),s=100/(this.$.max-this.$.min)*(n-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this.ref["thumb-el"].style.transform=`translateX(${s}px)`})}_updateZeroDot(n){if(!this._zeroDotEl)return;this._zeroDotEl.style.opacity=n===this._zero?"0":"0.2";let{width:r}=this.getBoundingClientRect(),s=100/(this.$.max-this.$.min)*(this._zero-this.$.min)*(r-this._thumbSize)/100;window.requestAnimationFrame(()=>{this._zeroDotEl.style.transform=`translateX(${s}px)`})}_updateSteps(){let r=this.ref["steps-el"],{width:i}=r.getBoundingClientRect(),o=Math.ceil(i/2),s=Math.ceil(o/15)-2;if(this._stepsCount===s)return;let a=document.createDocumentFragment(),l=document.createElement("div"),c=document.createElement("div");l.className="minor-step",c.className="border-step",a.appendChild(c);for(let d=0;d<s;d++)a.appendChild(l.cloneNode());a.appendChild(c.cloneNode());for(let d=0;d<s;d++)a.appendChild(l.cloneNode());a.appendChild(c.cloneNode());let u=document.createElement("div");u.className="zero-dot",a.appendChild(u),this._zeroDotEl=u,r.innerHTML="",r.appendChild(a),this._stepsCount=s}destroyCallback(){var n;null==(n=this._observer)||n.disconnect()}}return t.template='\n  <div class="steps" ref="steps-el"></div>\n  <div ref="thumb-el" class="thumb"></div>\n  <input\n    class="input"\n    type="range"\n    ref="input-el"\n    tabindex="0"\n    set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;"\n  />\n',t})();function uu(t){for(let e in t){let n=[...e].reduce((r,i)=>(i.toUpperCase()===i&&(i="-"+i.toLowerCase()),r+i),"");n.startsWith("-")&&(n=n.replace("-","")),n.startsWith("lr-")||(n="lr-"+n),t[e].reg&&t[e].reg(n)}}const du="__lr-blocks__";function uM(t){return fu.apply(this,arguments)}function fu(){return fu=Ge(function*(t,e=!1){return new Promise((n,r)=>{if("object"!=typeof document)return void n(null);if("object"==typeof window&&window[du])return void n(window[du]);let i=document.createElement("script");i.type="module",i.src=t,i.onerror=()=>{r()},i.onload=()=>{let o=window[du];e&&uu(o),n(o)},document.head.appendChild(i)})}),fu.apply(this,arguments)}function dM(t,e){1&t&&Bo(0,"img",5),2&t&&Ho("src","https://ucarecdn.com/",e.$implicit.uuid,"/-/preview/-/scale_crop/400x400/",Ta)}uu($r);let fM=(()=>{class t{constructor(){this.files=[]}handleUploaderEvent(n){const{data:r}=n.detail;this.files=r}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Bs({type:t,selectors:[["app-root"]],decls:5,vars:1,consts:[[1,"wrapper"],[1,"uploader-cfg","lr-wgt-common"],["use-event","",1,"uploader-cfg","lr-wgt-common",3,"lr-data-output"],[1,"output"],["width","200",3,"src",4,"ngFor","ngForOf"],["width","200",3,"src"]],template:function(n,r){1&n&&(Cr(0,"div",0),Bo(1,"lr-file-uploader-regular",1),Cr(2,"lr-data-output",2),Il("lr-data-output",function(o){return r.handleUploaderEvent(o)}),mi(),Cr(3,"div",3),function Sh(t,e,n,r,i,o,s,a){const l=y(),c=U(),u=t+J,d=c.firstCreatePass?function Q_(t,e,n,r,i,o,s,a,l){const c=e.consts,u=ar(e,t,4,s||null,dn(c,a));rl(e,n,u,dn(c,l)),lo(e,u);const d=u.tViews=Ro(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];Pt(d,!1);const f=l[P].createComment("");Mo(c,l,f,d),Ae(f,l),Po(l,l[u]=Yf(f,l,f,d)),no(d)&&tl(c,l,d),null!=s&&nl(l,d,a)}(4,dM,1,1,"img",4),mi()()),2&n&&(function Df(t){Cf(U(),y(),Fe()+t,!1)}(4),Dl("ngForOf",r.files))},directives:[Im],styles:[':where(.lr-wgt-cfg,.lr-wgt-common),:host{--cfg-pubkey: "YOUR_PUBLIC_KEY";--cfg-multiple: 1;--cfg-multiple-min: 0;--cfg-multiple-max: 0;--cfg-confirm-upload: 1;--cfg-img-only: 0;--cfg-accept: "";--cfg-store: 1;--cfg-camera-mirror: 1;--cfg-source-list: "local, url, camera, dropbox, gdrive, facebook";--cfg-max-local-file-size-bytes: 0;--cfg-thumb-size: 76;--cfg-show-empty-list: 0;--cfg-use-local-image-editor: 0;--cfg-use-cloud-image-editor: 1;--cfg-modal-scroll-lock: 1;--cfg-modal-backdrop-strokes: 0;--cfg-source-list-wrap: 1;--cfg-init-activity: "start-from";--cfg-done-activity: "";--cfg-data-output-console: 1;--cfg-data-output-fire-events: 1;--cfg-data-output-from: "*dataOutput";--cfg-data-output-form-value: 1;--cfg-remote-tab-session-key: "";--cfg-cdn-cname: "https://ucarecdn.com";--cfg-base-url: "https://upload.uploadcare.com";--cfg-secure-signature: "";--cfg-secure-expire: "";--cfg-secure-delivery-proxy: "";--cfg-retry-throttled-request-max-times: 1;--cfg-multipart-min-file-size: 26214400;--cfg-multipart-chunk-size: 5242880;--cfg-max-concurrent-requests: 4;--cfg-multipart-max-attempts: 3;--cfg-check-for-url-duplicates: 0;--cfg-save-url-for-recurrent-uploads: 0;--cfg-group-output: 0;--cfg-user-agent-integration: ""}:where(.lr-wgt-icons,.lr-wgt-common),:host{--icon-default: "m13 21.9506c5.0533-.5017 9-4.7653 9-9.9506 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.1853 3.94668 9.4489 9 9.9506v-11.5364l-2.79289 2.7929c-.39053.3906-1.02369.3906-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l5.20711-5.20708 5.2071 5.20708c.3905.3905.3905 1.0237 0 1.4142-.3905.3906-1.0237.3906-1.4142 0l-2.7929-2.7929z";--icon-file: "m13.3333 5.57143 4 3.85714h-4zm-6.66663-2.57143c-1.47266 0-2.66667 1.15121-2.66667 2.57143v12.85717c0 1.4202 1.19401 2.5714 2.66667 2.5714h10.66663c1.4727 0 2.6667-1.1512 2.6667-2.5714v-9.00003l-6.6667-6.42857z";--icon-close: "M17.6569 7.75734c.3905-.39053.3905-1.02369 0-1.41421-.3906-.39053-1.0237-.39053-1.4143 0L12 10.5858 7.75736 6.34313c-.39053-.39053-1.02369-.39053-1.41421 0-.39053.39052-.39053 1.02368 0 1.41421L10.5858 12l-4.24266 4.2426c-.39052.3905-.39052 1.0237 0 1.4142.39053.3906 1.02369.3906 1.41422 0L12 13.4142l4.2426 4.2426c.3906.3906 1.0237.3906 1.4143 0 .3905-.3905.3905-1.0237 0-1.4142L13.4142 12l4.2427-4.24266Z";--icon-info: "M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z";--icon-error: "M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";--icon-upload: "m13 21.9506c5.0533-.5017 9-4.7653 9-9.9506 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.1853 3.94668 9.4489 9 9.9506v-11.5364l-2.79289 2.7929c-.39053.3906-1.02369.3906-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l5.20711-5.20708 5.2071 5.20708c.3905.3905.3905 1.0237 0 1.4142-.3905.3906-1.0237.3906-1.4142 0l-2.7929-2.7929z";--icon-local: "M2 10.0928C2 7.7191 2 6.53224 2.55634 5.66549C2.84743 5.21197 3.23952 4.8286 3.70334 4.54398C4.58979 4 5.80363 4 8.23131 4C9.21033 4 9.69984 4 10.1402 4.15191C10.374 4.23254 10.5954 4.34395 10.7983 4.48306C11.1807 4.74515 11.4652 5.13463 12.0343 5.91358L12.9091 7.11111H15.4091C18.1796 7.11111 19.5649 7.11111 20.5298 7.81082C20.8171 8.01913 21.0713 8.26774 21.2844 8.54862C22 9.49207 22 10.8466 22 13.5556C22 16.2645 22 17.619 21.2844 18.5625C21.0713 18.8434 20.8171 19.092 20.5298 19.3003C19.5649 20 18.1797 20 15.4091 20H9.27273C5.84433 20 4.13013 20 3.06507 18.9586C2 17.9172 2 16.2411 2 12.8889V10.0928Z";--icon-url: "m15.069028 1.7437159c-1.839249 0-3.678387.7023305-5.0816705 2.105638l-1.0683184 1.0683191c-.5721674.572155-.5721674 1.5000856 0 2.0722529.5721673.5721673 1.4977379.5721673 2.0698679 0l1.070704-1.0683191c1.662305-1.6622801 4.356529-1.6622801 6.018834 0 1.662304 1.6622801 1.662304 4.3566512 0 6.0188332l-1.068319 1.070704c-.572131.572131-.572131 1.497737 0 2.069869.572131.57213 1.500121.57213 2.072253 0l1.068318-1.06832c2.806688-2.806565 2.806688-7.3567246 0-10.1633391-1.403282-1.4033075-3.24242-2.105638-5.081669-2.105638zm-.138309 5.8614473c-.37495 0-.751254.1431516-1.037319.4292353l-5.8590627 5.8590625c-.5721673.572253-.5721673 1.500123 0 2.072253.5721673.572131 1.5001344.572131 2.0722527 0l5.859063-5.859062c.572252-.5721679.572252-1.5000862 0-2.0722535-.286066-.2860837-.659984-.4292353-1.034934-.4292353zm-8.9757886.8847018c-.3749556 0-.7512351.1431516-1.0373187.4292353l-1.0683191 1.0683185c-2.8066147 2.8066882-2.8066148 7.3567742 0 10.1633392 2.8066147 2.806689 7.3567734 2.806689 10.1633404 0l1.068319-1.068319c.572251-.57213.572253-1.500121 0-2.072251-.572132-.572254-1.497739-.572254-2.069869 0l-1.070704 1.068318c-1.662305 1.662183-4.3565534 1.662183-6.0188335 0-1.6622801-1.662304-1.6622801-4.356529 0-6.018833l1.0683191-1.070704c.5721673-.572131.5721673-1.4977014 0-2.0698687-.2860836-.2860837-.6599786-.4292353-1.0349342-.4292353z";--icon-camera: "m11 3c-.9428 0-1.4141313.0000788-1.7070312.2929688-.2714001.2714099-.2915088.6968024-.2929688 1.5078124-3.45256.0000701-5.18871.0076507-6.34375.9941407-.16547.14133-.3196175.2954675-.4609375.4609375-.99524 1.16527-.9960937 2.9216069-.9960937 6.4355466 0 3.5139.0008537 5.2722.9960937 6.4375.14132.1654.2954675.319538.4609375.460938 1.16527.9952 2.9216169.99414 6.4355469.99414h5.8164061c3.5139 0 5.270247.00106 6.435547-.99414.1654-.1414.319637-.295538.460938-.460938.9952-1.1653.996093-2.9236.996093-6.4375 0-3.5139397-.000893-5.2702766-.996093-6.4355466-.1413-.16547-.295538-.3196075-.460938-.4609375-1.1551-.98649-2.89125-.9940706-6.34375-.9941407-.0015-.8110099-.021569-1.2364025-.292969-1.5078124-.2929-.29289-.764231-.2929688-1.707031-.2929688zm1 5.1230469c2.5235 0 4.568359 2.0448591 4.568359 4.5683591s-2.044859 4.570313-4.568359 4.570313-4.5683594-2.046813-4.5683594-4.570313 2.0448594-4.5683591 4.5683594-4.5683591zm6.646484 0c.4588 0 .830078.3712581.830078.8300781 0 .45883-.371278.8320312-.830078.8320312-.4589 0-.832031-.3732012-.832031-.8320312 0-.45882.373131-.8300781.832031-.8300781z";--icon-dots: "M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z";--icon-back: "M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z";--icon-remove: "m6.35673 9.71429c-.76333 0-1.35856.66121-1.27865 1.42031l1.01504 9.6429c.06888.6543.62067 1.1511 1.27865 1.1511h9.25643c.658 0 1.2098-.4968 1.2787-1.1511l1.015-9.6429c.0799-.7591-.5153-1.42031-1.2786-1.42031zm.50041-4.5v.32142h-2.57143c-.71008 0-1.28571.57564-1.28571 1.28572s.57563 1.28571 1.28571 1.28571h15.42859c.7101 0 1.2857-.57563 1.2857-1.28571s-.5756-1.28572-1.2857-1.28572h-2.5714v-.32142c0-1.77521-1.4391-3.21429-3.2143-3.21429h-3.8572c-1.77517 0-3.21426 1.43908-3.21426 3.21429zm7.07146-.64286c.355 0 .6428.28782.6428.64286v.32142h-5.14283v-.32142c0-.35504.28782-.64286.64283-.64286z";--icon-edit: "M3.96371 14.4792c-.15098.151-.25578.3419-.3021.5504L2.52752 20.133c-.17826.8021.53735 1.5177 1.33951 1.3395l5.10341-1.1341c.20844-.0463.39934-.1511.55032-.3021l8.05064-8.0507-5.557-5.55702-8.05069 8.05062ZM13.4286 5.01437l5.557 5.55703 2.0212-2.02111c.6576-.65765.6576-1.72393 0-2.38159l-3.1755-3.17546c-.6577-.65765-1.7239-.65765-2.3816 0l-2.0211 2.02113Z";--icon-detail: "M5,3C3.89,3 3,3.89 3,5V19C3,20.11 3.89,21 5,21H19C20.11,21 21,20.11 21,19V5C21,3.89 20.11,3 19,3H5M5,5H19V19H5V5M7,7V9H17V7H7M7,11V13H17V11H7M7,15V17H14V15H7Z";--icon-select: "M7,10L12,15L17,10H7Z";--icon-check: "m12 22c5.5228 0 10-4.4772 10-10 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.5228 4.47715 10 10 10zm4.7071-11.4929-5.9071 5.9071-3.50711-3.5071c-.39052-.3905-.39052-1.0237 0-1.4142.39053-.3906 1.02369-.3906 1.41422 0l2.09289 2.0929 4.4929-4.49294c.3905-.39052 1.0237-.39052 1.4142 0 .3905.39053.3905 1.02374 0 1.41424z";--icon-edit-file: "M3.96371 14.4792c-.15098.151-.25578.3419-.3021.5504L2.52752 20.133c-.17826.8021.53735 1.5177 1.33951 1.3395l5.10341-1.1341c.20844-.0463.39934-.1511.55032-.3021l8.05064-8.0507-5.557-5.55702-8.05069 8.05062ZM13.4286 5.01437l5.557 5.55703 2.0212-2.02111c.6576-.65765.6576-1.72393 0-2.38159l-3.1755-3.17546c-.6577-.65765-1.7239-.65765-2.3816 0l-2.0211 2.02113Z";--icon-remove-file: "m12 22c5.5228 0 10-4.4772 10-10 0-5.52285-4.4772-10-10-10-5.52285 0-10 4.47715-10 10 0 5.5228 4.47715 10 10 10zm3.7071-13.70711c.3905.39053.3905 1.02369 0 1.41422l-2.2929 2.29289 2.2929 2.2929c.3905.3905.3905 1.0237 0 1.4142s-1.0237.3905-1.4142 0l-2.2929-2.2929-2.29289 2.2929c-.39053.3905-1.02369.3905-1.41422 0-.39052-.3905-.39052-1.0237 0-1.4142l2.29291-2.2929-2.2929-2.29289c-.39053-.39053-.39053-1.02369 0-1.41422.39052-.39052 1.02369-.39052 1.41421 0l2.29289 2.29291 2.2929-2.29291c.3905-.39052 1.0237-.39052 1.4142 0z";--icon-trash-file: var(--icon-remove);--icon-upload-error: var(--icon-error);--icon-fullscreen: "M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z";--icon-fullscreen-exit: "M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z";--icon-badge-success: "M10.5 18.2044L18.0992 10.0207C18.6629 9.41362 18.6277 8.46452 18.0207 7.90082C17.4136 7.33711 16.4645 7.37226 15.9008 7.97933L10.5 13.7956L8.0992 11.2101C7.53549 10.603 6.5864 10.5679 5.97933 11.1316C5.37226 11.6953 5.33711 12.6444 5.90082 13.2515L10.5 18.2044Z";--icon-badge-error: "m13.6 18.4c0 .8837-.7164 1.6-1.6 1.6-.8837 0-1.6-.7163-1.6-1.6s.7163-1.6 1.6-1.6c.8836 0 1.6.7163 1.6 1.6zm-1.6-13.9c.8284 0 1.5.67157 1.5 1.5v7c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5v-7c0-.82843.6716-1.5 1.5-1.5z";--icon-edit-rotate: "M16.89,15.5L18.31,16.89C19.21,15.73 19.76,14.39 19.93,13H17.91C17.77,13.87 17.43,14.72 16.89,15.5M13,17.9V19.92C14.39,19.75 15.74,19.21 16.9,18.31L15.46,16.87C14.71,17.41 13.87,17.76 13,17.9M19.93,11C19.76,9.61 19.21,8.27 18.31,7.11L16.89,8.53C17.43,9.28 17.77,10.13 17.91,11M15.55,5.55L11,1V4.07C7.06,4.56 4,7.92 4,12C4,16.08 7.05,19.44 11,19.93V17.91C8.16,17.43 6,14.97 6,12C6,9.03 8.16,6.57 11,6.09V10L15.55,5.55Z";--icon-edit-flip-v: "M3 15V17H5V15M15 19V21H17V19M19 3H5C3.9 3 3 3.9 3 5V9H5V5H19V9H21V5C21 3.9 20.1 3 19 3M21 19H19V21C20.1 21 21 20.1 21 19M1 11V13H23V11M7 19V21H9V19M19 15V17H21V15M11 19V21H13V19M3 19C3 20.1 3.9 21 5 21V19Z";--icon-edit-flip-h: "M15 21H17V19H15M19 9H21V7H19M3 5V19C3 20.1 3.9 21 5 21H9V19H5V5H9V3H5C3.9 3 3 3.9 3 5M19 3V5H21C21 3.9 20.1 3 19 3M11 23H13V1H11M19 17H21V15H19M15 5H17V3H15M19 13H21V11H19M19 21C20.1 21 21 20.1 21 19H19Z";--icon-edit-brightness: "M12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,15.31L23.31,12L20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31Z";--icon-edit-contrast: "M12,20C9.79,20 7.79,19.1 6.34,17.66L17.66,6.34C19.1,7.79 20,9.79 20,12A8,8 0 0,1 12,20M6,8H8V6H9.5V8H11.5V9.5H9.5V11.5H8V9.5H6M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,16H17V14.5H12V16Z";--icon-edit-saturation: "M3,13A9,9 0 0,0 12,22C12,17 7.97,13 3,13M12,5.5A2.5,2.5 0 0,1 14.5,8A2.5,2.5 0 0,1 12,10.5A2.5,2.5 0 0,1 9.5,8A2.5,2.5 0 0,1 12,5.5M5.6,10.25A2.5,2.5 0 0,0 8.1,12.75C8.63,12.75 9.12,12.58 9.5,12.31C9.5,12.37 9.5,12.43 9.5,12.5A2.5,2.5 0 0,0 12,15A2.5,2.5 0 0,0 14.5,12.5C14.5,12.43 14.5,12.37 14.5,12.31C14.88,12.58 15.37,12.75 15.9,12.75C17.28,12.75 18.4,11.63 18.4,10.25C18.4,9.25 17.81,8.4 16.97,8C17.81,7.6 18.4,6.74 18.4,5.75C18.4,4.37 17.28,3.25 15.9,3.25C15.37,3.25 14.88,3.41 14.5,3.69C14.5,3.63 14.5,3.56 14.5,3.5A2.5,2.5 0 0,0 12,1A2.5,2.5 0 0,0 9.5,3.5C9.5,3.56 9.5,3.63 9.5,3.69C9.12,3.41 8.63,3.25 8.1,3.25A2.5,2.5 0 0,0 5.6,5.75C5.6,6.74 6.19,7.6 7.03,8C6.19,8.4 5.6,9.25 5.6,10.25M12,22A9,9 0 0,0 21,13C16,13 12,17 12,22Z";--icon-edit-crop: "M7,17V1H5V5H1V7H5V17A2,2 0 0,0 7,19H17V23H19V19H23V17M17,15H19V7C19,5.89 18.1,5 17,5H9V7H17V15Z";--icon-edit-text: "M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z";--icon-edit-draw: "m21.879394 2.1631238c-1.568367-1.62768627-4.136546-1.53831744-5.596267.1947479l-8.5642801 10.1674753c-1.4906533-.224626-3.061232.258204-4.2082427 1.448604-1.0665468 1.106968-1.0997707 2.464806-1.1203996 3.308068-.00142.05753-.00277.113001-.00439.16549-.02754.894146-.08585 1.463274-.5821351 2.069648l-.80575206.98457.88010766.913285c1.0539516 1.093903 2.6691689 1.587048 4.1744915 1.587048 1.5279113 0 3.2235468-.50598 4.4466094-1.775229 1.147079-1.190514 1.612375-2.820653 1.395772-4.367818l9.796763-8.8879697c1.669907-1.5149954 1.75609-4.1802333.187723-5.8079195zm-16.4593821 13.7924592c.8752943-.908358 2.2944227-.908358 3.1697054 0 .8752942.908358.8752942 2.381259 0 3.289617-.5909138.61325-1.5255389.954428-2.53719.954428-.5223687 0-.9935663-.09031-1.3832112-.232762.3631253-.915463.3952949-1.77626.4154309-2.429737.032192-1.045425.072224-1.308557.3352649-1.581546z";--icon-edit-guides: "M1.39,18.36L3.16,16.6L4.58,18L5.64,16.95L4.22,15.54L5.64,14.12L8.11,16.6L9.17,15.54L6.7,13.06L8.11,11.65L9.53,13.06L10.59,12L9.17,10.59L10.59,9.17L13.06,11.65L14.12,10.59L11.65,8.11L13.06,6.7L14.47,8.11L15.54,7.05L14.12,5.64L15.54,4.22L18,6.7L19.07,5.64L16.6,3.16L18.36,1.39L22.61,5.64L5.64,22.61L1.39,18.36Z";--icon-edit-color: "M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z";--icon-edit-resize: "M10.59,12L14.59,8H11V6H18V13H16V9.41L12,13.41V16H20V4H8V12H10.59M22,2V18H12V22H2V12H6V2H22M10,14H4V20H10V14Z";--icon-external-source-placeholder: "M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z";--icon-facebook: "M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z";--icon-dropbox: "m6.0344426 1.9570014-5.96360421 3.7989306 5.96360421 3.7989309 5.9636044-3.7989309zm5.9636044 3.7989306 5.963604 3.7989309 5.963605-3.7989309-5.963605-3.7989306zm5.963604 3.7989309-5.963604 3.7989311 5.963604 3.798929 5.963605-3.798929zm-5.963604 3.7989311-5.9636044-3.7989311-5.96360421 3.7989311 5.96360421 3.798929zm.0024 1.204188-5.9636041 3.80132 5.9636041 3.798931 5.963604-3.798931z";--icon-gdrive: "M7.71,3.5L1.15,15L4.58,21L11.13,9.5M9.73,15L6.3,21H19.42L22.85,15M22.28,14L15.42,2H8.58L8.57,2L15.43,14H22.28Z";--icon-gphotos: "M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z";--icon-instagram: "m 16.6963,8.35462 c 0.5834,0 1.0564,-0.47293 1.0564,-1.05632 0,-0.58339 -0.473,-1.05632 -1.0564,-1.05632 -0.5833,0 -1.0563,0.47293 -1.0563,1.05632 0,0.58339 0.473,1.05632 1.0563,1.05632 z m -4.699,-0.87741 c -0.8941,0 -1.7681,0.26513 -2.51154,0.76187 -0.74341,0.49674 -1.32282,1.20277 -1.66495,2.02882 -0.34214,0.826 -0.43164,1.735 -0.25719,2.6119 0.17446,0.8769 0.60503,1.6824 1.23727,2.3146 0.63224,0.6322 1.43771,1.0627 2.31471,1.2371 0.8769,0.1743 1.7858,0.0848 2.6118,-0.2574 0.826,-0.3422 1.532,-0.9217 2.0287,-1.6651 0.4967,-0.7435 0.7618,-1.6175 0.7617,-2.5116 0,-0.5937 -0.1169,-1.1815 -0.344,-1.7299 C 15.9466,9.719 15.6136,9.22066 15.1938,8.80091 14.7741,8.38116 14.2757,8.04822 13.7272,7.82109 13.1787,7.59397 12.5909,7.47712 11.9973,7.47721 Z m 0,7.45429 c -0.5806,0 -1.148,-0.1721 -1.6307,-0.4946 C 9.88388,14.1143 9.50767,13.6559 9.28551,13.1196 9.06335,12.5833 9.00523,11.9931 9.11848,11.4237 9.23174,10.8543 9.51128,10.3313 9.92178,9.92085 10.3323,9.51036 10.8553,9.23081 11.4246,9.11756 11.994,9.0043 12.5842,9.06243 13.1205,9.28459 c 0.5363,0.22215 0.9948,0.59836 1.3173,1.08101 0.3225,0.4827 0.4946,1.0502 0.4946,1.6307 0,0.7785 -0.3092,1.5251 -0.8597,2.0755 -0.5504,0.5505 -1.297,0.8597 -2.0754,0.8597 z m 0,-10.15082 c 2.3506,0 2.6287,0.00909 3.5571,0.05137 0.8582,0.03913 1.3243,0.1824 1.6346,0.30295 0.3828,0.14096 0.7291,0.36604 1.0134,0.65867 0.2926,0.28423 0.5177,0.63052 0.6586,1.01334 0.1206,0.31029 0.2639,0.77642 0.303,1.63461 0.0423,0.92843 0.0514,1.20657 0.0514,3.55718 0,2.3506 -0.0091,2.6287 -0.0514,3.5572 -0.0391,0.8581 -0.1824,1.3243 -0.303,1.6346 -0.1466,0.3795 -0.3709,0.7242 -0.6586,1.0119 -0.2877,0.2877 -0.6324,0.5121 -1.012,0.6587 -0.3103,0.1205 -0.7764,0.2638 -1.6346,0.3029 -0.9281,0.0423 -1.2066,0.0514 -3.5571,0.0514 -2.35063,0 -2.62912,-0.0091 -3.5572,-0.0514 C 7.58331,19.125 7.11718,18.9817 6.80689,18.8612 6.42407,18.7202 6.07778,18.4951 5.79355,18.2025 5.50093,17.9183 5.27584,17.572 5.13488,17.1892 5.01433,16.8789 4.87107,16.4127 4.83193,15.5546 4.78965,14.6261 4.78056,14.348 4.78056,11.9974 4.78056,9.6468 4.78965,9.36865 4.83193,8.44023 4.87107,7.58203 5.01433,7.1159 5.13488,6.80561 5.27584,6.42279 5.50093,6.0765 5.79355,5.79227 6.07778,5.49965 6.42407,5.27456 6.80689,5.1336 7.11718,5.01305 7.58331,4.86979 8.4415,4.83065 9.36993,4.78837 9.64807,4.77928 11.9987,4.77928 Z m 0.0014,-1.58744 c -2.39081,0 -2.69062,0.01013 -3.62953,0.05311 C 7.43026,3.28933 6.79116,3.43923 6.23103,3.65693 5.64371,3.87792 5.11163,4.22433 4.67189,4.67201 4.22484,5.11192 3.87904,5.64398 3.65856,6.23115 3.43912,6.79128 3.29026,7.43108 3.24763,8.3679 3.205,9.30471 3.19452,9.60661 3.19452,11.9974 c 0,2.3908 0.01013,2.6906 0.05311,3.6295 0.04298,0.9389 0.19149,1.5766 0.40918,2.1367 0.22099,0.5874 0.5674,1.1194 1.01508,1.5592 0.43982,0.4476 0.97187,0.7941 1.55914,1.0154 0.55908,0.2173 1.19993,0.3662 2.13674,0.4092 0.93681,0.043 1.23872,0.0527 3.62953,0.0527 2.3907,0 2.6905,-0.0101 3.6295,-0.0527 0.9389,-0.0426 1.5766,-0.1919 2.1367,-0.4092 0.5847,-0.2262 1.1158,-0.5721 1.5591,-1.0154 0.4434,-0.4434 0.7892,-0.9744 1.0155,-1.5592 0.2173,-0.5591 0.3662,-1.1999 0.4091,-2.1367 C 20.7902,14.6901 20.8,14.3882 20.8,11.9974 20.8,9.60661 20.7899,9.3068 20.7472,8.3679 20.7046,7.42899 20.5554,6.79128 20.3381,6.23115 20.1168,5.64388 19.7703,5.11183 19.3226,4.67201 18.8827,4.22496 18.3507,3.87916 17.7635,3.65867 17.2034,3.43923 16.5636,3.29038 15.6268,3.24775 14.6899,3.20512 14.388,3.19464 11.9973,3.19464 Z";--icon-flickr: var(--icon-external-source-placeholder);--icon-vk: var(--icon-external-source-placeholder);--icon-evernote: var(--icon-external-source-placeholder);--icon-box: var(--icon-external-source-placeholder);--icon-onedrive: var(--icon-external-source-placeholder);--icon-huddle: var(--icon-external-source-placeholder)}:where(.lr-wgt-l10n_en-US,.lr-wgt-common),:host{--l10n-upload-file: "Upload file";--l10n-upload-files: "Upload files";--l10n-drop-files-here: "Drop files here";--l10n-select-file-source: "Select file source";--l10n-selected: "Selected";--l10n-upload: "Upload";--l10n-add-more: "Add more";--l10n-cancel: "Cancel";--l10n-clear: "Clear";--l10n-camera-shot: "Shot";--l10n-upload-url: "Import";--l10n-edit-image: "Edit image";--l10n-edit-detail: "Details";--l10n-back: "Back";--l10n-done: "Done";--l10n-ok: "Ok";--l10n-remove-from-list: "Remove";--l10n-no: "No";--l10n-yes: "Yes";--l10n-confirm-your-action: "Confirm your action";--l10n-are-you-sure: "Are you sure?";--l10n-selected-count: "Selected:";--l10n-upload-error: "Upload error";--l10n-validation-error: "Validation error";--l10n-no-files: "No files selected";--l10n-browse: "Browse";--l10n-not-uploaded-yet: "Not uploaded yet...";--l10n-src-type-local: "Local file";--l10n-src-type-from-url: "From URL";--l10n-src-type-camera: "Camera";--l10n-src-type-draw: "Draw";--l10n-src-type-facebook: "Facebook";--l10n-src-type-dropbox: "Dropbox";--l10n-src-type-gdrive: "Gdrive";--l10n-src-type-gphotos: "Gphotos";--l10n-src-type-instagram: "Instagram";--l10n-src-type-flickr: "Flickr";--l10n-src-type-vk: "VK";--l10n-src-type-evernote: "Evernote";--l10n-src-type-box: "Box";--l10n-src-type-onedrive: "Onedrive";--l10n-src-type-huddle: "Huddle";--l10n-src-type-other: "Other";--l10n-src-type: var(--l10n-src-type-local);--l10n-caption-from-url: "Import from external URL";--l10n-caption-camera: "Camera";--l10n-caption-draw: "Draw";--l10n-caption-edit-file: "Edit file";--l10n-file-no-name: "No name...";--l10n-toggle-fullscreen: "Toggle fullscreen";--l10n-toggle-guides: "Toggle guides";--l10n-rotate: "Rotate";--l10n-flip-vertical: "Flip vertical";--l10n-flip-horizontal: "Flip horizontal";--l10n-brightness: "Brightness";--l10n-contrast: "Contrast";--l10n-saturation: "Saturation";--l10n-resize: "Resize image";--l10n-crop: "Crop";--l10n-select-color: "Select color";--l10n-text: "Text";--l10n-draw: "Draw";--l10n-cancel-edit: "Cancel edit";--l10n-tab-view: "Preview";--l10n-tab-details: "Details";--l10n-file-name: "Name";--l10n-file-size: "Size";--l10n-cdn-url: "CDN URL";--l10n-file-size-unknown: "Unknown";--l10n-camera-permissions-denied: "Camera access denied";--l10n-camera-permissions-prompt: "Camera access prompted";--l10n-camera-permissions-request: "Request permissions";--l10n-files-count-limit-error-title: "Files count limit overflow";--l10n-files-count-limit-error-too-few: "You\\2019ve chosen {{total}}. At least {{min}} required.";--l10n-files-count-limit-error-too-many: "You\\2019ve chosen too many files. {{max}} is maximum.";--l10n-files-max-size-limit-error: "File is too big. Max file size is {{maxFileSize}} bytes.";--l10n-has-validation-errors: "File validation error ocurred. Please, check your files before upload.";--l10n-images-only-accepted: "Only image files are accepted.";--l10n-file-type-not-allowed: "Uploading of these file types is not allowed."}:where(.lr-wgt-theme,.lr-wgt-common),:host{--darkmode: 0;--h-foreground: 208;--s-foreground: 4%;--l-foreground: calc(15% + 70% * var(--darkmode));--h-background: 208;--s-background: 4%;--l-background: calc(95% - 87% * var(--darkmode));--h-accent: 211;--s-accent: 100%;--l-accent: calc(50% - 5% * var(--darkmode));--h-confirm: 140;--s-confirm: 60%;--l-confirm: 60%;--h-error: 358;--s-error: 100%;--l-error: 66%;--shadows: 1;--h-shadow: 0;--s-shadow: 0%;--l-shadow: 0%;--opacity-normal: .5;--opacity-hover: .8;--opacity-active: 1;--ui-size: 36px;--gap-min: 2px;--gap-mid: 10px;--gap-max: 20px;--gap-table: 0px;--borders: 1;--border-radius-element: 7px;--border-radius-frame: 10px;--border-radius-thumb: 5px;--transition-duration: .2s;--modal-max-w: 800px;--modal-max-h: 600px;--darkmode-minus: calc(1 + var(--darkmode) * -2);--clr-background: hsl(var(--h-background), var(--s-background), var(--l-background));--clr-background-dark: hsl(var(--h-background), var(--s-background), calc(var(--l-background) - 3%));--clr-background-light: hsl(var(--h-background), var(--s-background), calc(var(--l-background) + 3%));--clr-generic-file-icon: hsl( var(--h-background), var(--s-background), calc(var(--l-background) + 4% * var(--darkmode-minus)) );--clr-accent: hsl(var(--h-accent), var(--s-accent), var(--l-accent));--clr-accent-light: hsla(var(--h-accent), var(--s-accent), var(--l-accent), 50%);--clr-accent-lightest: hsla(var(--h-accent), var(--s-accent), var(--l-accent), 10%);--clr-confirm: hsl(var(--h-confirm), var(--s-confirm), var(--l-confirm));--clr-error: hsl(var(--h-error), var(--s-error), var(--l-error));--clr-error-light: hsla(var(--h-error), var(--s-error), var(--l-error), 15%);--clr-error-lightest: hsla(var(--h-error), var(--s-error), var(--l-error), 5%);--clr-error-message-bgr: hsl(var(--h-error), var(--s-error), calc(var(--l-error) + 30% * var(--darkmode-minus)));--clr-txt: hsl(var(--h-foreground), var(--s-foreground), var(--l-foreground));--clr-txt-mid: hsl(var(--h-foreground), var(--s-foreground), calc(var(--l-foreground) + 15% * var(--darkmode-minus)));--clr-txt-light: hsl( var(--h-foreground), var(--s-foreground), calc(var(--l-foreground) + 30% * var(--darkmode-minus)) );--clr-txt-lightest: hsl( var(--h-foreground), var(--s-foreground), calc(var(--l-foreground) + 50% * var(--darkmode-minus)) );--clr-shade-lv1: hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), 5%);--clr-shade-lv2: hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), 8%);--clr-shade-lv3: hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), 12%);--border-light: 1px solid hsla( var(--h-foreground), var(--s-foreground), var(--l-foreground), calc((.1 - .05 * var(--darkmode)) * var(--borders)) );--border-mid: 1px solid hsla( var(--h-foreground), var(--s-foreground), var(--l-foreground), calc((.2 - .1 * var(--darkmode)) * var(--borders)) );--border-accent: 1px solid hsla(var(--h-accent), var(--s-accent), var(--l-accent), 1 * var(--borders));--border-dashed: 2px dashed hsla(var(--h-foreground), var(--s-foreground), var(--l-foreground), calc(.1 * var(--borders)));--clr-curtain: hsla(var(--h-background), var(--s-background), calc(var(--l-background) - 10%), 70%);--hsl-shadow: var(--h-shadow), var(--s-shadow), var(--l-shadow);--modal-shadow: 0px 0px 1px hsla(var(--hsl-shadow), calc((.35 + .65 * var(--darkmode)) * var(--shadows))), 0px 6px 40px hsla(var(--hsl-shadow), calc((.2 + .4 * var(--darkmode)) * var(--shadows)));--inset-shadow: inset 0px 2px 3px hsla(var(--hsl-shadow), calc(.09 + .1 * var(--darkmode)));--clr-btn-bgr-primary: var(--clr-accent);--clr-btn-bgr-primary-hover: hsl( var(--h-accent), var(--s-accent), calc(var(--l-accent) - 4% * var(--darkmode-minus)) );--clr-btn-bgr-primary-active: hsl( var(--h-accent), var(--s-accent), calc(var(--l-accent) - 8% * var(--darkmode-minus)) );--clr-btn-txt-primary: var(--clr-background-light);--shadow-btn-primary: 0px 1px 2px hsla(var(--hsl-shadow), calc(.26 * var(--shadows))), 0px 2px 8px hsla(var(--hsl-shadow), calc(.08 * var(--shadows))), inset 0px 0px 2px hsla(var(--hsl-shadow), calc(.2 * var(--shadows)));--clr-btn-bgr-secondary: hsl( var(--h-background), var(--s-background), calc(var(--l-background) + 3% + 3% * var(--darkmode)) );--clr-btn-bgr-secondary-hover: hsl( var(--h-background), var(--s-background), calc(var(--l-background) + 8% * var(--darkmode)) );--clr-btn-bgr-secondary-active: hsl( var(--h-background), var(--s-background), calc(var(--l-background) - 3% + 13% * var(--darkmode)) );--clr-btn-txt-secondary: var(--clr-txt);--shadow-btn-secondary: 0px 1px 1px hsla(var(--hsl-shadow), calc(.07 * var(--shadows))), 0px 2px 8px hsla(var(--hsl-shadow), calc(.06 * var(--shadows))), inset 0px 0px 1px hsla(var(--hsl-shadow), calc(.4 * var(--shadows)));--clr-btn-bgr-disabled: var(--clr-background);--clr-btn-txt-disabled: var(--clr-txt-lightest);--shadow-btn-disabled: inset 0px 0px 1px hsla(var(--hsl-shadow), calc(.4 * var(--shadows)))}@media only screen and (max-height: 600px){:where(.lr-wgt-theme,.lr-wgt-common),:host{--modal-max-h: 100%}}@media only screen and (max-width: 800px){:where(.lr-wgt-theme,.lr-wgt-common),:host{--modal-max-w: 100%;--modal-max-h: 100%}}:where(.lr-wgt-theme,.lr-wgt-common),:host{color:var(--clr-txt);font-size:15px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}:where(.lr-wgt-theme,.lr-wgt-common) *,:host *{box-sizing:border-box}:where(.lr-wgt-theme,.lr-wgt-common) [hidden],:host [hidden]{display:none!important}:where(.lr-wgt-theme,.lr-wgt-common) [activity]:not([active]),:host [activity]:not([active]){display:none}:where(.lr-wgt-theme,.lr-wgt-common) button,:host button{display:flex;align-items:center;justify-content:center;height:var(--ui-size);padding-right:1.4em;padding-left:1.4em;font-size:1em;font-family:inherit;white-space:nowrap;border:none;border-radius:var(--border-radius-element);cursor:pointer;-webkit-user-select:none;user-select:none}@media only screen and (max-width: 800px){:where(.lr-wgt-theme,.lr-wgt-common) button,:host button{padding-right:1em;padding-left:1em}}:where(.lr-wgt-theme,.lr-wgt-common) button.primary-btn,:host button.primary-btn{color:var(--clr-btn-txt-primary);background-color:var(--clr-btn-bgr-primary);box-shadow:var(--shadow-btn-primary);transition:background-color var(--transition-duration)}:where(.lr-wgt-theme,.lr-wgt-common) button.primary-btn:hover,:host button.primary-btn:hover{background-color:var(--clr-btn-bgr-primary-hover)}:where(.lr-wgt-theme,.lr-wgt-common) button.primary-btn:active,:host button.primary-btn:active{background-color:var(--clr-btn-bgr-primary-active)}:where(.lr-wgt-theme,.lr-wgt-common) button.secondary-btn,:host button.secondary-btn{color:var(--clr-btn-txt-secondary);background-color:var(--clr-btn-bgr-secondary);box-shadow:var(--shadow-btn-secondary);transition:background-color var(--transition-duration)}:where(.lr-wgt-theme,.lr-wgt-common) button.secondary-btn:hover,:host button.secondary-btn:hover{background-color:var(--clr-btn-bgr-secondary-hover)}:where(.lr-wgt-theme,.lr-wgt-common) button.secondary-btn:active,:host button.secondary-btn:active{background-color:var(--clr-btn-bgr-secondary-active)}:where(.lr-wgt-theme,.lr-wgt-common) :is(button[disabled],button.primary-btn[disabled],button.secondary-btn[disabled]),:host :is(button[disabled],button.primary-btn[disabled],button.secondary-btn[disabled]){color:var(--clr-btn-txt-disabled);background-color:var(--clr-btn-bgr-disabled);box-shadow:var(--shadow-btn-disabled);pointer-events:none}:where(.lr-wgt-theme,.lr-wgt-common) a,:host a{color:var(--clr-accent);text-decoration:none}:where(.lr-wgt-theme,.lr-wgt-common) a[disabled],:host a[disabled]{pointer-events:none}:where(.lr-wgt-theme,.lr-wgt-common) input[type=text],:host input[type=text]{display:flex;width:100%;height:var(--ui-size);padding-right:.6em;padding-left:.6em;color:var(--clr-txt);font-size:var(--font-size-ui);font-family:inherit;background-color:var(--clr-background-light);border:var(--border-mid);border-radius:var(--border-radius-element);box-shadow:var(--inset-shadow);transition:var(--transition-duration)}:where(.lr-wgt-theme,.lr-wgt-common) input[type=text]:hover,:host input[type=text]:hover{border-color:var(--clr-accent-light)}:where(.lr-wgt-theme,.lr-wgt-common) input[type=text]:focus,:host input[type=text]:focus{border-color:var(--clr-accent);outline:none}:where(.lr-wgt-theme,.lr-wgt-common) input[disabled],:host input[disabled]{opacity:.6;pointer-events:none}lr-icon{display:inline-flex;align-items:center;justify-content:center;width:var(--ui-size);height:var(--ui-size)}lr-icon svg{width:1.2em;height:1.2em}lr-icon:not([raw]) path{fill:currentColor}lr-tabs{display:grid;grid-template-rows:min-content minmax(var(--ui-size),auto);height:100%;overflow:hidden;color:var(--clr-txt-lightest)}lr-tabs>.tabs-row{display:flex;grid-template-columns:minmax();background-color:var(--clr-background-light)}lr-tabs>.tabs-context{overflow-y:auto}lr-tabs .tabs-row>.tab{display:flex;flex-grow:1;align-items:center;justify-content:center;height:var(--ui-size);border-bottom:var(--border-light);cursor:pointer;transition:var(--transition-duration)}lr-tabs .tabs-row>.tab[current]{color:var(--clr-txt);border-color:var(--clr-txt)}lr-range{position:relative;display:inline-flex;align-items:center;justify-content:center;height:var(--ui-size)}lr-range datalist{display:none}lr-range input{width:100%;height:100%;opacity:0}lr-range .track-wrapper{position:absolute;right:10px;left:10px;display:flex;align-items:center;justify-content:center;height:2px;-webkit-user-select:none;user-select:none;pointer-events:none}lr-range .track{position:absolute;right:0;left:0;display:flex;align-items:center;justify-content:center;height:2px;background-color:currentColor;border-radius:2px;opacity:.5}lr-range .slider{position:absolute;width:16px;height:16px;background-color:currentColor;border-radius:100%;transform:translate(-50%)}lr-range .bar{position:absolute;left:0;height:100%;background-color:currentColor;border-radius:2px}lr-range .caption{position:absolute;display:inline-flex;justify-content:center}lr-color{position:relative;display:inline-flex;align-items:center;justify-content:center;width:var(--ui-size);height:var(--ui-size);overflow:hidden;background-color:var(--clr-background);cursor:pointer}lr-color[current]{background-color:var(--clr-txt)}lr-color input[type=color]{position:absolute;display:block;width:100%;height:100%;opacity:0}lr-color .current-color{position:absolute;width:50%;height:50%;border:2px solid #fff;border-radius:100%;pointer-events:none}lr-simple-btn{position:relative;display:inline-flex}lr-simple-btn button{padding-left:.2em!important;color:var(--clr-btn-txt-secondary);background-color:var(--clr-btn-bgr-secondary);box-shadow:var(--shadow-btn-secondary)}lr-simple-btn button:hover{background-color:var(--clr-btn-bgr-secondary-hover)}lr-simple-btn button:active{background-color:var(--clr-btn-bgr-secondary-active)}lr-simple-btn>lr-drop-area{display:contents}lr-simple-btn .visual-drop-area{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;padding:var(--gap-min);border:var(--border-dashed);border-radius:inherit;transition:border-color var(--transition-duration) ease,background-color var(--transition-duration) ease,opacity var(--transition-duration) ease}lr-simple-btn .visual-drop-area:before{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;color:var(--clr-txt-light);background-color:var(--clr-background);border-radius:inherit;content:var(--l10n-drop-files-here)}lr-simple-btn>lr-drop-area[drag-state=active] .visual-drop-area{background-color:var(--clr-accent-lightest);opacity:1}lr-simple-btn>lr-drop-area[drag-state=inactive] .visual-drop-area{background-color:var(--clr-shade-lv1);opacity:0}lr-simple-btn>lr-drop-area[drag-state=near] .visual-drop-area{background-color:var(--clr-accent-lightest);border-color:var(--clr-accent-light);opacity:1}lr-simple-btn>lr-drop-area[drag-state=over] .visual-drop-area{background-color:var(--clr-accent-lightest);border-color:var(--clr-accent);opacity:1}lr-simple-btn>:where(lr-drop-area[drag-state="active"],lr-drop-area[drag-state="near"],lr-drop-area[drag-state="over"]) button{box-shadow:none}lr-simple-btn>lr-drop-area:after{content:""}lr-source-btn{display:flex;align-items:center;padding-right:1em;color:var(--clr-txt-mid);border-radius:var(--border-radius-element);cursor:pointer;transition-duration:var(--transition-duration);transition-property:background-color,color;-webkit-user-select:none;user-select:none}lr-source-btn:hover{color:var(--clr-txt);background-color:var(--clr-shade-lv1)}lr-source-btn:active{color:var(--clr-txt);background-color:var(--clr-shade-lv2)}lr-source-btn lr-icon{display:inline-flex;flex-grow:1;justify-content:center;min-width:var(--ui-size)}lr-source-btn[type=local]>.txt:after{content:var(--l10n-local-files)}lr-source-btn[type=camera]>.txt:after{content:var(--l10n-camera)}lr-source-btn[type=url]>.txt:after{content:var(--l10n-from-url)}lr-source-btn[type=other]>.txt:after{content:var(--l10n-other)}lr-source-btn .txt{display:flex;align-items:center;box-sizing:border-box;width:100%;height:var(--ui-size);padding:0;white-space:nowrap;border:none}lr-drop-area{display:flex;align-items:center;justify-content:center;padding:var(--gap-min);border:var(--border-dashed);border-radius:var(--border-radius-frame);transition:border-color var(--transition-duration) ease,background-color var(--transition-duration) ease,opacity var(--transition-duration) ease}lr-drop-area:after{color:var(--clr-txt-light);content:var(--l10n-drop-files-here)}lr-drop-area[ghost][drag-state=inactive]{opacity:0}lr-drop-area[drag-state=inactive]{background-color:var(--clr-shade-lv1)}lr-drop-area[drag-state=active]{background-color:var(--clr-accent-lightest);opacity:1}lr-drop-area[drag-state=near]{opacity:1}lr-drop-area[drag-state=near],lr-drop-area:hover{background-color:var(--clr-accent-lightest);border-color:var(--clr-accent-light)}lr-drop-area[drag-state=over]{background-color:var(--clr-accent-lightest);border-color:var(--clr-accent);opacity:1}lr-modal{--modal-max-content-height: calc(100vh - 4 * var(--gap-mid) - var(--ui-size));--modal-content-height-fill: 100vh;position:fixed;inset:0;z-index:10000;display:flex;align-items:center;justify-content:center;padding:var(--gap-mid);color:var(--clr-txt);background-color:var(--clr-curtain);transition:opacity .4s}lr-modal:not([active]){visibility:hidden;opacity:0}lr-modal button.close-btn{display:inline-flex;align-items:center;justify-content:center;width:var(--ui-size);height:var(--ui-size);padding:0;color:var(--clr-txt-light);background-color:transparent;border:none;cursor:pointer;opacity:var(--opacity-normal);transition:opacity var(--transition-duration) ease}lr-modal button.close-btn:hover{opacity:var(--opacity-hover)}lr-modal button.close-btn:active{opacity:var(--opacity-active)}lr-modal>.dialog{display:flex;flex-direction:column;width:100%;max-width:var(--modal-max-w);min-height:var(--ui-size);max-height:var(--modal-max-h);overflow:hidden;background-color:var(--clr-background);border-radius:var(--border-radius-frame);box-shadow:var(--modal-shadow);transition:transform .4s}@media only screen and (max-width: 600px),only screen and (max-height: 800px){lr-modal>.dialog>.content{height:var(--modal-max-content-height)}}lr-modal:not([active])>.dialog{transform:translateY(20px)}lr-modal>.dialog>.content{display:contents}lr-modal .heading{display:grid;grid-template-columns:min-content 1fr min-content;padding:var(--gap-mid);color:var(--clr-txt-light);font-weight:500;font-size:1.1em;line-height:var(--ui-size);background-color:var(--clr-background-light);border-bottom:var(--border-light)}lr-url-source{display:grid;grid-gap:var(--gap-mid);grid-template-columns:1fr min-content min-content;padding:var(--gap-mid)}lr-url-source .url-input{display:flex}lr-url-source .url-upload-btn:after{content:var(--l10n-upload-url)}lr-camera-source{position:relative;display:flex;align-items:center;justify-content:center;height:var(--modal-content-height-fill, 100%);max-height:var(--modal-max-content-height);padding-bottom:calc(2 * var(--gap-mid) + var(--ui-size))}lr-camera-source video{display:block;max-width:100%;max-height:100%;object-fit:contain;object-position:center center;background-color:var(--clr-background)}lr-camera-source .toolbar{position:absolute;bottom:0;display:flex;justify-content:space-between;width:100%;padding:var(--gap-mid);background-color:var(--clr-background)}lr-camera-source .content{display:flex;justify-content:center;height:100%}lr-camera-source .message-box{--padding: calc(var(--gap-max) * 2);display:flex;flex-direction:column;grid-gap:var(--gap-max);align-items:center;justify-content:center;padding:var(--padding) var(--padding) 0 var(--padding)}lr-camera-source .message-box button{color:var(--clr-btn-txt-primary);background-color:var(--clr-btn-bgr-primary)}lr-external-source{position:relative;display:grid;grid-template-rows:auto min-content;height:var(--modal-content-height-fill, 100%);max-height:var(--modal-max-content-height)}lr-external-source iframe{display:block;width:100%;height:100%;border:none}lr-external-source .toolbar{display:grid;grid-gap:var(--gap-mid);grid-template-columns:max-content 1fr max-content max-content;align-items:center;width:100%;padding:var(--gap-mid);border-top:var(--border-light)}lr-external-source .back-btn{padding-left:0}lr-external-source .back-btn:after{content:var(--l10n-back)}lr-external-source .selected-counter{display:flex;grid-gap:var(--gap-mid);align-items:center;justify-content:space-between;padding:var(--gap-mid)}lr-upload-list{display:flex;flex-direction:column;max-height:100%;overflow:hidden;background-color:var(--clr-background-light);transition:opacity var(--transition-duration)}lr-upload-list .no-files{height:var(--file-item-height);padding:var(--gap-max)}lr-upload-list .files{display:block;overflow:auto}lr-upload-list .toolbar{display:flex;gap:var(--gap-mid);justify-content:space-between;padding:var(--gap-mid);background-color:var(--clr-background);border-top:var(--border-light)}lr-upload-list .toolbar-spacer{flex:1}lr-start-from{display:grid;grid-template-columns:min-content auto;grid-gap:var(--gap-mid);gap:var(--gap-mid);padding:var(--gap-mid);overflow-y:auto}lr-file-item>.inner{position:relative;display:grid;grid-template-columns:min-content auto min-content min-content;padding:var(--gap-mid);background-color:transparent;border-bottom:var(--border-light);transition:var(--transition-duration)}lr-file-item:last-of-type>.inner{border-bottom:none}lr-file-item:hover>.inner{background-color:var(--clr-background)}lr-file-item>.inner[focused]{background-color:transparent}lr-file-item>.inner[uploading] .edit-btn{display:none}lr-file-item>.inner[failed]{background-color:var(--clr-error-lightest)}lr-file-item .thumb{position:relative;display:inline-flex;width:var(--ui-size);height:var(--ui-size);background-color:var(--clr-shade-lv1);background-position:center center;background-size:cover;border-radius:var(--border-radius-thumb)}lr-file-item .file-name-wrapper{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;max-width:100%;padding-right:var(--gap-mid);padding-left:var(--gap-mid);overflow:hidden;color:var(--clr-txt)}lr-file-item .file-name{max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}lr-file-item button{width:var(--ui-size);height:var(--ui-size);padding:0;color:var(--clr-txt-lightest);background-color:transparent;cursor:pointer;opacity:var(--opacity-normal);transition:opacity var(--transition-duration)}lr-file-item .upload-btn{display:none}lr-file-item button:hover{opacity:var(--opacity-hover)}lr-file-item .badge{position:absolute;top:calc(var(--ui-size) * -.15);right:calc(var(--ui-size) * -.15);display:none;width:calc(var(--ui-size) * .42);height:calc(var(--ui-size) * .42);color:var(--clr-background-light);background-color:var(--clr-txt);border-radius:50%}lr-file-item>.inner[failed] .badge,lr-file-item>.inner[finished] .badge{display:block}lr-file-item>.inner[finished] .badge{background-color:var(--clr-confirm)}lr-file-item>.inner[failed] .badge{background-color:var(--clr-error)}lr-file-item .badge lr-icon,lr-file-item .badge lr-icon svg{width:100%;height:100%}lr-file-item .progress-bar{top:calc(100% - 2px);height:2px}lr-upload-details{position:relative;display:grid;grid-template-rows:auto min-content;height:var(--modal-content-height-fill, 100%);max-height:var(--modal-max-content-height);overflow:hidden}lr-upload-details lr-tabs .tabs-context{position:relative}lr-upload-details .toolbar{display:grid;grid-template-columns:min-content min-content 1fr min-content;grid-gap:var(--gap-mid);gap:var(--gap-mid);padding:var(--gap-mid);border-top:var(--border-light)}lr-upload-details .toolbar[edit-disabled]{display:flex;justify-content:space-between}lr-upload-details .remove-btn{padding-left:.5em}lr-upload-details .detail-btn{padding-left:0;color:var(--clr-txt);background-color:var(--clr-background)}lr-upload-details .edit-btn{padding-left:.5em}lr-upload-details .details{padding:var(--gap-max)}lr-upload-details .info-block{padding-top:var(--gap-max);padding-bottom:calc(var(--gap-max) + var(--gap-table));color:var(--clr-txt);border-bottom:var(--border-light)}lr-upload-details .info-block:first-of-type{padding-top:0}lr-upload-details .info-block:last-of-type{border-bottom:none}lr-upload-details .info-block>.info-block_name{margin-bottom:.4em;color:var(--clr-txt-light);font-size:.8em}lr-upload-details .cdn-link[disabled]{pointer-events:none}lr-upload-details .cdn-link[disabled]:before{filter:grayscale(1);content:var(--l10n-not-uploaded-yet)}lr-file-preview{position:absolute;inset:0;display:flex;align-items:center;justify-content:center}lr-file-preview>lr-img{display:contents}lr-file-preview>lr-img>.img-view{position:absolute;inset:0;width:100%;max-width:100%;height:100%;max-height:100%;object-fit:scale-down}lr-message-box{position:fixed;right:var(--gap-mid);bottom:var(--gap-mid);left:var(--gap-mid);z-index:100000;display:grid;grid-template-rows:min-content auto;color:var(--clr-txt);font-size:.9em;background:var(--clr-background);border-radius:var(--border-radius-frame);box-shadow:var(--modal-shadow);transition:calc(var(--transition-duration) * 2)}lr-message-box[inline]{position:static}lr-message-box:not([active]){transform:translateY(10px);visibility:hidden;opacity:0}lr-message-box[error]{color:var(--clr-error);background-color:var(--clr-error-message-bgr)}lr-message-box .heading{display:grid;grid-template-columns:min-content auto min-content;padding:var(--gap-mid)}lr-message-box .caption{display:flex;align-items:center;word-break:break-word}lr-message-box .heading button{width:var(--ui-size);padding:0;color:currentColor;background-color:transparent;opacity:var(--opacity-normal)}lr-message-box .heading button:hover{opacity:var(--opacity-hover)}lr-message-box .heading button:active{opacity:var(--opacity-active)}lr-message-box .msg{padding:var(--gap-max);padding-top:0;text-align:left}lr-confirmation-dialog{display:block;padding:var(--gap-mid);padding-top:var(--gap-max)}lr-confirmation-dialog .message{display:flex;justify-content:center;padding:var(--gap-mid);padding-bottom:var(--gap-max);font-weight:500;font-size:1.1em}lr-confirmation-dialog .toolbar{display:grid;grid-template-columns:1fr 1fr;grid-gap:var(--gap-mid);gap:var(--gap-mid);margin-top:var(--gap-mid)}lr-progress-bar-common{position:absolute;right:0;bottom:0;left:0;z-index:10000;display:block;height:var(--gap-mid);background-color:var(--clr-background);transition:opacity .3s}lr-progress-bar-common:not([active]){opacity:0}lr-progress-bar{position:absolute;top:0;bottom:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}lr-progress-bar .progress{width:calc(var(--l-width) * 1%);height:100%;background-color:var(--clr-accent-light);transform:translate(0);opacity:1;transition:width .6s,opacity .3s}lr-progress-bar .progress--unknown{width:100%;transform-origin:0% 50%;animation:lr-indeterminateAnimation 1s infinite linear}lr-progress-bar .progress--hidden{opacity:0}@keyframes lr-indeterminateAnimation{0%{transform:translate(0) scaleX(0)}40%{transform:translate(0) scaleX(.4)}to{transform:translate(100%) scaleX(.5)}}lr-activity-caption{color:var(--clr-txt);font-size:1em}lr-activity-icon{height:var(--ui-size)}:where(.lr-cldtr-common) lr-icon{display:flex;align-items:center;justify-content:center;width:100%;height:100%}:where(.lr-cldtr-common) lr-icon svg{width:unset;height:unset}:where(.lr-cldtr-common) lr-icon:not([raw]) path{stroke-linejoin:round;fill:none;stroke:currentColor;stroke-width:1.2}:where(.lr-cldtr-icons,.lr-cldtr-common),:host{--icon-rotate: "M13.5.399902L12 1.9999l1.5 1.6M12.0234 2H14.4C16.3882 2 18 3.61178 18 5.6V8M4 17h9c.5523 0 1-.4477 1-1V7c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44771-1 1v9c0 .5523.44771 1 1 1z";--icon-mirror: "M5.00042.399902l-1.5 1.599998 1.5 1.6M15.0004.399902l1.5 1.599998-1.5 1.6M3.51995 2H16.477M8.50042 16.7V6.04604c0-.30141-.39466-.41459-.5544-.159L1.28729 16.541c-.12488.1998.01877.459.2544.459h6.65873c.16568 0 .3-.1343.3-.3zm2.99998 0V6.04604c0-.30141.3947-.41459.5544-.159L18.7135 16.541c.1249.1998-.0187.459-.2544.459h-6.6587c-.1657 0-.3-.1343-.3-.3z";--icon-flip: "M19.6001 4.99993l-1.6-1.5-1.6 1.5m3.2 9.99997l-1.6 1.5-1.6-1.5M18 3.52337V16.4765M3.3 8.49993h10.654c.3014 0 .4146-.39466.159-.5544L3.459 1.2868C3.25919 1.16192 3 1.30557 3 1.5412v6.65873c0 .16568.13432.3.3.3zm0 2.99997h10.654c.3014 0 .4146.3947.159.5544L3.459 18.7131c-.19981.1248-.459-.0188-.459-.2544v-6.6588c0-.1657.13432-.3.3-.3z";--icon-sad: "M2 17c4.41828-4 11.5817-4 16 0M16.5 5c0 .55228-.4477 1-1 1s-1-.44772-1-1 .4477-1 1-1 1 .44772 1 1zm-11 0c0 .55228-.44772 1-1 1s-1-.44772-1-1 .44772-1 1-1 1 .44772 1 1z";--icon-closeMax: "M3 3l14 14m0-14L3 17";--icon-crop: "M20 14H7.00513C6.45001 14 6 13.55 6 12.9949V0M0 6h13.0667c.5154 0 .9333.41787.9333.93333V20M14.5.399902L13 1.9999l1.5 1.6M13 2h2c1.6569 0 3 1.34315 3 3v2M5.5 19.5999l1.5-1.6-1.5-1.6M7 18H5c-1.65685 0-3-1.3431-3-3v-2";--icon-sliders: "M8 10h11M1 10h4M1 4.5h11m3 0h4m-18 11h11m3 0h4M12 4.5a1.5 1.5 0 103 0 1.5 1.5 0 10-3 0M5 10a1.5 1.5 0 103 0 1.5 1.5 0 10-3 0M12 15.5a1.5 1.5 0 103 0 1.5 1.5 0 10-3 0";--icon-filters: "M4.5 6.5a5.5 5.5 0 1011 0 5.5 5.5 0 10-11 0m-3.5 6a5.5 5.5 0 1011 0 5.5 5.5 0 10-11 0m7 0a5.5 5.5 0 1011 0 5.5 5.5 0 10-11 0";--icon-done: "M1 10.6316l5.68421 5.6842L19 4";--icon-original: "M0 40L40-.00000133";--icon-slider: "M0 10h11m0 0c0 1.1046.8954 2 2 2s2-.8954 2-2m-4 0c0-1.10457.8954-2 2-2s2 .89543 2 2m0 0h5";--icon-exposure: "M10 20v-3M2.92946 2.92897l2.12132 2.12132M0 10h3m-.07054 7.071l2.12132-2.1213M10 0v3m7.0705 14.071l-2.1213-2.1213M20 10h-3m.0705-7.07103l-2.1213 2.12132M5 10a5 5 0 1010 0 5 5 0 10-10 0";--icon-contrast: "M2 10a8 8 0 1016 0 8 8 0 10-16 0m8-8v16m8-8h-8m7.5977 2.5H10m6.24 2.5H10m7.6-7.5H10M16.2422 5H10";--icon-brightness: "M15 10c0 2.7614-2.2386 5-5 5m5-5c0-2.76142-2.2386-5-5-5m5 5h-5m0 5c-2.76142 0-5-2.2386-5-5 0-2.76142 2.23858-5 5-5m0 10V5m0 15v-3M2.92946 2.92897l2.12132 2.12132M0 10h3m-.07054 7.071l2.12132-2.1213M10 0v3m7.0705 14.071l-2.1213-2.1213M20 10h-3m.0705-7.07103l-2.1213 2.12132M14.3242 7.5H10m4.3242 5H10";--icon-gamma: "M17 3C9 6 2.5 11.5 2.5 17.5m0 0h1m-1 0v-1m14 1h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3 0h1m-3-14v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1m0 3v-1";--icon-enhance: "M19 13h-2m0 0c-2.2091 0-4-1.7909-4-4m4 4c-2.2091 0-4 1.7909-4 4m0-8V7m0 2c0 2.2091-1.7909 4-4 4m-2 0h2m0 0c2.2091 0 4 1.7909 4 4m0 0v2M8 8.5H6.5m0 0c-1.10457 0-2-.89543-2-2m2 2c-1.10457 0-2 .89543-2 2m0-4V5m0 1.5c0 1.10457-.89543 2-2 2M1 8.5h1.5m0 0c1.10457 0 2 .89543 2 2m0 0V12M12 3h-1m0 0c-.5523 0-1-.44772-1-1m1 1c-.5523 0-1 .44772-1 1m0-2V1m0 1c0 .55228-.44772 1-1 1M8 3h1m0 0c.55228 0 1 .44772 1 1m0 0v1";--icon-saturation: \'    <circle cx="10.0006" cy="10.0001" r="9" transform="rotate(90 10.0006 10.0001)" fill="url(#paint0_linear)"/>     <defs>       <linearGradient id="paint0_linear" x1="10.0006" y1="1.00009" x2="10.0006" y2="19.0001" gradientUnits="userSpaceOnUse">         <stop stop-color="#DE15FF"/>         <stop offset=".203125" stop-color="#0029FF"/>         <stop offset=".479167" stop-color="#2AE4F0"/>         <stop offset=".604167" stop-color="#15EF11"/>         <stop offset=".75" stop-color="#FAE528"/>         <stop offset="1" stop-color="#EB2A2A"/>       </linearGradient>     </defs>  \';--icon-warmth: \'    <path d="M7.5 13.0505l.42854.4199.17146-.1749v-.245h-.6zm5 0h-.6v.245l.1715.1749.4285-.4199zM8.1 3.5c0-1.04934.85066-1.9 1.9-1.9V.4C8.28792.4 6.9 1.78792 6.9 3.5h1.2zm0 9.5505V3.5H6.9v9.5505h1.2zM7.1 15.5c0-.7904.31539-1.5059.82854-2.0296l-.85708-.8398C6.34742 13.3694 5.9 14.3831 5.9 15.5h1.2zm2.9 2.9c-1.60163 0-2.9-1.2984-2.9-2.9H5.9c0 2.2644 1.83563 4.1 4.1 4.1v-1.2zm2.9-2.9c0 1.6016-1.2984 2.9-2.9 2.9v1.2c2.2644 0 4.1-1.8356 4.1-4.1h-1.2zm-.8285-2.0296c.5131.5237.8285 1.2392.8285 2.0296h1.2c0-1.1169-.4474-2.1306-1.1715-2.8694l-.857.8398zM11.9 3.5v9.5505h1.2V3.5h-1.2zM10 1.6c1.0493 0 1.9.85066 1.9 1.9h1.2c0-1.71208-1.3879-3.1-3.1-3.1v1.2z" fill="currentColor"/>    <path d="M10 14V8" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/>    <path d="M14 3h3m-3 3h3m-3 3h3m-8 6.5a1 1 0 102 0 1 1 0 10-2 0" stroke="currentColor" stroke-width="1.2"/>  \';--icon-vibrance: \'  <path d="M2.125 5.6407c-.71643 1.29152-1.12439 2.77782-1.12439 4.3594 0 1.5816.40796 3.0679 1.12439 4.3594V5.6407z" fill="url(#paint0_linear)"/>  <path d="M2.875 15.4986V4.5016c.50222-.64987 1.09136-1.22915 1.75-1.72041V17.219c-.65864-.4912-1.24778-1.0705-1.75-1.7204z" fill="url(#paint1_linear)"/>  <path d="M5.375 17.722c.54811.3291 1.13415.6014 1.75.8089V1.46929c-.61585.20751-1.20189.47984-1.75.80888V17.722z" fill="url(#paint2_linear)"/>  <path d="M7.875 1.25258V18.7476c.56442.1367 1.14962.2202 1.75.2448V1.0078c-.60038.02465-1.18558.10811-1.75.24478z" fill="url(#paint3_linear)"/>  <path d="M10.375 1.00775V18.9925c.6004-.0246 1.1856-.108 1.75-.2446V1.25228c-.5644-.13658-1.1496-.21996-1.75-.24453z" fill="url(#paint4_linear)"/>  <path d="M12.875 1.46887V18.5313c.6158-.2074 1.2019-.4796 1.75-.8085V2.27744c-.5481-.32893-1.1342-.60115-1.75-.80857z" fill="url(#paint5_linear)"/>  <path d="M15.375 2.78028V17.2199c.6586-.491 1.2477-1.0701 1.75-1.7197V4.50002c-.5023-.64963-1.0914-1.22868-1.75-1.71974z" fill="url(#paint6_linear)"/>  <path d="M17.875 5.6385v8.7232c.7172-1.292 1.1256-2.7791 1.1256-4.3616 0-1.58248-.4084-3.06956-1.1256-4.3616z" fill="url(#paint7_linear)"/>  <defs>    <linearGradient id="paint0_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint1_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint2_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint3_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint4_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint5_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint6_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>    <linearGradient id="paint7_linear" x1="19.0006" y1="10.0001" x2="1.00061" y2="10.0001" gradientUnits="userSpaceOnUse">      <stop stop-color="#DE15FF"/>      <stop offset=".203125" stop-color="#0029FF"/>      <stop offset=".479167" stop-color="#2AE4F0"/>      <stop offset=".604167" stop-color="#15EF11"/>      <stop offset=".75" stop-color="#FAE528"/>      <stop offset="1" stop-color="#EB2A2A"/>    </linearGradient>  </defs>  \'}:where(.lr-cldtr-l10n_en-US,.lr-cldtr-common),:host{--l10n-cancel: "Cancel";--l10n-apply: "Apply";--l10n-brightness: "Brightness";--l10n-exposure: "Exposure";--l10n-gamma: "Gamma";--l10n-contrast: "Contrast";--l10n-saturation: "Saturation";--l10n-vibrance: "Vibrance";--l10n-warmth: "Warmth";--l10n-enhance: "Enhance";--l10n-original: "Original"}:where(.lr-cldtr-common),:host{--rgb-primary-accent: 6, 2, 196;--rgb-text-base: 0, 0, 0;--rgb-text-accent-contrast: 255, 255, 255;--rgb-fill-contrast: 255, 255, 255;--rgb-fill-shaded: 245, 245, 245;--rgb-shadow: 0, 0, 0;--rgb-error: 209, 81, 81;--opacity-shade-mid: .2;--color-primary-accent: rgb(var(--rgb-primary-accent));--color-text-base: rgb(var(--rgb-text-base));--color-text-accent-contrast: rgb(var(--rgb-text-accent-contrast));--color-text-soft: rgb(var(--rgb-fill-contrast));--color-text-error: rgb(var(--rgb-error));--color-fill-contrast: rgb(var(--rgb-fill-contrast));--color-modal-backdrop: rgba(var(--rgb-fill-shaded), .95);--color-image-background: rgba(var(--rgb-fill-shaded));--color-outline: rgba(var(--rgb-text-base), var(--opacity-shade-mid));--color-underline: rgba(var(--rgb-text-base), .08);--color-shade: rgba(var(--rgb-text-base), .02);--color-focus-ring: var(--color-primary-accent);--color-input-placeholder: rgba(var(--rgb-text-base), .32);--color-error: rgb(var(--rgb-error));--font-size-ui: 16px;--font-size-title: 18px;--font-weight-title: 500;--font-size-soft: 14px;--size-touch-area: 40px;--size-panel-heading: 66px;--size-ui-min-width: 130px;--size-line-width: 1px;--size-modal-width: 650px;--border-radius-connect: 2px;--border-radius-editor: 3px;--border-radius-thumb: 4px;--border-radius-ui: 5px;--border-radius-base: 6px;--gap-min: 5px;--gap-mid-1: 10px;--gap-mid-2: 15px;--gap-max: 20px;--opacity-min: var(--opacity-shade-mid);--opacity-mid: .1;--opacity-max: .05;--transition-duration-2: var(--transition-duration-all, .2s);--transition-duration-3: var(--transition-duration-all, .3s);--transition-duration-4: var(--transition-duration-all, .4s);--transition-duration-5: var(--transition-duration-all, .5s);--shadow-base: 0px 5px 15px rgba(var(--rgb-shadow), .1), 0px 1px 4px rgba(var(--rgb-shadow), .15)}:where(.lr-cldtr-common) :is([can-handle-paste]:hover,[can-handle-paste]:focus),:host :is([can-handle-paste]:hover,[can-handle-paste]:focus){--can-handle-paste: "true"}:where(.lr-cldtr-common) :is([tabindex][focus-visible],[tabindex]:hover,[with-effects][focus-visible],[with-effects]:hover),:host :is([tabindex][focus-visible],[tabindex]:hover,[with-effects][focus-visible],[with-effects]:hover){--filter-effect: var(--hover-filter) !important;--opacity-effect: var(--hover-opacity) !important;--color-effect: var(--hover-color-rgb) !important}:where(.lr-cldtr-common) :is([tabindex]:active,[with-effects]:active),:host :is([tabindex]:active,[with-effects]:active){--filter-effect: var(--down-filter) !important;--opacity-effect: var(--down-opacity) !important;--color-effect: var(--down-color-rgb) !important}:where(.lr-cldtr-common) :is([tabindex][active],[with-effects][active]),:host :is([tabindex][active],[with-effects][active]){--filter-effect: var(--active-filter) !important;--opacity-effect: var(--active-opacity) !important;--color-effect: var(--active-color-rgb) !important}:where(.lr-cldtr-common) [hidden-scrollbar]::-webkit-scrollbar,:host [hidden-scrollbar]::-webkit-scrollbar{display:none}:where(.lr-cldtr-common) [hidden-scrollbar],:host [hidden-scrollbar]{-ms-overflow-style:none;scrollbar-width:none}lr-cloud-editor{display:block;width:100%;height:100%;max-height:100%;--modal-header-opacity: 1;--modal-header-height: var(--size-panel-heading);--modal-toolbar-height: var(--size-panel-heading);--transparent-pixel: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=)}lr-cloud-editor.editor_ON{--modal-header-opacity: 0;--modal-header-height: 0px;--modal-toolbar-height: calc(var(--size-panel-heading) * 2)}lr-cloud-editor.editor_OFF{--modal-header-opacity: 1;--modal-header-height: var(--size-panel-heading);--modal-toolbar-height: var(--size-panel-heading)}lr-cloud-editor>.wrapper{position:relative;display:grid;grid-template-rows:minmax(var(--l-min-img-height),var(--l-max-img-height)) minmax(var(--modal-toolbar-height),auto);height:100%;overflow:hidden;overflow-y:auto;transition:.3s;--l-min-img-height: var(--modal-toolbar-height);--l-max-img-height: 100%;--l-edit-button-width: 120px;--l-toolbar-horizontal-padding: var(--gap-mid-1)}@media only screen and (max-width: 800px){lr-cloud-editor>.wrapper{--l-edit-button-width: 70px;--l-toolbar-horizontal-padding: var(--gap-min)}}lr-cloud-editor>.wrapper>.viewport{display:flex;align-items:center;justify-content:center;overflow:hidden}lr-cloud-editor>.wrapper>.viewport>.image_container>.image{--viewer-image-opacity: 1;position:absolute;top:0;left:0;z-index:10;display:block;box-sizing:border-box;width:100%;height:100%;object-fit:scale-down;background-color:var(--color-image-background);transform:scale(1);opacity:var(--viewer-image-opacity);-webkit-user-select:none;user-select:none;pointer-events:auto}lr-cloud-editor>.wrapper>.viewport>.image_container>.image.image_visible_viewer{transition:opacity var(--transition-duration-3) ease-in-out,transform var(--transition-duration-4)}lr-cloud-editor>.wrapper>.viewport>.image_container>.image.image_hidden_to_cropper{background-image:var(--transparent-pixel);transform:scale(1);transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-end);pointer-events:none;--viewer-image-opacity: 0}lr-cloud-editor>.wrapper>.viewport>.image_container>.image.image_hidden_effects{transform:scale(1);transition:opacity var(--transition-duration-3) cubic-bezier(.5,0,1,1),transform var(--transition-duration-4);pointer-events:none;--viewer-image-opacity: 0}lr-cloud-editor>.wrapper>.viewport>.image_container{position:relative;display:block;width:100%;height:100%;background-color:var(--color-image-background);transition:var(--transition-duration-3)}lr-cloud-editor>.wrapper>.toolbar{position:relative;transition:.3s}lr-cloud-editor>.wrapper>.toolbar>.toolbar_content{position:absolute;bottom:0;left:0;box-sizing:border-box;width:100%;height:var(--modal-toolbar-height);min-height:var(--size-panel-heading);background-color:var(--color-fill-contrast)}lr-cloud-editor>.wrapper>.toolbar>.toolbar_content.toolbar_content__viewer{display:flex;align-items:center;justify-content:space-between;height:var(--size-panel-heading);padding-right:var(--l-toolbar-horizontal-padding);padding-left:var(--l-toolbar-horizontal-padding)}lr-cloud-editor>.wrapper>.toolbar>.toolbar_content.toolbar_content__editor{display:flex}lr-cloud-editor>.wrapper>.viewport>.info_pan{position:absolute;-webkit-user-select:none;user-select:none}lr-cloud-editor>.wrapper>.viewport>.file_type_outer{position:absolute;z-index:2;display:flex;max-width:120px;transform:translate(-40px);-webkit-user-select:none;user-select:none}lr-cloud-editor>.wrapper>.viewport>.file_type_outer>.file_type{padding:4px .8em}lr-cloud-editor>.wrapper>.network_problems_splash{position:absolute;z-index:4;display:flex;flex-direction:column;width:100%;height:100%;background-color:var(--color-fill-contrast)}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_content{display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_content>.network_problems_icon{display:flex;align-items:center;justify-content:center;width:40px;height:40px;color:rgba(var(--rgb-text-base),.6);background-color:rgba(var(--rgb-fill-shaded));border-radius:50%}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_content>.network_problems_text{margin-top:var(--gap-max);font-size:var(--font-size-ui)}lr-cloud-editor>.wrapper>.network_problems_splash>.network_problems_footer{display:flex;align-items:center;justify-content:center;height:var(--size-panel-heading)}lr-crop-frame>.svg{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;border-top-left-radius:var(--border-radius-base);border-top-right-radius:var(--border-radius-base);opacity:inherit;transition:var(--transition-duration-3)}lr-crop-frame>.thumb{--idle-color-rgb: var(--color-text-base);--hover-color-rgb: var(--color-primary-accent);--focus-color-rgb: var(--color-primary-accent);--down-color-rgb: var(--color-primary-accent);--color-effect: var(--idle-color-rgb);color:var(--color-effect);transition:color var(--transition-duration-3),opacity var(--transition-duration-3)}lr-crop-frame>.thumb--visible{opacity:1;pointer-events:auto}lr-crop-frame>.thumb--hidden{opacity:0;pointer-events:none}lr-crop-frame>.guides{transition:var(--transition-duration-3)}lr-crop-frame>.guides--hidden{opacity:0}lr-crop-frame>.guides--semi-hidden{opacity:.2}lr-crop-frame>.guides--visible{opacity:1}lr-editor-button-control,lr-editor-crop-button-control,lr-editor-filter-control,lr-editor-operation-control{--l-base-min-width: 40px;--l-base-height: var(--l-base-min-width);--opacity-effect: var(--idle-opacity);--color-effect: var(--idle-color-rgb);--filter-effect: var(--idle-filter);--idle-color-rgb: var(--rgb-text-base);--idle-opacity: .05;--idle-filter: 1;--hover-color-rgb: var(--idle-color-rgb);--hover-opacity: .08;--hover-filter: .8;--down-color-rgb: var(--hover-color-rgb);--down-opacity: .12;--down-filter: .6;position:relative;display:grid;grid-template-columns:var(--l-base-min-width) auto;align-items:center;height:var(--l-base-height);color:rgba(var(--idle-color-rgb));outline:none;cursor:pointer;transition:var(--l-width-transition)}lr-editor-button-control>.active,lr-editor-operation-control>.active,lr-editor-crop-button-control>.active,lr-editor-filter-control>.active{--idle-color-rgb: var(--rgb-primary-accent)}lr-editor-button-control>.not_active,lr-editor-operation-control>.not_active,lr-editor-crop-button-control>.not_active,lr-editor-filter-control>.not_active{--idle-color-rgb: var(--rgb-text-base)}lr-editor-button-control>.before,lr-editor-operation-control>.before,lr-editor-crop-button-control>.before,lr-editor-filter-control>.before{position:absolute;right:0;left:0;z-index:-1;width:100%;height:100%;background-color:rgba(var(--color-effect),var(--opacity-effect));border-radius:var(--border-radius-editor);transition:var(--transition-duration-3)}lr-editor-button-control>.title,lr-editor-operation-control>.title,lr-editor-crop-button-control>.title,lr-editor-filter-control>.title{padding-right:var(--gap-mid-1);font-size:.7em;letter-spacing:1.004px;text-transform:uppercase}lr-editor-filter-control>.preview{position:absolute;right:0;left:0;z-index:1;width:100%;height:var(--l-base-height);background-repeat:no-repeat;background-size:contain;border-radius:var(--border-radius-editor);opacity:0;filter:brightness(var(--filter-effect));transition:var(--transition-duration-3)}lr-editor-filter-control>.original-icon{color:var(--color-text-base);opacity:.3}lr-editor-image-cropper{position:absolute;top:0;left:0;z-index:10;display:block;width:100%;height:100%;opacity:0;pointer-events:none;touch-action:none}lr-editor-image-cropper.active_from_editor{transform:scale(1) translate(0);opacity:1;transition:transform var(--transition-duration-4) cubic-bezier(.37,0,.63,1) .4s,opacity var(--transition-duration-3);pointer-events:auto}lr-editor-image-cropper.active_from_viewer{transform:scale(1) translate(0);opacity:1;transition:transform var(--transition-duration-4) cubic-bezier(.37,0,.63,1) .4s,opacity var(--transition-duration-3);pointer-events:auto}lr-editor-image-cropper.inactive_to_editor{opacity:0;transition:transform var(--transition-duration-4) cubic-bezier(.37,0,.63,1),opacity var(--transition-duration-3) calc(var(--transition-duration-3) + .05s);pointer-events:none}lr-editor-image-cropper>.canvas{position:absolute;top:0;left:0;z-index:1;display:block;width:100%;height:100%}lr-editor-image-fader{position:absolute;top:0;left:0;display:block;width:100%;height:100%}lr-editor-image-fader.active_from_viewer{z-index:3;transform:scale(1);opacity:1;transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-start);pointer-events:auto}lr-editor-image-fader.active_from_cropper{z-index:3;transform:scale(1);opacity:1;transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-end);pointer-events:auto}lr-editor-image-fader.inactive_to_cropper{z-index:3;transform:scale(1);opacity:0;transition:transform var(--transition-duration-4),opacity var(--transition-duration-3) steps(1,jump-end);pointer-events:none}lr-editor-image-fader .fader-image{position:absolute;top:0;left:0;display:block;width:100%;height:100%;object-fit:scale-down;transform:scale(1);-webkit-user-select:none;user-select:none;content-visibility:auto}lr-editor-image-fader .fader-image--preview{background-color:var(--color-image-background);border-top-left-radius:var(--border-radius-base);border-top-right-radius:var(--border-radius-base);transform:scale(1);opacity:0;transition:var(--transition-duration-3)}lr-editor-scroller{display:flex;align-items:center;width:100%;height:100%;overflow-x:scroll}lr-editor-slider{display:flex;align-items:center;justify-content:center;width:100%;height:66px}lr-editor-toolbar{position:relative;width:100%;height:100%}@media only screen and (max-width: 600px){lr-editor-toolbar{--l-tab-gap: var(--gap-mid-1);--l-slider-padding: var(--gap-min);--l-controls-padding: var(--gap-min)}}@media only screen and (min-width: 601px){lr-editor-toolbar{--l-tab-gap: calc(var(--gap-mid-1) + var(--gap-max));--l-slider-padding: var(--gap-mid-1);--l-controls-padding: var(--gap-mid-1)}}lr-editor-toolbar>.toolbar-container{position:relative;width:100%;height:100%;overflow:hidden}lr-editor-toolbar>.toolbar-container>.sub-toolbar{position:absolute;display:grid;grid-template-rows:1fr 1fr;width:100%;height:100%;background-color:var(--color-fill-contrast);transition:opacity var(--transition-duration-3) ease-in-out,transform var(--transition-duration-3) ease-in-out,visibility var(--transition-duration-3) ease-in-out}lr-editor-toolbar>.toolbar-container>.sub-toolbar.sub-toolbar--visible{transform:translateY(0);opacity:1;pointer-events:auto}lr-editor-toolbar>.toolbar-container>.sub-toolbar.sub-toolbar--top-hidden{transform:translateY(100%);opacity:0;pointer-events:none}lr-editor-toolbar>.toolbar-container>.sub-toolbar.sub-toolbar--bottom-hidden{transform:translateY(-100%);opacity:0;pointer-events:none}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.controls-row{display:flex;align-items:center;justify-content:space-between;padding-right:var(--l-controls-padding);padding-left:var(--l-controls-padding)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.controls-row>.tab-toggles{position:relative;display:grid;grid-auto-flow:column;grid-gap:0px var(--l-tab-gap);align-items:center;height:100%}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.controls-row>.tab-toggles>.tab-toggles_indicator{position:absolute;bottom:0;left:0;width:var(--size-touch-area);height:2px;background-color:var(--color-primary-accent);transform:translate(0);transition:transform var(--transition-duration-3)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row{position:relative}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content{position:absolute;top:0;left:0;display:flex;width:100%;height:100%;overflow:hidden;opacity:0;content-visibility:auto}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content.tab-content--visible{opacity:1;pointer-events:auto}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content.tab-content--hidden{opacity:0;pointer-events:none}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content .controls-list_align{display:grid;grid-template-areas:". inner .";grid-template-columns:1fr auto 1fr;box-sizing:border-box;min-width:100%;padding-left:var(--gap-max)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content .controls-list_inner{display:grid;grid-area:inner;grid-auto-flow:column;grid-gap:calc((var(--gap-min) - 1px) * 3)}lr-editor-toolbar>.toolbar-container>.sub-toolbar>.tab-content-row>.tab-content .controls-list_inner:last-child{padding-right:var(--gap-max)}lr-editor-toolbar .controls-list_last-item{margin-right:var(--gap-max)}lr-editor-toolbar .filter-tooltip_container{position:absolute;display:flex;align-items:flex-start;justify-content:center;width:100%;height:100%}lr-editor-toolbar .filter-tooltip_wrapper{position:absolute;top:calc(-100% - var(--gap-mid-2));display:flex;flex-direction:column;justify-content:flex-end;height:100%;pointer-events:none}lr-editor-toolbar .filter-tooltip{z-index:3;padding-top:calc(var(--gap-min) / 2);padding-right:var(--gap-min);padding-bottom:calc(var(--gap-min) / 2);padding-left:var(--gap-min);color:var(--color-text-base);font-size:.7em;letter-spacing:1px;text-transform:uppercase;background-color:var(--color-text-accent-contrast);border-radius:var(--border-radius-editor);opacity:0;transition:var(--transition-duration-3)}lr-editor-toolbar .filter-tooltip_visible{transform:translateY(0);opacity:1}lr-editor-toolbar .filter-tooltip_hidden{transform:translateY(100%);opacity:0}lr-editor-toolbar .slider{padding-right:var(--l-slider-padding);padding-left:var(--l-slider-padding)}lr-btn-ui{--filter-effect: var(--idle-brightness);--opacity-effect: var(--idle-opacity);--color-effect: var(--idle-color-rgb);--l-transition-effect: var(--css-transition, color var(--transition-duration-2), filter var(--transition-duration-2));display:inline-flex;align-items:center;box-sizing:var(--css-box-sizing, border-box);height:var(--css-height, var(--size-touch-area));padding-right:var(--css-padding-right, var(--gap-mid-1));padding-left:var(--css-padding-left, var(--gap-mid-1));color:rgba(var(--color-effect),var(--opacity-effect));outline:none;cursor:pointer;filter:brightness(var(--filter-effect));transition:var(--l-transition-effect);-webkit-user-select:none;user-select:none}lr-btn-ui .text{white-space:nowrap}lr-btn-ui .icon{display:flex;align-items:center;justify-content:center;color:rgba(var(--color-effect),var(--opacity-effect));filter:brightness(var(--filter-effect));transition:var(--l-transition-effect)}lr-btn-ui .icon_left{margin-right:var(--gap-mid-1);margin-left:0}lr-btn-ui .icon_right{margin-right:0;margin-left:var(--gap-mid-1)}lr-btn-ui .icon_single{margin-right:0;margin-left:0}lr-btn-ui .icon_hidden{display:none;margin:0}lr-btn-ui.primary{--idle-color-rgb: var(--rgb-primary-accent);--idle-brightness: 1;--idle-opacity: .6;--hover-color-rgb: var(--idle-color-rgb);--hover-brightness: 1;--hover-opacity: 1;--down-color-rgb: var(--hover-color-rgb);--down-brightness: .75;--down-opacity: 1;--active-color-rgb: var(--rgb-primary-accent);--active-brightness: 1;--active-opacity: 1}lr-btn-ui.boring{--idle-color-rgb: var(--rgb-text-base);--idle-brightness: 1;--idle-opacity: .6;--hover-color-rgb: var(--rgb-text-base);--hover-brightness: 1;--hover-opacity: 1;--down-color-rgb: var(--hover-color-rgb);--down-brightness: 1;--down-opacity: 1;--active-color-rgb: var(--rgb-primary-accent);--active-brightness: 1;--active-opacity: 1}lr-btn-ui.default{--idle-color-rgb: var(--rgb-text-base);--idle-brightness: 1;--idle-opacity: .6;--hover-color-rgb: var(--rgb-primary-accent);--hover-brightness: 1;--hover-opacity: 1;--down-color-rgb: var(--hover-color-rgb);--down-brightness: .75;--down-opacity: 1;--active-color-rgb: var(--rgb-primary-accent);--active-brightness: 1;--active-opacity: 1}lr-line-loader-ui{position:absolute;top:0;left:0;z-index:9999;width:100%;height:2px;opacity:.5}lr-line-loader-ui .inner{width:25%;max-width:200px;height:100%}lr-line-loader-ui .line{width:100%;height:100%;background-color:var(--color-primary-accent);transform:translate(-101%);transition:transform 1s}lr-slider-ui{--l-thumb-size: 24px;--l-zero-dot-size: 5px;--l-zero-dot-offset: 2px;--idle-color-rgb: var(--rgb-text-base);--hover-color-rgb: var(--rgb-primary-accent);--down-color-rgb: var(--rgb-primary-accent);--color-effect: var(--idle-color-rgb);--l-color: rgb(var(--color-effect));position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:calc(var(--l-thumb-size) + (var(--l-zero-dot-size) + var(--l-zero-dot-offset)) * 2)}lr-slider-ui .thumb{position:absolute;left:0;width:var(--l-thumb-size);height:var(--l-thumb-size);background-color:var(--l-color);border-radius:50%;transform:translate(0);opacity:1;transition:opacity var(--transition-duration-2)}lr-slider-ui .steps{position:absolute;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;width:100%;height:100%;padding-right:calc(var(--l-thumb-size) / 2);padding-left:calc(var(--l-thumb-size) / 2)}lr-slider-ui .border-step{width:0px;height:10px;border-right:1px solid var(--l-color);opacity:.6;transition:var(--transition-duration-2)}lr-slider-ui .minor-step{width:0px;height:4px;border-right:1px solid var(--l-color);opacity:.2;transition:var(--transition-duration-2)}lr-slider-ui .zero-dot{position:absolute;top:calc(100% - var(--l-zero-dot-offset) * 2);left:calc(var(--l-thumb-size) / 2 - var(--l-zero-dot-size) / 2);width:var(--l-zero-dot-size);height:var(--l-zero-dot-size);background-color:var(--color-primary-accent);border-radius:50%;opacity:0;transition:var(--transition-duration-3)}lr-slider-ui .input{position:absolute;width:calc(100% - 10px);height:100%;margin:0;cursor:pointer;opacity:0}lr-presence-toggle.transition{transition:opacity var(--transition-duration-3),visibility var(--transition-duration-3)}lr-presence-toggle.visible{opacity:1;pointer-events:inherit}lr-presence-toggle.hidden{opacity:0;pointer-events:none}ctx-provider{--color-text-base: black;--color-primary-accent: blue;display:flex;align-items:center;justify-content:center;width:190px;height:40px;padding-right:10px;padding-left:10px;background-color:#f5f5f5;border-radius:3px}lr-cloud-image-editor{position:relative;display:flex;width:100%;height:var(--modal-content-height-fill, 100%);overflow:hidden}lr-select{display:inline-flex}lr-select>button{position:relative;display:inline-flex;align-items:center;padding-right:0;color:var(--clr-btn-txt-secondary);background-color:var(--clr-btn-bgr-secondary);box-shadow:var(--shadow-btn-secondary)}lr-select>button>select{position:absolute;display:block;width:100%;height:100%;opacity:0}.wrapper{display:flex;flex-direction:column;grid-gap:32px;padding:32px}.output{display:grid;grid-gap:8px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));width:100%;max-width:1000px}.uploader-cfg{--ctx-name: "uploader";--cfg-pubkey: "demopublickey";--cfg-multiple: 1;--cfg-confirm-upload: 1;--cfg-img-only: 0;--cfg-accept: "";--cfg-store: 1;--cfg-camera-mirror: 0;--cfg-source-list: "local, url, camera, dropbox, gdrive";--cfg-max-files: 10}\n'],encapsulation:3}),t})(),hM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Ur({type:t,bootstrap:[fM]}),t.\u0275inj=Hn({providers:[],imports:[[fT]]}),t})();(function KE(){sm=!1})(),uT().bootstrapModule(hM).catch(t=>console.error(t))}},Se=>{Se(Se.s=762)}]);